var nC=Object.defineProperty;var iC=(n,e,t)=>e in n?nC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var rC=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Pe=(n,e,t)=>iC(n,typeof e!="symbol"?e+"":e,t);var DV=rC((XV,_o)=>{var sC=Object.create,Cw=Object.defineProperty,oC=Object.getOwnPropertyDescriptor,Ew=Object.getOwnPropertyNames,aC=Object.getPrototypeOf,lC=Object.prototype.hasOwnProperty,_r=(n,e)=>function(){return e||(0,n[Ew(n)[0]])((e={exports:{}}).exports,e),e.exports},cC=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Ew(e))!lC.call(n,r)&&r!==t&&Cw(n,r,{get:()=>e[r],enumerable:!(i=oC(e,r))||i.enumerable});return n},Vt=(n,e,t)=>(t=n!=null?sC(aC(n)):{},cC(!n||!n.__esModule?Cw(t,"default",{value:n,enumerable:!0}):t,n)),Rn=_r({"../alpine/packages/alpinejs/dist/module.cjs.js"(n,e){var t=Object.create,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,l=(h,b)=>function(){return b||(0,h[s(h)[0]])((b={exports:{}}).exports,b),b.exports},c=(h,b)=>{for(var w in b)i(h,w,{get:b[w],enumerable:!0})},u=(h,b,w,C)=>{if(b&&typeof b=="object"||typeof b=="function")for(let R of s(b))!a.call(h,R)&&R!==w&&i(h,R,{get:()=>b[R],enumerable:!(C=r(b,R))||C.enumerable});return h},d=(h,b,w)=>(w=h!=null?t(o(h)):{},u(!h||!h.__esModule?i(w,"default",{value:h,enumerable:!0}):w,h)),f=h=>u(i({},"__esModule",{value:!0}),h),p=l({"node_modules/@vue/shared/dist/shared.cjs.js"(h){Object.defineProperty(h,"__esModule",{value:!0});function b(H,fe){const Se=Object.create(null),He=H.split(",");for(let Tt=0;Tt<He.length;Tt++)Se[He[Tt]]=!0;return fe?Tt=>!!Se[Tt.toLowerCase()]:Tt=>!!Se[Tt]}var w={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},C={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},R="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",I=b(R),L=2;function W(H,fe=0,Se=H.length){let He=H.split(/(\r?\n)/);const Tt=He.filter((Hn,xn)=>xn%2===1);He=He.filter((Hn,xn)=>xn%2===0);let Gt=0;const Bn=[];for(let Hn=0;Hn<He.length;Hn++)if(Gt+=He[Hn].length+(Tt[Hn]&&Tt[Hn].length||0),Gt>=fe){for(let xn=Hn-L;xn<=Hn+L||Se>Gt;xn++){if(xn<0||xn>=He.length)continue;const il=xn+1;Bn.push(`${il}${" ".repeat(Math.max(3-String(il).length,0))}|  ${He[xn]}`);const Xo=He[xn].length,Xc=Tt[xn]&&Tt[xn].length||0;if(xn===Hn){const Zo=fe-(Gt-(Xo+Xc)),dh=Math.max(1,Se>Gt?Xo-Zo:Se-fe);Bn.push("   |  "+" ".repeat(Zo)+"^".repeat(dh))}else if(xn>Hn){if(Se>Gt){const Zo=Math.max(Math.min(Se-Gt,Xo),1);Bn.push("   |  "+"^".repeat(Zo))}Gt+=Xo+Xc}}break}return Bn.join(`
`)}var X="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_e=b(X),ot=b(X+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),qt=/[>/="'\u0009\u000a\u000c\u0020]/,kt={};function jt(H){if(kt.hasOwnProperty(H))return kt[H];const fe=qt.test(H);return fe&&console.error(`unsafe attribute name: ${H}`),kt[H]=!fe}var oi={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},or=b("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Ge=b("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function Rt(H){if(Ui(H)){const fe={};for(let Se=0;Se<H.length;Se++){const He=H[Se],Tt=Rt(Ws(He)?Fn(He):He);if(Tt)for(const Gt in Tt)fe[Gt]=Tt[Gt]}return fe}else if(lr(H))return H}var ft=/;(?![^(]*\))/g,Ot=/:(.+)/;function Fn(H){const fe={};return H.split(ft).forEach(Se=>{if(Se){const He=Se.split(Ot);He.length>1&&(fe[He[0].trim()]=He[1].trim())}}),fe}function Yi(H){let fe="";if(!H)return fe;for(const Se in H){const He=H[Se],Tt=Se.startsWith("--")?Se:Jc(Se);(Ws(He)||typeof He=="number"&&or(Tt))&&(fe+=`${Tt}:${He};`)}return fe}function ar(H){let fe="";if(Ws(H))fe=H;else if(Ui(H))for(let Se=0;Se<H.length;Se++){const He=ar(H[Se]);He&&(fe+=He+" ")}else if(lr(H))for(const Se in H)H[Se]&&(fe+=Se+" ");return fe.trim()}var Ho="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Ja="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Ga="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",zo=b(Ho),Qf=b(Ja),jo=b(Ga),eh=/["'&<>]/;function th(H){const fe=""+H,Se=eh.exec(fe);if(!Se)return fe;let He="",Tt,Gt,Bn=0;for(Gt=Se.index;Gt<fe.length;Gt++){switch(fe.charCodeAt(Gt)){case 34:Tt="&quot;";break;case 38:Tt="&amp;";break;case 39:Tt="&#39;";break;case 60:Tt="&lt;";break;case 62:Tt="&gt;";break;default:continue}Bn!==Gt&&(He+=fe.substring(Bn,Gt)),Bn=Gt+1,He+=Tt}return Bn!==Gt?He+fe.substring(Bn,Gt):He}var Lc=/^-?>|<!--|-->|--!>|<!-$/g;function nh(H){return H.replace(Lc,"")}function ih(H,fe){if(H.length!==fe.length)return!1;let Se=!0;for(let He=0;Se&&He<H.length;He++)Se=$o(H[He],fe[He]);return Se}function $o(H,fe){if(H===fe)return!0;let Se=el(H),He=el(fe);if(Se||He)return Se&&He?H.getTime()===fe.getTime():!1;if(Se=Ui(H),He=Ui(fe),Se||He)return Se&&He?ih(H,fe):!1;if(Se=lr(H),He=lr(fe),Se||He){if(!Se||!He)return!1;const Tt=Object.keys(H).length,Gt=Object.keys(fe).length;if(Tt!==Gt)return!1;for(const Bn in H){const Hn=H.hasOwnProperty(Bn),xn=fe.hasOwnProperty(Bn);if(Hn&&!xn||!Hn&&xn||!$o(H[Bn],fe[Bn]))return!1}}return String(H)===String(fe)}function Fc(H,fe){return H.findIndex(Se=>$o(Se,fe))}var Bc=H=>H==null?"":lr(H)?JSON.stringify(H,rh,2):String(H),rh=(H,fe)=>$s(fe)?{[`Map(${fe.size})`]:[...fe.entries()].reduce((Se,[He,Tt])=>(Se[`${He} =>`]=Tt,Se),{})}:qi(fe)?{[`Set(${fe.size})`]:[...fe.values()]}:lr(fe)&&!Ui(fe)&&!Vc(fe)?String(fe):fe,sh=["bigInt","optionalChaining","nullishCoalescingOperator"],Xa=Object.freeze({}),Za=Object.freeze([]),Qa=()=>{},Wo=()=>!1,Vo=/^on[^a-z]/,Yo=H=>Vo.test(H),Uo=H=>H.startsWith("onUpdate:"),Hc=Object.assign,zc=(H,fe)=>{const Se=H.indexOf(fe);Se>-1&&H.splice(Se,1)},jc=Object.prototype.hasOwnProperty,$c=(H,fe)=>jc.call(H,fe),Ui=Array.isArray,$s=H=>Vs(H)==="[object Map]",qi=H=>Vs(H)==="[object Set]",el=H=>H instanceof Date,tl=H=>typeof H=="function",Ws=H=>typeof H=="string",oh=H=>typeof H=="symbol",lr=H=>H!==null&&typeof H=="object",qo=H=>lr(H)&&tl(H.then)&&tl(H.catch),Wc=Object.prototype.toString,Vs=H=>Wc.call(H),ah=H=>Vs(H).slice(8,-1),Vc=H=>Vs(H)==="[object Object]",Yc=H=>Ws(H)&&H!=="NaN"&&H[0]!=="-"&&""+parseInt(H,10)===H,Uc=b(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ys=H=>{const fe=Object.create(null);return Se=>fe[Se]||(fe[Se]=H(Se))},qc=/-(\w)/g,Kc=Ys(H=>H.replace(qc,(fe,Se)=>Se?Se.toUpperCase():"")),lh=/\B([A-Z])/g,Jc=Ys(H=>H.replace(lh,"-$1").toLowerCase()),Us=Ys(H=>H.charAt(0).toUpperCase()+H.slice(1)),ch=Ys(H=>H?`on${Us(H)}`:""),nl=(H,fe)=>H!==fe&&(H===H||fe===fe),uh=(H,fe)=>{for(let Se=0;Se<H.length;Se++)H[Se](fe)},Ko=(H,fe,Se)=>{Object.defineProperty(H,fe,{configurable:!0,enumerable:!1,value:Se})},Jo=H=>{const fe=parseFloat(H);return isNaN(fe)?H:fe},Go,Gc=()=>Go||(Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});h.EMPTY_ARR=Za,h.EMPTY_OBJ=Xa,h.NO=Wo,h.NOOP=Qa,h.PatchFlagNames=w,h.babelParserDefaultPlugins=sh,h.camelize=Kc,h.capitalize=Us,h.def=Ko,h.escapeHtml=th,h.escapeHtmlComment=nh,h.extend=Hc,h.generateCodeFrame=W,h.getGlobalThis=Gc,h.hasChanged=nl,h.hasOwn=$c,h.hyphenate=Jc,h.invokeArrayFns=uh,h.isArray=Ui,h.isBooleanAttr=ot,h.isDate=el,h.isFunction=tl,h.isGloballyWhitelisted=I,h.isHTMLTag=zo,h.isIntegerKey=Yc,h.isKnownAttr=Ge,h.isMap=$s,h.isModelListener=Uo,h.isNoUnitNumericStyleProp=or,h.isObject=lr,h.isOn=Yo,h.isPlainObject=Vc,h.isPromise=qo,h.isReservedProp=Uc,h.isSSRSafeAttrName=jt,h.isSVGTag=Qf,h.isSet=qi,h.isSpecialBooleanAttr=_e,h.isString=Ws,h.isSymbol=oh,h.isVoidTag=jo,h.looseEqual=$o,h.looseIndexOf=Fc,h.makeMap=b,h.normalizeClass=ar,h.normalizeStyle=Rt,h.objectToString=Wc,h.parseStringStyle=Fn,h.propsToAttrMap=oi,h.remove=zc,h.slotFlagsText=C,h.stringifyStyle=Yi,h.toDisplayString=Bc,h.toHandlerKey=ch,h.toNumber=Jo,h.toRawType=ah,h.toTypeString=Vs}}),m=l({"node_modules/@vue/shared/index.js"(h,b){b.exports=p()}}),g=l({"node_modules/@vue/reactivity/dist/reactivity.cjs.js"(h){Object.defineProperty(h,"__esModule",{value:!0});var b=m(),w=new WeakMap,C=[],R,I=Symbol("iterate"),L=Symbol("Map key iterate");function W(M){return M&&M._isEffect===!0}function X(M,q=b.EMPTY_OBJ){W(M)&&(M=M.raw);const G=qt(M,q);return q.lazy||G(),G}function _e(M){M.active&&(kt(M),M.options.onStop&&M.options.onStop(),M.active=!1)}var ot=0;function qt(M,q){const G=function(){if(!G.active)return M();if(!C.includes(G)){kt(G);try{return Ge(),C.push(G),R=G,M()}finally{C.pop(),Rt(),R=C[C.length-1]}}};return G.id=ot++,G.allowRecurse=!!q.allowRecurse,G._isEffect=!0,G.active=!0,G.raw=M,G.deps=[],G.options=q,G}function kt(M){const{deps:q}=M;if(q.length){for(let G=0;G<q.length;G++)q[G].delete(M);q.length=0}}var jt=!0,oi=[];function or(){oi.push(jt),jt=!1}function Ge(){oi.push(jt),jt=!0}function Rt(){const M=oi.pop();jt=M===void 0?!0:M}function ft(M,q,G){if(!jt||R===void 0)return;let Ae=w.get(M);Ae||w.set(M,Ae=new Map);let ye=Ae.get(G);ye||Ae.set(G,ye=new Set),ye.has(R)||(ye.add(R),R.deps.push(ye),R.options.onTrack&&R.options.onTrack({effect:R,target:M,type:q,key:G}))}function Ot(M,q,G,Ae,ye,$e){const ht=w.get(M);if(!ht)return;const rn=new Set,zn=Tn=>{Tn&&Tn.forEach(Ki=>{(Ki!==R||Ki.allowRecurse)&&rn.add(Ki)})};if(q==="clear")ht.forEach(zn);else if(G==="length"&&b.isArray(M))ht.forEach((Tn,Ki)=>{(Ki==="length"||Ki>=Ae)&&zn(Tn)});else switch(G!==void 0&&zn(ht.get(G)),q){case"add":b.isArray(M)?b.isIntegerKey(G)&&zn(ht.get("length")):(zn(ht.get(I)),b.isMap(M)&&zn(ht.get(L)));break;case"delete":b.isArray(M)||(zn(ht.get(I)),b.isMap(M)&&zn(ht.get(L)));break;case"set":b.isMap(M)&&zn(ht.get(I));break}const rl=Tn=>{Tn.options.onTrigger&&Tn.options.onTrigger({effect:Tn,target:M,key:G,type:q,newValue:Ae,oldValue:ye,oldTarget:$e}),Tn.options.scheduler?Tn.options.scheduler(Tn):Tn()};rn.forEach(rl)}var Fn=b.makeMap("__proto__,__v_isRef,__isVue"),Yi=new Set(Object.getOwnPropertyNames(Symbol).map(M=>Symbol[M]).filter(b.isSymbol)),ar=jo(),Ho=jo(!1,!0),Ja=jo(!0),Ga=jo(!0,!0),zo=Qf();function Qf(){const M={};return["includes","indexOf","lastIndexOf"].forEach(q=>{M[q]=function(...G){const Ae=H(this);for(let $e=0,ht=this.length;$e<ht;$e++)ft(Ae,"get",$e+"");const ye=Ae[q](...G);return ye===-1||ye===!1?Ae[q](...G.map(H)):ye}}),["push","pop","shift","unshift","splice"].forEach(q=>{M[q]=function(...G){or();const Ae=H(this)[q].apply(this,G);return Rt(),Ae}}),M}function jo(M=!1,q=!1){return function(Ae,ye,$e){if(ye==="__v_isReactive")return!M;if(ye==="__v_isReadonly")return M;if(ye==="__v_raw"&&$e===(M?q?Kc:qc:q?Ys:Uc).get(Ae))return Ae;const ht=b.isArray(Ae);if(!M&&ht&&b.hasOwn(zo,ye))return Reflect.get(zo,ye,$e);const rn=Reflect.get(Ae,ye,$e);return(b.isSymbol(ye)?Yi.has(ye):Fn(ye))||(M||ft(Ae,"get",ye),q)?rn:He(rn)?!ht||!b.isIntegerKey(ye)?rn.value:rn:b.isObject(rn)?M?nl(rn):Us(rn):rn}}var eh=Lc(),th=Lc(!0);function Lc(M=!1){return function(G,Ae,ye,$e){let ht=G[Ae];if(!M&&(ye=H(ye),ht=H(ht),!b.isArray(G)&&He(ht)&&!He(ye)))return ht.value=ye,!0;const rn=b.isArray(G)&&b.isIntegerKey(Ae)?Number(Ae)<G.length:b.hasOwn(G,Ae),zn=Reflect.set(G,Ae,ye,$e);return G===H($e)&&(rn?b.hasChanged(ye,ht)&&Ot(G,"set",Ae,ye,ht):Ot(G,"add",Ae,ye)),zn}}function nh(M,q){const G=b.hasOwn(M,q),Ae=M[q],ye=Reflect.deleteProperty(M,q);return ye&&G&&Ot(M,"delete",q,void 0,Ae),ye}function ih(M,q){const G=Reflect.has(M,q);return(!b.isSymbol(q)||!Yi.has(q))&&ft(M,"has",q),G}function $o(M){return ft(M,"iterate",b.isArray(M)?"length":I),Reflect.ownKeys(M)}var Fc={get:ar,set:eh,deleteProperty:nh,has:ih,ownKeys:$o},Bc={get:Ja,set(M,q){return console.warn(`Set operation on key "${String(q)}" failed: target is readonly.`,M),!0},deleteProperty(M,q){return console.warn(`Delete operation on key "${String(q)}" failed: target is readonly.`,M),!0}},rh=b.extend({},Fc,{get:Ho,set:th}),sh=b.extend({},Bc,{get:Ga}),Xa=M=>b.isObject(M)?Us(M):M,Za=M=>b.isObject(M)?nl(M):M,Qa=M=>M,Wo=M=>Reflect.getPrototypeOf(M);function Vo(M,q,G=!1,Ae=!1){M=M.__v_raw;const ye=H(M),$e=H(q);q!==$e&&!G&&ft(ye,"get",q),!G&&ft(ye,"get",$e);const{has:ht}=Wo(ye),rn=Ae?Qa:G?Za:Xa;if(ht.call(ye,q))return rn(M.get(q));if(ht.call(ye,$e))return rn(M.get($e));M!==ye&&M.get(q)}function Yo(M,q=!1){const G=this.__v_raw,Ae=H(G),ye=H(M);return M!==ye&&!q&&ft(Ae,"has",M),!q&&ft(Ae,"has",ye),M===ye?G.has(M):G.has(M)||G.has(ye)}function Uo(M,q=!1){return M=M.__v_raw,!q&&ft(H(M),"iterate",I),Reflect.get(M,"size",M)}function Hc(M){M=H(M);const q=H(this);return Wo(q).has.call(q,M)||(q.add(M),Ot(q,"add",M,M)),this}function zc(M,q){q=H(q);const G=H(this),{has:Ae,get:ye}=Wo(G);let $e=Ae.call(G,M);$e?Yc(G,Ae,M):(M=H(M),$e=Ae.call(G,M));const ht=ye.call(G,M);return G.set(M,q),$e?b.hasChanged(q,ht)&&Ot(G,"set",M,q,ht):Ot(G,"add",M,q),this}function jc(M){const q=H(this),{has:G,get:Ae}=Wo(q);let ye=G.call(q,M);ye?Yc(q,G,M):(M=H(M),ye=G.call(q,M));const $e=Ae?Ae.call(q,M):void 0,ht=q.delete(M);return ye&&Ot(q,"delete",M,void 0,$e),ht}function $c(){const M=H(this),q=M.size!==0,G=b.isMap(M)?new Map(M):new Set(M),Ae=M.clear();return q&&Ot(M,"clear",void 0,void 0,G),Ae}function Ui(M,q){return function(Ae,ye){const $e=this,ht=$e.__v_raw,rn=H(ht),zn=q?Qa:M?Za:Xa;return!M&&ft(rn,"iterate",I),ht.forEach((rl,Tn)=>Ae.call(ye,zn(rl),zn(Tn),$e))}}function $s(M,q,G){return function(...Ae){const ye=this.__v_raw,$e=H(ye),ht=b.isMap($e),rn=M==="entries"||M===Symbol.iterator&&ht,zn=M==="keys"&&ht,rl=ye[M](...Ae),Tn=G?Qa:q?Za:Xa;return!q&&ft($e,"iterate",zn?L:I),{next(){const{value:Ki,done:fh}=rl.next();return fh?{value:Ki,done:fh}:{value:rn?[Tn(Ki[0]),Tn(Ki[1])]:Tn(Ki),done:fh}},[Symbol.iterator](){return this}}}}function qi(M){return function(...q){{const G=q[0]?`on key "${q[0]}" `:"";console.warn(`${b.capitalize(M)} operation ${G}failed: target is readonly.`,H(this))}return M==="delete"?!1:this}}function el(){const M={get($e){return Vo(this,$e)},get size(){return Uo(this)},has:Yo,add:Hc,set:zc,delete:jc,clear:$c,forEach:Ui(!1,!1)},q={get($e){return Vo(this,$e,!1,!0)},get size(){return Uo(this)},has:Yo,add:Hc,set:zc,delete:jc,clear:$c,forEach:Ui(!1,!0)},G={get($e){return Vo(this,$e,!0)},get size(){return Uo(this,!0)},has($e){return Yo.call(this,$e,!0)},add:qi("add"),set:qi("set"),delete:qi("delete"),clear:qi("clear"),forEach:Ui(!0,!1)},Ae={get($e){return Vo(this,$e,!0,!0)},get size(){return Uo(this,!0)},has($e){return Yo.call(this,$e,!0)},add:qi("add"),set:qi("set"),delete:qi("delete"),clear:qi("clear"),forEach:Ui(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach($e=>{M[$e]=$s($e,!1,!1),G[$e]=$s($e,!0,!1),q[$e]=$s($e,!1,!0),Ae[$e]=$s($e,!0,!0)}),[M,G,q,Ae]}var[tl,Ws,oh,lr]=el();function qo(M,q){const G=q?M?lr:oh:M?Ws:tl;return(Ae,ye,$e)=>ye==="__v_isReactive"?!M:ye==="__v_isReadonly"?M:ye==="__v_raw"?Ae:Reflect.get(b.hasOwn(G,ye)&&ye in Ae?G:Ae,ye,$e)}var Wc={get:qo(!1,!1)},Vs={get:qo(!1,!0)},ah={get:qo(!0,!1)},Vc={get:qo(!0,!0)};function Yc(M,q,G){const Ae=H(G);if(Ae!==G&&q.call(M,Ae)){const ye=b.toRawType(M);console.warn(`Reactive ${ye} contains both the raw and reactive versions of the same object${ye==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Uc=new WeakMap,Ys=new WeakMap,qc=new WeakMap,Kc=new WeakMap;function lh(M){switch(M){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jc(M){return M.__v_skip||!Object.isExtensible(M)?0:lh(b.toRawType(M))}function Us(M){return M&&M.__v_isReadonly?M:Ko(M,!1,Fc,Wc,Uc)}function ch(M){return Ko(M,!1,rh,Vs,Ys)}function nl(M){return Ko(M,!0,Bc,ah,qc)}function uh(M){return Ko(M,!0,sh,Vc,Kc)}function Ko(M,q,G,Ae,ye){if(!b.isObject(M))return console.warn(`value cannot be made reactive: ${String(M)}`),M;if(M.__v_raw&&!(q&&M.__v_isReactive))return M;const $e=ye.get(M);if($e)return $e;const ht=Jc(M);if(ht===0)return M;const rn=new Proxy(M,ht===2?Ae:G);return ye.set(M,rn),rn}function Jo(M){return Go(M)?Jo(M.__v_raw):!!(M&&M.__v_isReactive)}function Go(M){return!!(M&&M.__v_isReadonly)}function Gc(M){return Jo(M)||Go(M)}function H(M){return M&&H(M.__v_raw)||M}function fe(M){return b.def(M,"__v_skip",!0),M}var Se=M=>b.isObject(M)?Us(M):M;function He(M){return!!(M&&M.__v_isRef===!0)}function Tt(M){return Hn(M)}function Gt(M){return Hn(M,!0)}var Bn=class{constructor(M,q=!1){this._shallow=q,this.__v_isRef=!0,this._rawValue=q?M:H(M),this._value=q?M:Se(M)}get value(){return ft(H(this),"get","value"),this._value}set value(M){M=this._shallow?M:H(M),b.hasChanged(M,this._rawValue)&&(this._rawValue=M,this._value=this._shallow?M:Se(M),Ot(H(this),"set","value",M))}};function Hn(M,q=!1){return He(M)?M:new Bn(M,q)}function xn(M){Ot(H(M),"set","value",M.value)}function il(M){return He(M)?M.value:M}var Xo={get:(M,q,G)=>il(Reflect.get(M,q,G)),set:(M,q,G,Ae)=>{const ye=M[q];return He(ye)&&!He(G)?(ye.value=G,!0):Reflect.set(M,q,G,Ae)}};function Xc(M){return Jo(M)?M:new Proxy(M,Xo)}var Zo=class{constructor(M){this.__v_isRef=!0;const{get:q,set:G}=M(()=>ft(this,"get","value"),()=>Ot(this,"set","value"));this._get=q,this._set=G}get value(){return this._get()}set value(M){this._set(M)}};function dh(M){return new Zo(M)}function ZM(M){Gc(M)||console.warn("toRefs() expects a reactive object but received a plain one.");const q=b.isArray(M)?new Array(M.length):{};for(const G in M)q[G]=zy(M,G);return q}var QM=class{constructor(M,q){this._object=M,this._key=q,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(M){this._object[this._key]=M}};function zy(M,q){return He(M[q])?M[q]:new QM(M,q)}var eC=class{constructor(M,q,G){this._setter=q,this._dirty=!0,this.__v_isRef=!0,this.effect=X(M,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,Ot(H(this),"set","value"))}}),this.__v_isReadonly=G}get value(){const M=H(this);return M._dirty&&(M._value=this.effect(),M._dirty=!1),ft(M,"get","value"),M._value}set value(M){this._setter(M)}};function tC(M){let q,G;return b.isFunction(M)?(q=M,G=()=>{console.warn("Write operation failed: computed value is readonly")}):(q=M.get,G=M.set),new eC(q,G,b.isFunction(M)||!M.set)}h.ITERATE_KEY=I,h.computed=tC,h.customRef=dh,h.effect=X,h.enableTracking=Ge,h.isProxy=Gc,h.isReactive=Jo,h.isReadonly=Go,h.isRef=He,h.markRaw=fe,h.pauseTracking=or,h.proxyRefs=Xc,h.reactive=Us,h.readonly=nl,h.ref=Tt,h.resetTracking=Rt,h.shallowReactive=ch,h.shallowReadonly=uh,h.shallowRef=Gt,h.stop=_e,h.toRaw=H,h.toRef=zy,h.toRefs=ZM,h.track=ft,h.trigger=Ot,h.triggerRef=xn,h.unref=il}}),y=l({"node_modules/@vue/reactivity/index.js"(h,b){b.exports=g()}}),v={};c(v,{Alpine:()=>Hy,default:()=>XM}),e.exports=f(v);var x=!1,S=!1,O=[],T=-1;function A(h){D(h)}function D(h){O.includes(h)||O.push(h),B()}function P(h){let b=O.indexOf(h);b!==-1&&b>T&&O.splice(b,1)}function B(){!S&&!x&&(x=!0,queueMicrotask(Y))}function Y(){x=!1,S=!0;for(let h=0;h<O.length;h++)O[h](),T=h;O.length=0,T=-1,S=!1}var ee,U,me,Ze,Te=!0;function qe(h){Te=!1,h(),Te=!0}function Ke(h){ee=h.reactive,me=h.release,U=b=>h.effect(b,{scheduler:w=>{Te?A(w):w()}}),Ze=h.raw}function _t(h){U=h}function mt(h){let b=()=>{};return[C=>{let R=U(C);return h._x_effects||(h._x_effects=new Set,h._x_runEffects=()=>{h._x_effects.forEach(I=>I())}),h._x_effects.add(R),b=()=>{R!==void 0&&(h._x_effects.delete(R),me(R))},R},()=>{b()}]}function tn(h,b){let w=!0,C,R=U(()=>{let I=h();JSON.stringify(I),w?C=I:queueMicrotask(()=>{b(I,C),C=I}),w=!1});return()=>me(R)}var ze=[],Re=[],je=[];function Be(h){je.push(h)}function be(h,b){typeof b=="function"?(h._x_cleanups||(h._x_cleanups=[]),h._x_cleanups.push(b)):(b=h,Re.push(b))}function ue(h){ze.push(h)}function yt(h,b,w){h._x_attributeCleanups||(h._x_attributeCleanups={}),h._x_attributeCleanups[b]||(h._x_attributeCleanups[b]=[]),h._x_attributeCleanups[b].push(w)}function oe(h,b){h._x_attributeCleanups&&Object.entries(h._x_attributeCleanups).forEach(([w,C])=>{(b===void 0||b.includes(w))&&(C.forEach(R=>R()),delete h._x_attributeCleanups[w])})}function ke(h){var b,w;for((b=h._x_effects)==null||b.forEach(P);(w=h._x_cleanups)!=null&&w.length;)h._x_cleanups.pop()()}var Ye=new MutationObserver(Et),gt=!1;function Le(){Ye.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),gt=!0}function Ee(){Bt(),Ye.disconnect(),gt=!1}var an=[];function Bt(){let h=Ye.takeRecords();an.push(()=>h.length>0&&Et(h));let b=an.length;queueMicrotask(()=>{if(an.length===b)for(;an.length>0;)an.shift()()})}function ge(h){if(!gt)return h();Ee();let b=h();return Le(),b}var J=!1,Z=[];function Ne(){J=!0}function ce(){J=!1,Et(Z),Z=[]}function Et(h){if(J){Z=Z.concat(h);return}let b=[],w=new Set,C=new Map,R=new Map;for(let I=0;I<h.length;I++)if(!h[I].target._x_ignoreMutationObserver&&(h[I].type==="childList"&&(h[I].removedNodes.forEach(L=>{L.nodeType===1&&L._x_marker&&w.add(L)}),h[I].addedNodes.forEach(L=>{if(L.nodeType===1){if(w.has(L)){w.delete(L);return}L._x_marker||b.push(L)}})),h[I].type==="attributes")){let L=h[I].target,W=h[I].attributeName,X=h[I].oldValue,_e=()=>{C.has(L)||C.set(L,[]),C.get(L).push({name:W,value:L.getAttribute(W)})},ot=()=>{R.has(L)||R.set(L,[]),R.get(L).push(W)};L.hasAttribute(W)&&X===null?_e():L.hasAttribute(W)?(ot(),_e()):ot()}R.forEach((I,L)=>{oe(L,I)}),C.forEach((I,L)=>{ze.forEach(W=>W(L,I))});for(let I of w)b.some(L=>L.contains(I))||Re.forEach(L=>L(I));for(let I of b)I.isConnected&&je.forEach(L=>L(I));b=null,w=null,C=null,R=null}function Fe(h){return De(ae(h))}function ne(h,b,w){return h._x_dataStack=[b,...ae(w||h)],()=>{h._x_dataStack=h._x_dataStack.filter(C=>C!==b)}}function ae(h){return h._x_dataStack?h._x_dataStack:typeof ShadowRoot=="function"&&h instanceof ShadowRoot?ae(h.host):h.parentNode?ae(h.parentNode):[]}function De(h){return new Proxy({objects:h},xt)}var xt={ownKeys({objects:h}){return Array.from(new Set(h.flatMap(b=>Object.keys(b))))},has({objects:h},b){return b==Symbol.unscopables?!1:h.some(w=>Object.prototype.hasOwnProperty.call(w,b)||Reflect.has(w,b))},get({objects:h},b,w){return b=="toJSON"?et:Reflect.get(h.find(C=>Reflect.has(C,b))||{},b,w)},set({objects:h},b,w,C){const R=h.find(L=>Object.prototype.hasOwnProperty.call(L,b))||h[h.length-1],I=Object.getOwnPropertyDescriptor(R,b);return I!=null&&I.set&&(I!=null&&I.get)?I.set.call(C,w)||!0:Reflect.set(R,b,w)}};function et(){return Reflect.ownKeys(this).reduce((b,w)=>(b[w]=Reflect.get(this,w),b),{})}function nn(h){let b=C=>typeof C=="object"&&!Array.isArray(C)&&C!==null,w=(C,R="")=>{Object.entries(Object.getOwnPropertyDescriptors(C)).forEach(([I,{value:L,enumerable:W}])=>{if(W===!1||L===void 0||typeof L=="object"&&L!==null&&L.__v_skip)return;let X=R===""?I:`${R}.${I}`;typeof L=="object"&&L!==null&&L._x_interceptor?C[I]=L.initialize(h,X,I):b(L)&&L!==C&&!(L instanceof Element)&&w(L,X)})};return w(h)}function Yt(h,b=()=>{}){let w={initialValue:void 0,_x_interceptor:!0,initialize(C,R,I){return h(this.initialValue,()=>ri(C,R),L=>gi(C,R,L),R,I)}};return b(w),C=>{if(typeof C=="object"&&C!==null&&C._x_interceptor){let R=w.initialize.bind(w);w.initialize=(I,L,W)=>{let X=C.initialize(I,L,W);return w.initialValue=X,R(I,L,W)}}else w.initialValue=C;return w}}function ri(h,b){return b.split(".").reduce((w,C)=>w[C],h)}function gi(h,b,w){if(typeof b=="string"&&(b=b.split(".")),b.length===1)h[b[0]]=w;else{if(b.length===0)throw error;return h[b[0]]||(h[b[0]]={}),gi(h[b[0]],b.slice(1),w)}}var rr={};function In(h,b){rr[h]=b}function Wi(h,b){let w=Pt(b);return Object.entries(rr).forEach(([C,R])=>{Object.defineProperty(h,`$${C}`,{get(){return R(b,w)},enumerable:!1})}),h}function Pt(h){let[b,w]=Oe(h),C={interceptor:Yt,...b};return be(h,w),C}function is(h,b,w,...C){try{return w(...C)}catch(R){Ci(R,h,b)}}function Ci(h,b,w=void 0){h=Object.assign(h??{message:"No error message given."},{el:b,expression:w}),console.warn(`Alpine Expression Error: ${h.message}

${w?'Expression: "'+w+`"

`:""}`,b),setTimeout(()=>{throw h},0)}var rs=!0;function Cr(h){let b=rs;rs=!1;let w=h();return rs=b,w}function yi(h,b,w={}){let C;return zt(h,b)(R=>C=R,w),C}function zt(...h){return zs(...h)}var zs=_;function Lo(h){zs=h}function _(h,b){let w={};Wi(w,h);let C=[w,...ae(h)],R=typeof b=="function"?E(C,b):le(C,b,h);return is.bind(null,h,b,R)}function E(h,b){return(w=()=>{},{scope:C={},params:R=[]}={})=>{let I=b.apply(De([C,...h]),R);he(w,I)}}var F={};function V(h,b){if(F[h])return F[h];let w=Object.getPrototypeOf(async function(){}).constructor,C=/^[\n\s]*if.*\(.*\)/.test(h.trim())||/^(let|const)\s/.test(h.trim())?`(async()=>{ ${h} })()`:h,I=(()=>{try{let L=new w(["__self","scope"],`with (scope) { __self.result = ${C} }; __self.finished = true; return __self.result;`);return Object.defineProperty(L,"name",{value:`[Alpine] ${h}`}),L}catch(L){return Ci(L,b,h),Promise.resolve()}})();return F[h]=I,I}function le(h,b,w){let C=V(b,w);return(R=()=>{},{scope:I={},params:L=[]}={})=>{C.result=void 0,C.finished=!1;let W=De([I,...h]);if(typeof C=="function"){let X=C(C,W).catch(_e=>Ci(_e,w,b));C.finished?(he(R,C.result,W,L,w),C.result=void 0):X.then(_e=>{he(R,_e,W,L,w)}).catch(_e=>Ci(_e,w,b)).finally(()=>C.result=void 0)}}}function he(h,b,w,C,R){if(rs&&typeof b=="function"){let I=b.apply(w,C);I instanceof Promise?I.then(L=>he(h,L,w,C)).catch(L=>Ci(L,R,b)):h(I)}else typeof b=="object"&&b instanceof Promise?b.then(I=>h(I)):h(b)}var Qe="x-";function we(h=""){return Qe+h}function rt(h){Qe=h}var xe={};function k(h,b){return xe[h]=b,{before(w){if(!xe[w]){console.warn(String.raw`Cannot find directive \`${w}\`. \`${h}\` will use the default order of execution`);return}const C=Ut.indexOf(w);Ut.splice(C>=0?C:Ut.indexOf("DEFAULT"),0,h)}}}function N(h){return Object.keys(xe).includes(h)}function z(h,b,w){if(b=Array.from(b),h._x_virtualDirectives){let I=Object.entries(h._x_virtualDirectives).map(([W,X])=>({name:W,value:X})),L=j(I);I=I.map(W=>L.find(X=>X.name===W.name)?{name:`x-bind:${W.name}`,value:`"${W.value}"`}:W),b=b.concat(I)}let C={};return b.map(bt((I,L)=>C[I]=L)).filter(pt).map(St(C,w)).sort(si).map(I=>Ie(h,I))}function j(h){return Array.from(h).map(bt()).filter(b=>!pt(b))}var K=!1,Q=new Map,ie=Symbol();function pe(h){K=!0;let b=Symbol();ie=b,Q.set(b,[]);let w=()=>{for(;Q.get(b).length;)Q.get(b).shift()();Q.delete(b)},C=()=>{K=!1,w()};h(w),C()}function Oe(h){let b=[],w=W=>b.push(W),[C,R]=mt(h);return b.push(R),[{Alpine:Ka,effect:C,cleanup:w,evaluateLater:zt.bind(zt,h),evaluate:yi.bind(yi,h)},()=>b.forEach(W=>W())]}function Ie(h,b){let w=()=>{},C=xe[b.type]||w,[R,I]=Oe(h);yt(h,b.original,I);let L=()=>{h._x_ignore||h._x_ignoreSelf||(C.inline&&C.inline(h,b,R),C=C.bind(C,h,b,R),K?Q.get(ie).push(C):C())};return L.runCleanups=I,L}var st=(h,b)=>({name:w,value:C})=>(w.startsWith(h)&&(w=w.replace(h,b)),{name:w,value:C}),tt=h=>h;function bt(h=()=>{}){return({name:b,value:w})=>{let{name:C,value:R}=Je.reduce((I,L)=>L(I),{name:b,value:w});return C!==b&&h(C,b),{name:C,value:R}}}var Je=[];function nt(h){Je.push(h)}function pt({name:h}){return Kt().test(h)}var Kt=()=>new RegExp(`^${Qe}([^:^.]+)\\b`);function St(h,b){return({name:w,value:C})=>{let R=w.match(Kt()),I=w.match(/:([a-zA-Z0-9\-_:]+)/),L=w.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],W=b||h[w]||w;return{type:R?R[1]:null,value:I?I[1]:null,modifiers:L.map(X=>X.replace(".","")),expression:C,original:W}}}var Jt="DEFAULT",Ut=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Jt,"teleport"];function si(h,b){let w=Ut.indexOf(h.type)===-1?Jt:h.type,C=Ut.indexOf(b.type)===-1?Jt:b.type;return Ut.indexOf(w)-Ut.indexOf(C)}function ln(h,b,w={}){h.dispatchEvent(new CustomEvent(b,{detail:w,bubbles:!0,composed:!0,cancelable:!0}))}function Zn(h,b){if(typeof ShadowRoot=="function"&&h instanceof ShadowRoot){Array.from(h.children).forEach(R=>Zn(R,b));return}let w=!1;if(b(h,()=>w=!0),w)return;let C=h.firstElementChild;for(;C;)Zn(C,b),C=C.nextElementSibling}function Ln(h,...b){console.warn(`Alpine Warning: ${h}`,...b)}var ss=!1;function Tc(){ss&&Ln("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),ss=!0,document.body||Ln("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ln(document,"alpine:init"),ln(document,"alpine:initializing"),Le(),Be(b=>Or(b,Zn)),be(b=>Bo(b)),ue((b,w)=>{z(b,w).forEach(C=>C())});let h=b=>!Vi(b.parentElement,!0);Array.from(document.querySelectorAll(Ua().join(","))).filter(h).forEach(b=>{Or(b)}),ln(document,"alpine:initialized"),setTimeout(()=>{tM()})}var Fo=[],Ya=[];function sr(){return Fo.map(h=>h())}function Ua(){return Fo.concat(Ya).map(h=>h())}function as(h){Fo.push(h)}function Er(h){Ya.push(h)}function Vi(h,b=!1){return Ei(h,w=>{if((b?Ua():sr()).some(R=>w.matches(R)))return!0})}function Ei(h,b){if(h){if(b(h))return h;if(h._x_teleportBack&&(h=h._x_teleportBack),!!h.parentElement)return Ei(h.parentElement,b)}}function Bf(h){return sr().some(b=>h.matches(b))}var uy=[];function Q1(h){uy.push(h)}var eM=1;function Or(h,b=Zn,w=()=>{}){Ei(h,C=>C._x_ignore)||pe(()=>{b(h,(C,R)=>{C._x_marker||(w(C,R),uy.forEach(I=>I(C,R)),z(C,C.attributes).forEach(I=>I()),C._x_ignore||(C._x_marker=eM++),C._x_ignore&&R())})})}function Bo(h,b=Zn){b(h,w=>{ke(w),oe(w),delete w._x_marker})}function tM(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([b,w,C])=>{N(w)||C.some(R=>{if(document.querySelector(R))return Ln(`found "${R}", but missing ${b} plugin`),!0})})}var Hf=[],zf=!1;function jf(h=()=>{}){return queueMicrotask(()=>{zf||setTimeout(()=>{$f()})}),new Promise(b=>{Hf.push(()=>{h(),b()})})}function $f(){for(zf=!1;Hf.length;)Hf.shift()()}function nM(){zf=!0}function Wf(h,b){return Array.isArray(b)?dy(h,b.join(" ")):typeof b=="object"&&b!==null?iM(h,b):typeof b=="function"?Wf(h,b()):dy(h,b)}function dy(h,b){let w=R=>R.split(" ").filter(I=>!h.classList.contains(I)).filter(Boolean),C=R=>(h.classList.add(...R),()=>{h.classList.remove(...R)});return b=b===!0?b="":b||"",C(w(b))}function iM(h,b){let w=W=>W.split(" ").filter(Boolean),C=Object.entries(b).flatMap(([W,X])=>X?w(W):!1).filter(Boolean),R=Object.entries(b).flatMap(([W,X])=>X?!1:w(W)).filter(Boolean),I=[],L=[];return R.forEach(W=>{h.classList.contains(W)&&(h.classList.remove(W),L.push(W))}),C.forEach(W=>{h.classList.contains(W)||(h.classList.add(W),I.push(W))}),()=>{L.forEach(W=>h.classList.add(W)),I.forEach(W=>h.classList.remove(W))}}function Dc(h,b){return typeof b=="object"&&b!==null?rM(h,b):sM(h,b)}function rM(h,b){let w={};return Object.entries(b).forEach(([C,R])=>{w[C]=h.style[C],C.startsWith("--")||(C=oM(C)),h.style.setProperty(C,R)}),setTimeout(()=>{h.style.length===0&&h.removeAttribute("style")}),()=>{Dc(h,w)}}function sM(h,b){let w=h.getAttribute("style",b);return h.setAttribute("style",b),()=>{h.setAttribute("style",w||"")}}function oM(h){return h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vf(h,b=()=>{}){let w=!1;return function(){w?b.apply(this,arguments):(w=!0,h.apply(this,arguments))}}k("transition",(h,{value:b,modifiers:w,expression:C},{evaluate:R})=>{typeof C=="function"&&(C=R(C)),C!==!1&&(!C||typeof C=="boolean"?lM(h,w,b):aM(h,C,b))});function aM(h,b,w){fy(h,Wf,""),{enter:R=>{h._x_transition.enter.during=R},"enter-start":R=>{h._x_transition.enter.start=R},"enter-end":R=>{h._x_transition.enter.end=R},leave:R=>{h._x_transition.leave.during=R},"leave-start":R=>{h._x_transition.leave.start=R},"leave-end":R=>{h._x_transition.leave.end=R}}[w](b)}function lM(h,b,w){fy(h,Dc);let C=!b.includes("in")&&!b.includes("out")&&!w,R=C||b.includes("in")||["enter"].includes(w),I=C||b.includes("out")||["leave"].includes(w);b.includes("in")&&!C&&(b=b.filter((Rt,ft)=>ft<b.indexOf("out"))),b.includes("out")&&!C&&(b=b.filter((Rt,ft)=>ft>b.indexOf("out")));let L=!b.includes("opacity")&&!b.includes("scale"),W=L||b.includes("opacity"),X=L||b.includes("scale"),_e=W?0:1,ot=X?qa(b,"scale",95)/100:1,qt=qa(b,"delay",0)/1e3,kt=qa(b,"origin","center"),jt="opacity, transform",oi=qa(b,"duration",150)/1e3,or=qa(b,"duration",75)/1e3,Ge="cubic-bezier(0.4, 0.0, 0.2, 1)";R&&(h._x_transition.enter.during={transformOrigin:kt,transitionDelay:`${qt}s`,transitionProperty:jt,transitionDuration:`${oi}s`,transitionTimingFunction:Ge},h._x_transition.enter.start={opacity:_e,transform:`scale(${ot})`},h._x_transition.enter.end={opacity:1,transform:"scale(1)"}),I&&(h._x_transition.leave.during={transformOrigin:kt,transitionDelay:`${qt}s`,transitionProperty:jt,transitionDuration:`${or}s`,transitionTimingFunction:Ge},h._x_transition.leave.start={opacity:1,transform:"scale(1)"},h._x_transition.leave.end={opacity:_e,transform:`scale(${ot})`})}function fy(h,b,w={}){h._x_transition||(h._x_transition={enter:{during:w,start:w,end:w},leave:{during:w,start:w,end:w},in(C=()=>{},R=()=>{}){Yf(h,b,{during:this.enter.during,start:this.enter.start,end:this.enter.end},C,R)},out(C=()=>{},R=()=>{}){Yf(h,b,{during:this.leave.during,start:this.leave.start,end:this.leave.end},C,R)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(h,b,w,C){const R=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let I=()=>R(w);if(b){h._x_transition&&(h._x_transition.enter||h._x_transition.leave)?h._x_transition.enter&&(Object.entries(h._x_transition.enter.during).length||Object.entries(h._x_transition.enter.start).length||Object.entries(h._x_transition.enter.end).length)?h._x_transition.in(w):I():h._x_transition?h._x_transition.in(w):I();return}h._x_hidePromise=h._x_transition?new Promise((L,W)=>{h._x_transition.out(()=>{},()=>L(C)),h._x_transitioning&&h._x_transitioning.beforeCancel(()=>W({isFromCancelledTransition:!0}))}):Promise.resolve(C),queueMicrotask(()=>{let L=hy(h);L?(L._x_hideChildren||(L._x_hideChildren=[]),L._x_hideChildren.push(h)):R(()=>{let W=X=>{let _e=Promise.all([X._x_hidePromise,...(X._x_hideChildren||[]).map(W)]).then(([ot])=>ot==null?void 0:ot());return delete X._x_hidePromise,delete X._x_hideChildren,_e};W(h).catch(X=>{if(!X.isFromCancelledTransition)throw X})})})};function hy(h){let b=h.parentNode;if(b)return b._x_hidePromise?b:hy(b)}function Yf(h,b,{during:w,start:C,end:R}={},I=()=>{},L=()=>{}){if(h._x_transitioning&&h._x_transitioning.cancel(),Object.keys(w).length===0&&Object.keys(C).length===0&&Object.keys(R).length===0){I(),L();return}let W,X,_e;cM(h,{start(){W=b(h,C)},during(){X=b(h,w)},before:I,end(){W(),_e=b(h,R)},after:L,cleanup(){X(),_e()}})}function cM(h,b){let w,C,R,I=Vf(()=>{ge(()=>{w=!0,C||b.before(),R||(b.end(),$f()),b.after(),h.isConnected&&b.cleanup(),delete h._x_transitioning})});h._x_transitioning={beforeCancels:[],beforeCancel(L){this.beforeCancels.push(L)},cancel:Vf(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();I()}),finish:I},ge(()=>{b.start(),b.during()}),nM(),requestAnimationFrame(()=>{if(w)return;let L=Number(getComputedStyle(h).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,W=Number(getComputedStyle(h).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;L===0&&(L=Number(getComputedStyle(h).animationDuration.replace("s",""))*1e3),ge(()=>{b.before()}),C=!0,requestAnimationFrame(()=>{w||(ge(()=>{b.end()}),$f(),setTimeout(h._x_transitioning.finish,L+W),R=!0)})})}function qa(h,b,w){if(h.indexOf(b)===-1)return w;const C=h[h.indexOf(b)+1];if(!C||b==="scale"&&isNaN(C))return w;if(b==="duration"||b==="delay"){let R=C.match(/([0-9]+)ms/);if(R)return R[1]}return b==="origin"&&["top","right","left","center","bottom"].includes(h[h.indexOf(b)+2])?[C,h[h.indexOf(b)+2]].join(" "):C}var ls=!1;function cs(h,b=()=>{}){return(...w)=>ls?b(...w):h(...w)}function uM(h){return(...b)=>ls&&h(...b)}var py=[];function Ac(h){py.push(h)}function dM(h,b){py.forEach(w=>w(h,b)),ls=!0,my(()=>{Or(b,(w,C)=>{C(w,()=>{})})}),ls=!1}var Uf=!1;function fM(h,b){b._x_dataStack||(b._x_dataStack=h._x_dataStack),ls=!0,Uf=!0,my(()=>{hM(b)}),ls=!1,Uf=!1}function hM(h){let b=!1;Or(h,(C,R)=>{Zn(C,(I,L)=>{if(b&&Bf(I))return L();b=!0,R(I,L)})})}function my(h){let b=U;_t((w,C)=>{let R=b(w);return me(R),()=>{}}),h(),_t(b)}function gy(h,b,w,C=[]){switch(h._x_bindings||(h._x_bindings=ee({})),h._x_bindings[b]=w,b=C.includes("camel")?xM(b):b,b){case"value":pM(h,w);break;case"style":gM(h,w);break;case"class":mM(h,w);break;case"selected":case"checked":yM(h,b,w);break;default:yy(h,b,w);break}}function pM(h,b){if(xy(h))h.attributes.value===void 0&&(h.value=b),window.fromModel&&(typeof b=="boolean"?h.checked=Pc(h.value)===b:h.checked=by(h.value,b));else if(qf(h))Number.isInteger(b)?h.value=b:!Array.isArray(b)&&typeof b!="boolean"&&![null,void 0].includes(b)?h.value=String(b):Array.isArray(b)?h.checked=b.some(w=>by(w,h.value)):h.checked=!!b;else if(h.tagName==="SELECT")wM(h,b);else{if(h.value===b)return;h.value=b===void 0?"":b}}function mM(h,b){h._x_undoAddedClasses&&h._x_undoAddedClasses(),h._x_undoAddedClasses=Wf(h,b)}function gM(h,b){h._x_undoAddedStyles&&h._x_undoAddedStyles(),h._x_undoAddedStyles=Dc(h,b)}function yM(h,b,w){yy(h,b,w),vM(h,b,w)}function yy(h,b,w){[null,void 0,!1].includes(w)&&_M(b)?h.removeAttribute(b):(vy(b)&&(w=b),bM(h,b,w))}function bM(h,b,w){h.getAttribute(b)!=w&&h.setAttribute(b,w)}function vM(h,b,w){h[b]!==w&&(h[b]=w)}function wM(h,b){const w=[].concat(b).map(C=>C+"");Array.from(h.options).forEach(C=>{C.selected=w.includes(C.value)})}function xM(h){return h.toLowerCase().replace(/-(\w)/g,(b,w)=>w.toUpperCase())}function by(h,b){return h==b}function Pc(h){return[1,"1","true","on","yes",!0].includes(h)?!0:[0,"0","false","off","no",!1].includes(h)?!1:h?!!h:null}var kM=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function vy(h){return kM.has(h)}function _M(h){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(h)}function SM(h,b,w){return h._x_bindings&&h._x_bindings[b]!==void 0?h._x_bindings[b]:wy(h,b,w)}function MM(h,b,w,C=!0){if(h._x_bindings&&h._x_bindings[b]!==void 0)return h._x_bindings[b];if(h._x_inlineBindings&&h._x_inlineBindings[b]!==void 0){let R=h._x_inlineBindings[b];return R.extract=C,Cr(()=>yi(h,R.expression))}return wy(h,b,w)}function wy(h,b,w){let C=h.getAttribute(b);return C===null?typeof w=="function"?w():w:C===""?!0:vy(b)?!![b,"true"].includes(C):C}function qf(h){return h.type==="checkbox"||h.localName==="ui-checkbox"||h.localName==="ui-switch"}function xy(h){return h.type==="radio"||h.localName==="ui-radio"}function ky(h,b){var w;return function(){var C=this,R=arguments,I=function(){w=null,h.apply(C,R)};clearTimeout(w),w=setTimeout(I,b)}}function _y(h,b){let w;return function(){let C=this,R=arguments;w||(h.apply(C,R),w=!0,setTimeout(()=>w=!1,b))}}function Sy({get:h,set:b},{get:w,set:C}){let R=!0,I,L=U(()=>{let W=h(),X=w();if(R)C(Kf(W)),R=!1;else{let _e=JSON.stringify(W),ot=JSON.stringify(X);_e!==I?C(Kf(W)):_e!==ot&&b(Kf(X))}I=JSON.stringify(h()),JSON.stringify(w())});return()=>{me(L)}}function Kf(h){return typeof h=="object"?JSON.parse(JSON.stringify(h)):h}function CM(h){(Array.isArray(h)?h:[h]).forEach(w=>w(Ka))}var js={},My=!1;function EM(h,b){if(My||(js=ee(js),My=!0),b===void 0)return js[h];js[h]=b,nn(js[h]),typeof b=="object"&&b!==null&&b.hasOwnProperty("init")&&typeof b.init=="function"&&js[h].init()}function OM(){return js}var Cy={};function TM(h,b){let w=typeof b!="function"?()=>b:b;return h instanceof Element?Ey(h,w()):(Cy[h]=w,()=>{})}function DM(h){return Object.entries(Cy).forEach(([b,w])=>{Object.defineProperty(h,b,{get(){return(...C)=>w(...C)}})}),h}function Ey(h,b,w){let C=[];for(;C.length;)C.pop()();let R=Object.entries(b).map(([L,W])=>({name:L,value:W})),I=j(R);return R=R.map(L=>I.find(W=>W.name===L.name)?{name:`x-bind:${L.name}`,value:`"${L.value}"`}:L),z(h,R,w).map(L=>{C.push(L.runCleanups),L()}),()=>{for(;C.length;)C.pop()()}}var Oy={};function AM(h,b){Oy[h]=b}function PM(h,b){return Object.entries(Oy).forEach(([w,C])=>{Object.defineProperty(h,w,{get(){return(...R)=>C.bind(b)(...R)},enumerable:!1})}),h}var RM={get reactive(){return ee},get release(){return me},get effect(){return U},get raw(){return Ze},version:"3.14.8",flushAndStopDeferringMutations:ce,dontAutoEvaluateFunctions:Cr,disableEffectScheduling:qe,startObservingMutations:Le,stopObservingMutations:Ee,setReactivityEngine:Ke,onAttributeRemoved:yt,onAttributesAdded:ue,closestDataStack:ae,skipDuringClone:cs,onlyDuringClone:uM,addRootSelector:as,addInitSelector:Er,interceptClone:Ac,addScopeToNode:ne,deferMutations:Ne,mapAttributes:nt,evaluateLater:zt,interceptInit:Q1,setEvaluator:Lo,mergeProxies:De,extractProp:MM,findClosest:Ei,onElRemoved:be,closestRoot:Vi,destroyTree:Bo,interceptor:Yt,transition:Yf,setStyles:Dc,mutateDom:ge,directive:k,entangle:Sy,throttle:_y,debounce:ky,evaluate:yi,initTree:Or,nextTick:jf,prefixed:we,prefix:rt,plugin:CM,magic:In,store:EM,start:Tc,clone:fM,cloneNode:dM,bound:SM,$data:Fe,watch:tn,walk:Zn,data:AM,bind:TM},Ka=RM,Rc=d(y());In("nextTick",()=>jf),In("dispatch",h=>ln.bind(ln,h)),In("watch",(h,{evaluateLater:b,cleanup:w})=>(C,R)=>{let I=b(C),W=tn(()=>{let X;return I(_e=>X=_e),X},R);w(W)}),In("store",OM),In("data",h=>Fe(h)),In("root",h=>Vi(h)),In("refs",h=>(h._x_refs_proxy||(h._x_refs_proxy=De(NM(h))),h._x_refs_proxy));function NM(h){let b=[];return Ei(h,w=>{w._x_refs&&b.push(w._x_refs)}),b}var Jf={};function Ty(h){return Jf[h]||(Jf[h]=0),++Jf[h]}function IM(h,b){return Ei(h,w=>{if(w._x_ids&&w._x_ids[b])return!0})}function LM(h,b){h._x_ids||(h._x_ids={}),h._x_ids[b]||(h._x_ids[b]=Ty(b))}In("id",(h,{cleanup:b})=>(w,C=null)=>{let R=`${w}${C?`-${C}`:""}`;return FM(h,R,b,()=>{let I=IM(h,w),L=I?I._x_ids[w]:Ty(w);return C?`${w}-${L}-${C}`:`${w}-${L}`})}),Ac((h,b)=>{h._x_id&&(b._x_id=h._x_id)});function FM(h,b,w,C){if(h._x_id||(h._x_id={}),h._x_id[b])return h._x_id[b];let R=C();return h._x_id[b]=R,w(()=>{delete h._x_id[b]}),R}In("el",h=>h),Dy("Focus","focus","focus"),Dy("Persist","persist","persist");function Dy(h,b,w){In(b,C=>Ln(`You can't use [$${b}] without first installing the "${h}" plugin here: https://alpinejs.dev/plugins/${w}`,C))}k("modelable",(h,{expression:b},{effect:w,evaluateLater:C,cleanup:R})=>{let I=C(b),L=()=>{let ot;return I(qt=>ot=qt),ot},W=C(`${b} = __placeholder`),X=ot=>W(()=>{},{scope:{__placeholder:ot}}),_e=L();X(_e),queueMicrotask(()=>{if(!h._x_model)return;h._x_removeModelListeners.default();let ot=h._x_model.get,qt=h._x_model.set,kt=Sy({get(){return ot()},set(jt){qt(jt)}},{get(){return L()},set(jt){X(jt)}});R(kt)})}),k("teleport",(h,{modifiers:b,expression:w},{cleanup:C})=>{h.tagName.toLowerCase()!=="template"&&Ln("x-teleport can only be used on a <template> tag",h);let R=Ay(w),I=h.content.cloneNode(!0).firstElementChild;h._x_teleport=I,I._x_teleportBack=h,h.setAttribute("data-teleport-template",!0),I.setAttribute("data-teleport-target",!0),h._x_forwardEvents&&h._x_forwardEvents.forEach(W=>{I.addEventListener(W,X=>{X.stopPropagation(),h.dispatchEvent(new X.constructor(X.type,X))})}),ne(I,{},h);let L=(W,X,_e)=>{_e.includes("prepend")?X.parentNode.insertBefore(W,X):_e.includes("append")?X.parentNode.insertBefore(W,X.nextSibling):X.appendChild(W)};ge(()=>{L(I,R,b),cs(()=>{Or(I)})()}),h._x_teleportPutBack=()=>{let W=Ay(w);ge(()=>{L(h._x_teleport,W,b)})},C(()=>ge(()=>{I.remove(),Bo(I)}))});var BM=document.createElement("div");function Ay(h){let b=cs(()=>document.querySelector(h),()=>BM)();return b||Ln(`Cannot find x-teleport element for selector: "${h}"`),b}var Py=()=>{};Py.inline=(h,{modifiers:b},{cleanup:w})=>{b.includes("self")?h._x_ignoreSelf=!0:h._x_ignore=!0,w(()=>{b.includes("self")?delete h._x_ignoreSelf:delete h._x_ignore})},k("ignore",Py),k("effect",cs((h,{expression:b},{effect:w})=>{w(zt(h,b))}));function Gf(h,b,w,C){let R=h,I=X=>C(X),L={},W=(X,_e)=>ot=>_e(X,ot);if(w.includes("dot")&&(b=HM(b)),w.includes("camel")&&(b=zM(b)),w.includes("passive")&&(L.passive=!0),w.includes("capture")&&(L.capture=!0),w.includes("window")&&(R=window),w.includes("document")&&(R=document),w.includes("debounce")){let X=w[w.indexOf("debounce")+1]||"invalid-wait",_e=Nc(X.split("ms")[0])?Number(X.split("ms")[0]):250;I=ky(I,_e)}if(w.includes("throttle")){let X=w[w.indexOf("throttle")+1]||"invalid-wait",_e=Nc(X.split("ms")[0])?Number(X.split("ms")[0]):250;I=_y(I,_e)}return w.includes("prevent")&&(I=W(I,(X,_e)=>{_e.preventDefault(),X(_e)})),w.includes("stop")&&(I=W(I,(X,_e)=>{_e.stopPropagation(),X(_e)})),w.includes("once")&&(I=W(I,(X,_e)=>{X(_e),R.removeEventListener(b,I,L)})),(w.includes("away")||w.includes("outside"))&&(R=document,I=W(I,(X,_e)=>{h.contains(_e.target)||_e.target.isConnected!==!1&&(h.offsetWidth<1&&h.offsetHeight<1||h._x_isShown!==!1&&X(_e))})),w.includes("self")&&(I=W(I,(X,_e)=>{_e.target===h&&X(_e)})),($M(b)||Ry(b))&&(I=W(I,(X,_e)=>{WM(_e,w)||X(_e)})),R.addEventListener(b,I,L),()=>{R.removeEventListener(b,I,L)}}function HM(h){return h.replace(/-/g,".")}function zM(h){return h.toLowerCase().replace(/-(\w)/g,(b,w)=>w.toUpperCase())}function Nc(h){return!Array.isArray(h)&&!isNaN(h)}function jM(h){return[" ","_"].includes(h)?h:h.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function $M(h){return["keydown","keyup"].includes(h)}function Ry(h){return["contextmenu","click","mouse"].some(b=>h.includes(b))}function WM(h,b){let w=b.filter(I=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(I));if(w.includes("debounce")){let I=w.indexOf("debounce");w.splice(I,Nc((w[I+1]||"invalid-wait").split("ms")[0])?2:1)}if(w.includes("throttle")){let I=w.indexOf("throttle");w.splice(I,Nc((w[I+1]||"invalid-wait").split("ms")[0])?2:1)}if(w.length===0||w.length===1&&Ny(h.key).includes(w[0]))return!1;const R=["ctrl","shift","alt","meta","cmd","super"].filter(I=>w.includes(I));return w=w.filter(I=>!R.includes(I)),!(R.length>0&&R.filter(L=>((L==="cmd"||L==="super")&&(L="meta"),h[`${L}Key`])).length===R.length&&(Ry(h.type)||Ny(h.key).includes(w[0])))}function Ny(h){if(!h)return[];h=jM(h);let b={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return b[h]=h,Object.keys(b).map(w=>{if(b[w]===h)return w}).filter(w=>w)}k("model",(h,{modifiers:b,expression:w},{effect:C,cleanup:R})=>{let I=h;b.includes("parent")&&(I=h.parentNode);let L=zt(I,w),W;typeof w=="string"?W=zt(I,`${w} = __placeholder`):typeof w=="function"&&typeof w()=="string"?W=zt(I,`${w()} = __placeholder`):W=()=>{};let X=()=>{let kt;return L(jt=>kt=jt),Iy(kt)?kt.get():kt},_e=kt=>{let jt;L(oi=>jt=oi),Iy(jt)?jt.set(kt):W(()=>{},{scope:{__placeholder:kt}})};typeof w=="string"&&h.type==="radio"&&ge(()=>{h.hasAttribute("name")||h.setAttribute("name",w)});var ot=h.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(h.type)||b.includes("lazy")?"change":"input";let qt=ls?()=>{}:Gf(h,ot,b,kt=>{_e(Xf(h,b,kt,X()))});if(b.includes("fill")&&([void 0,null,""].includes(X())||qf(h)&&Array.isArray(X())||h.tagName.toLowerCase()==="select"&&h.multiple)&&_e(Xf(h,b,{target:h},X())),h._x_removeModelListeners||(h._x_removeModelListeners={}),h._x_removeModelListeners.default=qt,R(()=>h._x_removeModelListeners.default()),h.form){let kt=Gf(h.form,"reset",[],jt=>{jf(()=>h._x_model&&h._x_model.set(Xf(h,b,{target:h},X())))});R(()=>kt())}h._x_model={get(){return X()},set(kt){_e(kt)}},h._x_forceModelUpdate=kt=>{kt===void 0&&typeof w=="string"&&w.match(/\./)&&(kt=""),window.fromModel=!0,ge(()=>gy(h,"value",kt)),delete window.fromModel},C(()=>{let kt=X();b.includes("unintrusive")&&document.activeElement.isSameNode(h)||h._x_forceModelUpdate(kt)})});function Xf(h,b,w,C){return ge(()=>{if(w instanceof CustomEvent&&w.detail!==void 0)return w.detail!==null&&w.detail!==void 0?w.detail:w.target.value;if(qf(h))if(Array.isArray(C)){let R=null;return b.includes("number")?R=Zf(w.target.value):b.includes("boolean")?R=Pc(w.target.value):R=w.target.value,w.target.checked?C.includes(R)?C:C.concat([R]):C.filter(I=>!VM(I,R))}else return w.target.checked;else{if(h.tagName.toLowerCase()==="select"&&h.multiple)return b.includes("number")?Array.from(w.target.selectedOptions).map(R=>{let I=R.value||R.text;return Zf(I)}):b.includes("boolean")?Array.from(w.target.selectedOptions).map(R=>{let I=R.value||R.text;return Pc(I)}):Array.from(w.target.selectedOptions).map(R=>R.value||R.text);{let R;return xy(h)?w.target.checked?R=w.target.value:R=C:R=w.target.value,b.includes("number")?Zf(R):b.includes("boolean")?Pc(R):b.includes("trim")?R.trim():R}}})}function Zf(h){let b=h?parseFloat(h):null;return YM(b)?b:h}function VM(h,b){return h==b}function YM(h){return!Array.isArray(h)&&!isNaN(h)}function Iy(h){return h!==null&&typeof h=="object"&&typeof h.get=="function"&&typeof h.set=="function"}k("cloak",h=>queueMicrotask(()=>ge(()=>h.removeAttribute(we("cloak"))))),Er(()=>`[${we("init")}]`),k("init",cs((h,{expression:b},{evaluate:w})=>typeof b=="string"?!!b.trim()&&w(b,{},!1):w(b,{},!1))),k("text",(h,{expression:b},{effect:w,evaluateLater:C})=>{let R=C(b);w(()=>{R(I=>{ge(()=>{h.textContent=I})})})}),k("html",(h,{expression:b},{effect:w,evaluateLater:C})=>{let R=C(b);w(()=>{R(I=>{ge(()=>{h.innerHTML=I,h._x_ignoreSelf=!0,Or(h),delete h._x_ignoreSelf})})})}),nt(st(":",tt(we("bind:"))));var Ly=(h,{value:b,modifiers:w,expression:C,original:R},{effect:I,cleanup:L})=>{if(!b){let X={};DM(X),zt(h,C)(ot=>{Ey(h,ot,R)},{scope:X});return}if(b==="key")return UM(h,C);if(h._x_inlineBindings&&h._x_inlineBindings[b]&&h._x_inlineBindings[b].extract)return;let W=zt(h,C);I(()=>W(X=>{X===void 0&&typeof C=="string"&&C.match(/\./)&&(X=""),ge(()=>gy(h,b,X,w))})),L(()=>{h._x_undoAddedClasses&&h._x_undoAddedClasses(),h._x_undoAddedStyles&&h._x_undoAddedStyles()})};Ly.inline=(h,{value:b,modifiers:w,expression:C})=>{b&&(h._x_inlineBindings||(h._x_inlineBindings={}),h._x_inlineBindings[b]={expression:C,extract:!1})},k("bind",Ly);function UM(h,b){h._x_keyExpression=b}as(()=>`[${we("data")}]`),k("data",(h,{expression:b},{cleanup:w})=>{if(qM(h))return;b=b===""?"{}":b;let C={};Wi(C,h);let R={};PM(R,C);let I=yi(h,b,{scope:R});(I===void 0||I===!0)&&(I={}),Wi(I,h);let L=ee(I);nn(L);let W=ne(h,L);L.init&&yi(h,L.init),w(()=>{L.destroy&&yi(h,L.destroy),W()})}),Ac((h,b)=>{h._x_dataStack&&(b._x_dataStack=h._x_dataStack,b.setAttribute("data-has-alpine-state",!0))});function qM(h){return ls?Uf?!0:h.hasAttribute("data-has-alpine-state"):!1}k("show",(h,{modifiers:b,expression:w},{effect:C})=>{let R=zt(h,w);h._x_doHide||(h._x_doHide=()=>{ge(()=>{h.style.setProperty("display","none",b.includes("important")?"important":void 0)})}),h._x_doShow||(h._x_doShow=()=>{ge(()=>{h.style.length===1&&h.style.display==="none"?h.removeAttribute("style"):h.style.removeProperty("display")})});let I=()=>{h._x_doHide(),h._x_isShown=!1},L=()=>{h._x_doShow(),h._x_isShown=!0},W=()=>setTimeout(L),X=Vf(qt=>qt?L():I(),qt=>{typeof h._x_toggleAndCascadeWithTransitions=="function"?h._x_toggleAndCascadeWithTransitions(h,qt,L,I):qt?W():I()}),_e,ot=!0;C(()=>R(qt=>{!ot&&qt===_e||(b.includes("immediate")&&(qt?W():I()),X(qt),_e=qt,ot=!1)}))}),k("for",(h,{expression:b},{effect:w,cleanup:C})=>{let R=JM(b),I=zt(h,R.items),L=zt(h,h._x_keyExpression||"index");h._x_prevKeys=[],h._x_lookup={},w(()=>KM(h,R,I,L)),C(()=>{Object.values(h._x_lookup).forEach(W=>ge(()=>{Bo(W),W.remove()})),delete h._x_prevKeys,delete h._x_lookup})});function KM(h,b,w,C){let R=L=>typeof L=="object"&&!Array.isArray(L),I=h;w(L=>{GM(L)&&L>=0&&(L=Array.from(Array(L).keys(),Ge=>Ge+1)),L===void 0&&(L=[]);let W=h._x_lookup,X=h._x_prevKeys,_e=[],ot=[];if(R(L))L=Object.entries(L).map(([Ge,Rt])=>{let ft=Fy(b,Rt,Ge,L);C(Ot=>{ot.includes(Ot)&&Ln("Duplicate key on x-for",h),ot.push(Ot)},{scope:{index:Ge,...ft}}),_e.push(ft)});else for(let Ge=0;Ge<L.length;Ge++){let Rt=Fy(b,L[Ge],Ge,L);C(ft=>{ot.includes(ft)&&Ln("Duplicate key on x-for",h),ot.push(ft)},{scope:{index:Ge,...Rt}}),_e.push(Rt)}let qt=[],kt=[],jt=[],oi=[];for(let Ge=0;Ge<X.length;Ge++){let Rt=X[Ge];ot.indexOf(Rt)===-1&&jt.push(Rt)}X=X.filter(Ge=>!jt.includes(Ge));let or="template";for(let Ge=0;Ge<ot.length;Ge++){let Rt=ot[Ge],ft=X.indexOf(Rt);if(ft===-1)X.splice(Ge,0,Rt),qt.push([or,Ge]);else if(ft!==Ge){let Ot=X.splice(Ge,1)[0],Fn=X.splice(ft-1,1)[0];X.splice(Ge,0,Fn),X.splice(ft,0,Ot),kt.push([Ot,Fn])}else oi.push(Rt);or=Rt}for(let Ge=0;Ge<jt.length;Ge++){let Rt=jt[Ge];Rt in W&&(ge(()=>{Bo(W[Rt]),W[Rt].remove()}),delete W[Rt])}for(let Ge=0;Ge<kt.length;Ge++){let[Rt,ft]=kt[Ge],Ot=W[Rt],Fn=W[ft],Yi=document.createElement("div");ge(()=>{Fn||Ln('x-for ":key" is undefined or invalid',I,ft,W),Fn.after(Yi),Ot.after(Fn),Fn._x_currentIfEl&&Fn.after(Fn._x_currentIfEl),Yi.before(Ot),Ot._x_currentIfEl&&Ot.after(Ot._x_currentIfEl),Yi.remove()}),Fn._x_refreshXForScope(_e[ot.indexOf(ft)])}for(let Ge=0;Ge<qt.length;Ge++){let[Rt,ft]=qt[Ge],Ot=Rt==="template"?I:W[Rt];Ot._x_currentIfEl&&(Ot=Ot._x_currentIfEl);let Fn=_e[ft],Yi=ot[ft],ar=document.importNode(I.content,!0).firstElementChild,Ho=ee(Fn);ne(ar,Ho,I),ar._x_refreshXForScope=Ja=>{Object.entries(Ja).forEach(([Ga,zo])=>{Ho[Ga]=zo})},ge(()=>{Ot.after(ar),cs(()=>Or(ar))()}),typeof Yi=="object"&&Ln("x-for key cannot be an object, it must be a string or an integer",I),W[Yi]=ar}for(let Ge=0;Ge<oi.length;Ge++)W[oi[Ge]]._x_refreshXForScope(_e[ot.indexOf(oi[Ge])]);I._x_prevKeys=ot})}function JM(h){let b=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,w=/^\s*\(|\)\s*$/g,C=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,R=h.match(C);if(!R)return;let I={};I.items=R[2].trim();let L=R[1].replace(w,"").trim(),W=L.match(b);return W?(I.item=L.replace(b,"").trim(),I.index=W[1].trim(),W[2]&&(I.collection=W[2].trim())):I.item=L,I}function Fy(h,b,w,C){let R={};return/^\[.*\]$/.test(h.item)&&Array.isArray(b)?h.item.replace("[","").replace("]","").split(",").map(L=>L.trim()).forEach((L,W)=>{R[L]=b[W]}):/^\{.*\}$/.test(h.item)&&!Array.isArray(b)&&typeof b=="object"?h.item.replace("{","").replace("}","").split(",").map(L=>L.trim()).forEach(L=>{R[L]=b[L]}):R[h.item]=b,h.index&&(R[h.index]=w),h.collection&&(R[h.collection]=C),R}function GM(h){return!Array.isArray(h)&&!isNaN(h)}function By(){}By.inline=(h,{expression:b},{cleanup:w})=>{let C=Vi(h);C._x_refs||(C._x_refs={}),C._x_refs[b]=h,w(()=>delete C._x_refs[b])},k("ref",By),k("if",(h,{expression:b},{effect:w,cleanup:C})=>{h.tagName.toLowerCase()!=="template"&&Ln("x-if can only be used on a <template> tag",h);let R=zt(h,b),I=()=>{if(h._x_currentIfEl)return h._x_currentIfEl;let W=h.content.cloneNode(!0).firstElementChild;return ne(W,{},h),ge(()=>{h.after(W),cs(()=>Or(W))()}),h._x_currentIfEl=W,h._x_undoIf=()=>{ge(()=>{Bo(W),W.remove()}),delete h._x_currentIfEl},W},L=()=>{h._x_undoIf&&(h._x_undoIf(),delete h._x_undoIf)};w(()=>R(W=>{W?I():L()})),C(()=>h._x_undoIf&&h._x_undoIf())}),k("id",(h,{expression:b},{evaluate:w})=>{w(b).forEach(R=>LM(h,R))}),Ac((h,b)=>{h._x_ids&&(b._x_ids=h._x_ids)}),nt(st("@",tt(we("on:")))),k("on",cs((h,{value:b,modifiers:w,expression:C},{cleanup:R})=>{let I=C?zt(h,C):()=>{};h.tagName.toLowerCase()==="template"&&(h._x_forwardEvents||(h._x_forwardEvents=[]),h._x_forwardEvents.includes(b)||h._x_forwardEvents.push(b));let L=Gf(h,b,w,W=>{I(()=>{},{scope:{$event:W},params:[W]})});R(()=>L())})),Ic("Collapse","collapse","collapse"),Ic("Intersect","intersect","intersect"),Ic("Focus","trap","focus"),Ic("Mask","mask","mask");function Ic(h,b,w){k(b,C=>Ln(`You can't use [x-${b}] without first installing the "${h}" plugin here: https://alpinejs.dev/plugins/${w}`,C))}Ka.setEvaluator(_),Ka.setReactivityEngine({reactive:Rc.reactive,effect:Rc.effect,release:Rc.stop,raw:Rc.toRaw});var Hy=Ka,XM=Hy}}),uC=_r({"../alpine/packages/collapse/dist/module.cjs.js"(n,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o=(p,m)=>{for(var g in m)t(p,g,{get:m[g],enumerable:!0})},a=(p,m,g,y)=>{if(m&&typeof m=="object"||typeof m=="function")for(let v of r(m))!s.call(p,v)&&v!==g&&t(p,v,{get:()=>m[v],enumerable:!(y=i(m,v))||y.enumerable});return p},l=p=>a(t({},"__esModule",{value:!0}),p),c={};o(c,{collapse:()=>u,default:()=>f}),e.exports=l(c);function u(p){p.directive("collapse",m),m.inline=(g,{modifiers:y})=>{y.includes("min")&&(g._x_doShow=()=>{},g._x_doHide=()=>{})};function m(g,{modifiers:y}){let v=d(y,"duration",250)/1e3,x=d(y,"min",0),S=!y.includes("min");g._x_isShown||(g.style.height=`${x}px`),!g._x_isShown&&S&&(g.hidden=!0),g._x_isShown||(g.style.overflow="hidden");let O=(A,D)=>{let P=p.setStyles(A,D);return D.height?()=>{}:P},T={transitionProperty:"height",transitionDuration:`${v}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};g._x_transition={in(A=()=>{},D=()=>{}){S&&(g.hidden=!1),S&&(g.style.display=null);let P=g.getBoundingClientRect().height;g.style.height="auto";let B=g.getBoundingClientRect().height;P===B&&(P=x),p.transition(g,p.setStyles,{during:T,start:{height:P+"px"},end:{height:B+"px"}},()=>g._x_isShown=!0,()=>{Math.abs(g.getBoundingClientRect().height-B)<1&&(g.style.overflow=null)})},out(A=()=>{},D=()=>{}){let P=g.getBoundingClientRect().height;p.transition(g,O,{during:T,start:{height:P+"px"},end:{height:x+"px"}},()=>g.style.overflow="hidden",()=>{g._x_isShown=!1,g.style.height==`${x}px`&&S&&(g.style.display="none",g.hidden=!0)})}}}}function d(p,m,g){if(p.indexOf(m)===-1)return g;const y=p[p.indexOf(m)+1];if(!y)return g;if(m==="duration"){let v=y.match(/([0-9]+)ms/);if(v)return v[1]}if(m==="min"){let v=y.match(/([0-9]+)px/);if(v)return v[1]}return y}var f=u}}),dC=_r({"../alpine/packages/focus/dist/module.cjs.js"(n,e){var t=Object.create,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,l=(D,P)=>function(){return P||(0,D[s(D)[0]])((P={exports:{}}).exports,P),P.exports},c=(D,P)=>{for(var B in P)i(D,B,{get:P[B],enumerable:!0})},u=(D,P,B,Y)=>{if(P&&typeof P=="object"||typeof P=="function")for(let ee of s(P))!a.call(D,ee)&&ee!==B&&i(D,ee,{get:()=>P[ee],enumerable:!(Y=r(P,ee))||Y.enumerable});return D},d=(D,P,B)=>(B=D!=null?t(o(D)):{},u(!D||!D.__esModule?i(B,"default",{value:D,enumerable:!0}):B,D)),f=D=>u(i({},"__esModule",{value:!0}),D),p=l({"node_modules/tabbable/dist/index.js"(D){Object.defineProperty(D,"__esModule",{value:!0});var P=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],B=P.join(","),Y=typeof Element>"u",ee=Y?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,U=!Y&&Element.prototype.getRootNode?function(ge){return ge.getRootNode()}:function(ge){return ge.ownerDocument},me=function(J,Z,Ne){var ce=Array.prototype.slice.apply(J.querySelectorAll(B));return Z&&ee.call(J,B)&&ce.unshift(J),ce=ce.filter(Ne),ce},Ze=function ge(J,Z,Ne){for(var ce=[],Et=Array.from(J);Et.length;){var Fe=Et.shift();if(Fe.tagName==="SLOT"){var ne=Fe.assignedElements(),ae=ne.length?ne:Fe.children,De=ge(ae,!0,Ne);Ne.flatten?ce.push.apply(ce,De):ce.push({scope:Fe,candidates:De})}else{var xt=ee.call(Fe,B);xt&&Ne.filter(Fe)&&(Z||!J.includes(Fe))&&ce.push(Fe);var et=Fe.shadowRoot||typeof Ne.getShadowRoot=="function"&&Ne.getShadowRoot(Fe),nn=!Ne.shadowRootFilter||Ne.shadowRootFilter(Fe);if(et&&nn){var Yt=ge(et===!0?Fe.children:et.children,!0,Ne);Ne.flatten?ce.push.apply(ce,Yt):ce.push({scope:Fe,candidates:Yt})}else Et.unshift.apply(Et,Fe.children)}}return ce},Te=function(J,Z){return J.tabIndex<0&&(Z||/^(AUDIO|VIDEO|DETAILS)$/.test(J.tagName)||J.isContentEditable)&&isNaN(parseInt(J.getAttribute("tabindex"),10))?0:J.tabIndex},qe=function(J,Z){return J.tabIndex===Z.tabIndex?J.documentOrder-Z.documentOrder:J.tabIndex-Z.tabIndex},Ke=function(J){return J.tagName==="INPUT"},_t=function(J){return Ke(J)&&J.type==="hidden"},mt=function(J){var Z=J.tagName==="DETAILS"&&Array.prototype.slice.apply(J.children).some(function(Ne){return Ne.tagName==="SUMMARY"});return Z},tn=function(J,Z){for(var Ne=0;Ne<J.length;Ne++)if(J[Ne].checked&&J[Ne].form===Z)return J[Ne]},ze=function(J){if(!J.name)return!0;var Z=J.form||U(J),Ne=function(ne){return Z.querySelectorAll('input[type="radio"][name="'+ne+'"]')},ce;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")ce=Ne(window.CSS.escape(J.name));else try{ce=Ne(J.name)}catch(Fe){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",Fe.message),!1}var Et=tn(ce,J.form);return!Et||Et===J},Re=function(J){return Ke(J)&&J.type==="radio"},je=function(J){return Re(J)&&!ze(J)},Be=function(J){var Z=J.getBoundingClientRect(),Ne=Z.width,ce=Z.height;return Ne===0&&ce===0},be=function(J,Z){var Ne=Z.displayCheck,ce=Z.getShadowRoot;if(getComputedStyle(J).visibility==="hidden")return!0;var Et=ee.call(J,"details>summary:first-of-type"),Fe=Et?J.parentElement:J;if(ee.call(Fe,"details:not([open]) *"))return!0;var ne=U(J).host,ae=(ne==null?void 0:ne.ownerDocument.contains(ne))||J.ownerDocument.contains(J);if(!Ne||Ne==="full"){if(typeof ce=="function"){for(var De=J;J;){var xt=J.parentElement,et=U(J);if(xt&&!xt.shadowRoot&&ce(xt)===!0)return Be(J);J.assignedSlot?J=J.assignedSlot:!xt&&et!==J.ownerDocument?J=et.host:J=xt}J=De}if(ae)return!J.getClientRects().length}else if(Ne==="non-zero-area")return Be(J);return!1},ue=function(J){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(J.tagName))for(var Z=J.parentElement;Z;){if(Z.tagName==="FIELDSET"&&Z.disabled){for(var Ne=0;Ne<Z.children.length;Ne++){var ce=Z.children.item(Ne);if(ce.tagName==="LEGEND")return ee.call(Z,"fieldset[disabled] *")?!0:!ce.contains(J)}return!0}Z=Z.parentElement}return!1},yt=function(J,Z){return!(Z.disabled||_t(Z)||be(Z,J)||mt(Z)||ue(Z))},oe=function(J,Z){return!(je(Z)||Te(Z)<0||!yt(J,Z))},ke=function(J){var Z=parseInt(J.getAttribute("tabindex"),10);return!!(isNaN(Z)||Z>=0)},Ye=function ge(J){var Z=[],Ne=[];return J.forEach(function(ce,Et){var Fe=!!ce.scope,ne=Fe?ce.scope:ce,ae=Te(ne,Fe),De=Fe?ge(ce.candidates):ne;ae===0?Fe?Z.push.apply(Z,De):Z.push(ne):Ne.push({documentOrder:Et,tabIndex:ae,item:ce,isScope:Fe,content:De})}),Ne.sort(qe).reduce(function(ce,Et){return Et.isScope?ce.push.apply(ce,Et.content):ce.push(Et.content),ce},[]).concat(Z)},gt=function(J,Z){Z=Z||{};var Ne;return Z.getShadowRoot?Ne=Ze([J],Z.includeContainer,{filter:oe.bind(null,Z),flatten:!1,getShadowRoot:Z.getShadowRoot,shadowRootFilter:ke}):Ne=me(J,Z.includeContainer,oe.bind(null,Z)),Ye(Ne)},Le=function(J,Z){Z=Z||{};var Ne;return Z.getShadowRoot?Ne=Ze([J],Z.includeContainer,{filter:yt.bind(null,Z),flatten:!0,getShadowRoot:Z.getShadowRoot}):Ne=me(J,Z.includeContainer,yt.bind(null,Z)),Ne},Ee=function(J,Z){if(Z=Z||{},!J)throw new Error("No node provided");return ee.call(J,B)===!1?!1:oe(Z,J)},an=P.concat("iframe").join(","),Bt=function(J,Z){if(Z=Z||{},!J)throw new Error("No node provided");return ee.call(J,an)===!1?!1:yt(Z,J)};D.focusable=Le,D.isFocusable=Bt,D.isTabbable=Ee,D.tabbable=gt}}),m=l({"node_modules/focus-trap/dist/focus-trap.js"(D){Object.defineProperty(D,"__esModule",{value:!0});var P=p();function B(ze,Re){var je=Object.keys(ze);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(ze);Re&&(Be=Be.filter(function(be){return Object.getOwnPropertyDescriptor(ze,be).enumerable})),je.push.apply(je,Be)}return je}function Y(ze){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re]!=null?arguments[Re]:{};Re%2?B(Object(je),!0).forEach(function(Be){ee(ze,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ze,Object.getOwnPropertyDescriptors(je)):B(Object(je)).forEach(function(Be){Object.defineProperty(ze,Be,Object.getOwnPropertyDescriptor(je,Be))})}return ze}function ee(ze,Re,je){return Re in ze?Object.defineProperty(ze,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):ze[Re]=je,ze}var U=function(){var ze=[];return{activateTrap:function(je){if(ze.length>0){var Be=ze[ze.length-1];Be!==je&&Be.pause()}var be=ze.indexOf(je);be===-1||ze.splice(be,1),ze.push(je)},deactivateTrap:function(je){var Be=ze.indexOf(je);Be!==-1&&ze.splice(Be,1),ze.length>0&&ze[ze.length-1].unpause()}}}(),me=function(Re){return Re.tagName&&Re.tagName.toLowerCase()==="input"&&typeof Re.select=="function"},Ze=function(Re){return Re.key==="Escape"||Re.key==="Esc"||Re.keyCode===27},Te=function(Re){return Re.key==="Tab"||Re.keyCode===9},qe=function(Re){return setTimeout(Re,0)},Ke=function(Re,je){var Be=-1;return Re.every(function(be,ue){return je(be)?(Be=ue,!1):!0}),Be},_t=function(Re){for(var je=arguments.length,Be=new Array(je>1?je-1:0),be=1;be<je;be++)Be[be-1]=arguments[be];return typeof Re=="function"?Re.apply(void 0,Be):Re},mt=function(Re){return Re.target.shadowRoot&&typeof Re.composedPath=="function"?Re.composedPath()[0]:Re.target},tn=function(Re,je){var Be=(je==null?void 0:je.document)||document,be=Y({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},je),ue={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},yt,oe=function(ne,ae,De){return ne&&ne[ae]!==void 0?ne[ae]:be[De||ae]},ke=function(ne){return ue.containerGroups.findIndex(function(ae){var De=ae.container,xt=ae.tabbableNodes;return De.contains(ne)||xt.find(function(et){return et===ne})})},Ye=function(ne){var ae=be[ne];if(typeof ae=="function"){for(var De=arguments.length,xt=new Array(De>1?De-1:0),et=1;et<De;et++)xt[et-1]=arguments[et];ae=ae.apply(void 0,xt)}if(ae===!0&&(ae=void 0),!ae){if(ae===void 0||ae===!1)return ae;throw new Error("`".concat(ne,"` was specified but was not a node, or did not return a node"))}var nn=ae;if(typeof ae=="string"&&(nn=Be.querySelector(ae),!nn))throw new Error("`".concat(ne,"` as selector refers to no known node"));return nn},gt=function(){var ne=Ye("initialFocus");if(ne===!1)return!1;if(ne===void 0)if(ke(Be.activeElement)>=0)ne=Be.activeElement;else{var ae=ue.tabbableGroups[0],De=ae&&ae.firstTabbableNode;ne=De||Ye("fallbackFocus")}if(!ne)throw new Error("Your focus-trap needs to have at least one focusable element");return ne},Le=function(){if(ue.containerGroups=ue.containers.map(function(ne){var ae=P.tabbable(ne,be.tabbableOptions),De=P.focusable(ne,be.tabbableOptions);return{container:ne,tabbableNodes:ae,focusableNodes:De,firstTabbableNode:ae.length>0?ae[0]:null,lastTabbableNode:ae.length>0?ae[ae.length-1]:null,nextTabbableNode:function(et){var nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Yt=De.findIndex(function(ri){return ri===et});if(!(Yt<0))return nn?De.slice(Yt+1).find(function(ri){return P.isTabbable(ri,be.tabbableOptions)}):De.slice(0,Yt).reverse().find(function(ri){return P.isTabbable(ri,be.tabbableOptions)})}}}),ue.tabbableGroups=ue.containerGroups.filter(function(ne){return ne.tabbableNodes.length>0}),ue.tabbableGroups.length<=0&&!Ye("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},Ee=function Fe(ne){if(ne!==!1&&ne!==Be.activeElement){if(!ne||!ne.focus){Fe(gt());return}ne.focus({preventScroll:!!be.preventScroll}),ue.mostRecentlyFocusedNode=ne,me(ne)&&ne.select()}},an=function(ne){var ae=Ye("setReturnFocus",ne);return ae||(ae===!1?!1:ne)},Bt=function(ne){var ae=mt(ne);if(!(ke(ae)>=0)){if(_t(be.clickOutsideDeactivates,ne)){yt.deactivate({returnFocus:be.returnFocusOnDeactivate&&!P.isFocusable(ae,be.tabbableOptions)});return}_t(be.allowOutsideClick,ne)||ne.preventDefault()}},ge=function(ne){var ae=mt(ne),De=ke(ae)>=0;De||ae instanceof Document?De&&(ue.mostRecentlyFocusedNode=ae):(ne.stopImmediatePropagation(),Ee(ue.mostRecentlyFocusedNode||gt()))},J=function(ne){var ae=mt(ne);Le();var De=null;if(ue.tabbableGroups.length>0){var xt=ke(ae),et=xt>=0?ue.containerGroups[xt]:void 0;if(xt<0)ne.shiftKey?De=ue.tabbableGroups[ue.tabbableGroups.length-1].lastTabbableNode:De=ue.tabbableGroups[0].firstTabbableNode;else if(ne.shiftKey){var nn=Ke(ue.tabbableGroups,function(Wi){var Pt=Wi.firstTabbableNode;return ae===Pt});if(nn<0&&(et.container===ae||P.isFocusable(ae,be.tabbableOptions)&&!P.isTabbable(ae,be.tabbableOptions)&&!et.nextTabbableNode(ae,!1))&&(nn=xt),nn>=0){var Yt=nn===0?ue.tabbableGroups.length-1:nn-1,ri=ue.tabbableGroups[Yt];De=ri.lastTabbableNode}}else{var gi=Ke(ue.tabbableGroups,function(Wi){var Pt=Wi.lastTabbableNode;return ae===Pt});if(gi<0&&(et.container===ae||P.isFocusable(ae,be.tabbableOptions)&&!P.isTabbable(ae,be.tabbableOptions)&&!et.nextTabbableNode(ae))&&(gi=xt),gi>=0){var rr=gi===ue.tabbableGroups.length-1?0:gi+1,In=ue.tabbableGroups[rr];De=In.firstTabbableNode}}}else De=Ye("fallbackFocus");De&&(ne.preventDefault(),Ee(De))},Z=function(ne){if(Ze(ne)&&_t(be.escapeDeactivates,ne)!==!1){ne.preventDefault(),yt.deactivate();return}if(Te(ne)){J(ne);return}},Ne=function(ne){var ae=mt(ne);ke(ae)>=0||_t(be.clickOutsideDeactivates,ne)||_t(be.allowOutsideClick,ne)||(ne.preventDefault(),ne.stopImmediatePropagation())},ce=function(){if(ue.active)return U.activateTrap(yt),ue.delayInitialFocusTimer=be.delayInitialFocus?qe(function(){Ee(gt())}):Ee(gt()),Be.addEventListener("focusin",ge,!0),Be.addEventListener("mousedown",Bt,{capture:!0,passive:!1}),Be.addEventListener("touchstart",Bt,{capture:!0,passive:!1}),Be.addEventListener("click",Ne,{capture:!0,passive:!1}),Be.addEventListener("keydown",Z,{capture:!0,passive:!1}),yt},Et=function(){if(ue.active)return Be.removeEventListener("focusin",ge,!0),Be.removeEventListener("mousedown",Bt,!0),Be.removeEventListener("touchstart",Bt,!0),Be.removeEventListener("click",Ne,!0),Be.removeEventListener("keydown",Z,!0),yt};return yt={get active(){return ue.active},get paused(){return ue.paused},activate:function(ne){if(ue.active)return this;var ae=oe(ne,"onActivate"),De=oe(ne,"onPostActivate"),xt=oe(ne,"checkCanFocusTrap");xt||Le(),ue.active=!0,ue.paused=!1,ue.nodeFocusedBeforeActivation=Be.activeElement,ae&&ae();var et=function(){xt&&Le(),ce(),De&&De()};return xt?(xt(ue.containers.concat()).then(et,et),this):(et(),this)},deactivate:function(ne){if(!ue.active)return this;var ae=Y({onDeactivate:be.onDeactivate,onPostDeactivate:be.onPostDeactivate,checkCanReturnFocus:be.checkCanReturnFocus},ne);clearTimeout(ue.delayInitialFocusTimer),ue.delayInitialFocusTimer=void 0,Et(),ue.active=!1,ue.paused=!1,U.deactivateTrap(yt);var De=oe(ae,"onDeactivate"),xt=oe(ae,"onPostDeactivate"),et=oe(ae,"checkCanReturnFocus"),nn=oe(ae,"returnFocus","returnFocusOnDeactivate");De&&De();var Yt=function(){qe(function(){nn&&Ee(an(ue.nodeFocusedBeforeActivation)),xt&&xt()})};return nn&&et?(et(an(ue.nodeFocusedBeforeActivation)).then(Yt,Yt),this):(Yt(),this)},pause:function(){return ue.paused||!ue.active?this:(ue.paused=!0,Et(),this)},unpause:function(){return!ue.paused||!ue.active?this:(ue.paused=!1,Le(),ce(),this)},updateContainerElements:function(ne){var ae=[].concat(ne).filter(Boolean);return ue.containers=ae.map(function(De){return typeof De=="string"?Be.querySelector(De):De}),ue.active&&Le(),this}},yt.updateContainerElements(Re),yt};D.createFocusTrap=tn}}),g={};c(g,{default:()=>A,focus:()=>x}),e.exports=f(g);var y=d(m()),v=d(p());function x(D){let P,B;window.addEventListener("focusin",()=>{P=B,B=document.activeElement}),D.magic("focus",Y=>{let ee=Y;return{__noscroll:!1,__wrapAround:!1,within(U){return ee=U,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(U){return(0,v.isFocusable)(U)},previouslyFocused(){return P},lastFocused(){return P},focused(){return B},focusables(){return Array.isArray(ee)?ee:(0,v.focusable)(ee,{displayCheck:"none"})},all(){return this.focusables()},isFirst(U){let me=this.all();return me[0]&&me[0].isSameNode(U)},isLast(U){let me=this.all();return me.length&&me.slice(-1)[0].isSameNode(U)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let U=this.all(),me=document.activeElement;if(U.indexOf(me)!==-1)return this.__wrapAround&&U.indexOf(me)===U.length-1?U[0]:U[U.indexOf(me)+1]},getPrevious(){let U=this.all(),me=document.activeElement;if(U.indexOf(me)!==-1)return this.__wrapAround&&U.indexOf(me)===0?U.slice(-1)[0]:U[U.indexOf(me)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(U){U&&setTimeout(()=>{U.hasAttribute("tabindex")||U.setAttribute("tabindex","0"),U.focus({preventScroll:this.__noscroll})})}}}),D.directive("trap",D.skipDuringClone((Y,{expression:ee,modifiers:U},{effect:me,evaluateLater:Ze,cleanup:Te})=>{let qe=Ze(ee),Ke=!1,_t={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>Y};if(U.includes("noautofocus"))_t.initialFocus=!1;else{let je=Y.querySelector("[autofocus]");je&&(_t.initialFocus=je)}let mt=(0,y.createFocusTrap)(Y,_t),tn=()=>{},ze=()=>{};const Re=()=>{tn(),tn=()=>{},ze(),ze=()=>{},mt.deactivate({returnFocus:!U.includes("noreturn")})};me(()=>qe(je=>{Ke!==je&&(je&&!Ke&&(U.includes("noscroll")&&(ze=T()),U.includes("inert")&&(tn=S(Y)),setTimeout(()=>{mt.activate()},15)),!je&&Ke&&Re(),Ke=!!je)})),Te(Re)},(Y,{expression:ee,modifiers:U},{evaluate:me})=>{U.includes("inert")&&me(ee)&&S(Y)}))}function S(D){let P=[];return O(D,B=>{let Y=B.hasAttribute("aria-hidden");B.setAttribute("aria-hidden","true"),P.push(()=>Y||B.removeAttribute("aria-hidden"))}),()=>{for(;P.length;)P.pop()()}}function O(D,P){D.isSameNode(document.body)||!D.parentNode||Array.from(D.parentNode.children).forEach(B=>{B.isSameNode(D)?O(D.parentNode,P):P(B)})}function T(){let D=document.documentElement.style.overflow,P=document.documentElement.style.paddingRight,B=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${B}px`,()=>{document.documentElement.style.overflow=D,document.documentElement.style.paddingRight=P}}var A=x}}),fC=_r({"../alpine/packages/persist/dist/module.cjs.js"(n,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o=(g,y)=>{for(var v in y)t(g,v,{get:y[v],enumerable:!0})},a=(g,y,v,x)=>{if(y&&typeof y=="object"||typeof y=="function")for(let S of r(y))!s.call(g,S)&&S!==v&&t(g,S,{get:()=>y[S],enumerable:!(x=i(y,S))||x.enumerable});return g},l=g=>a(t({},"__esModule",{value:!0}),g),c={};o(c,{default:()=>m,persist:()=>u}),e.exports=l(c);function u(g){let y=()=>{let v,x;try{x=localStorage}catch(S){console.error(S),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let O=new Map;x={getItem:O.get.bind(O),setItem:O.set.bind(O)}}return g.interceptor((S,O,T,A,D)=>{let P=v||`_x_${A}`,B=d(P,x)?f(P,x):S;return T(B),g.effect(()=>{let Y=O();p(P,Y,x),T(Y)}),B},S=>{S.as=O=>(v=O,S),S.using=O=>(x=O,S)})};Object.defineProperty(g,"$persist",{get:()=>y()}),g.magic("persist",y),g.persist=(v,{get:x,set:S},O=localStorage)=>{let T=d(v,O)?f(v,O):x();S(T),g.effect(()=>{let A=x();p(v,A,O),S(A)})}}function d(g,y){return y.getItem(g)!==null}function f(g,y){let v=y.getItem(g,y);if(v!==void 0)return JSON.parse(v)}function p(g,y,v){v.setItem(g,JSON.stringify(y))}var m=u}}),hC=_r({"../alpine/packages/intersect/dist/module.cjs.js"(n,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o=(g,y)=>{for(var v in y)t(g,v,{get:y[v],enumerable:!0})},a=(g,y,v,x)=>{if(y&&typeof y=="object"||typeof y=="function")for(let S of r(y))!s.call(g,S)&&S!==v&&t(g,S,{get:()=>y[S],enumerable:!(x=i(y,S))||x.enumerable});return g},l=g=>a(t({},"__esModule",{value:!0}),g),c={};o(c,{default:()=>m,intersect:()=>u}),e.exports=l(c);function u(g){g.directive("intersect",g.skipDuringClone((y,{value:v,expression:x,modifiers:S},{evaluateLater:O,cleanup:T})=>{let A=O(x),D={rootMargin:p(S),threshold:d(S)},P=new IntersectionObserver(B=>{B.forEach(Y=>{Y.isIntersecting!==(v==="leave")&&(A(),S.includes("once")&&P.disconnect())})},D);P.observe(y),T(()=>{P.disconnect()})}))}function d(g){if(g.includes("full"))return .99;if(g.includes("half"))return .5;if(!g.includes("threshold"))return 0;let y=g[g.indexOf("threshold")+1];return y==="100"?1:y==="0"?0:+`.${y}`}function f(g){let y=g.match(/^(-?[0-9]+)(px|%)?$/);return y?y[1]+(y[2]||"px"):void 0}function p(g){const y="margin",v="0px 0px 0px 0px",x=g.indexOf(y);if(x===-1)return v;let S=[];for(let O=1;O<5;O++)S.push(f(g[x+O]||""));return S=S.filter(O=>O!==void 0),S.length?S.join(" ").trim():v}var m=u}}),pC=_r({"node_modules/@alpinejs/resize/dist/module.cjs.js"(n,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o=(v,x)=>{for(var S in x)t(v,S,{get:x[S],enumerable:!0})},a=(v,x,S,O)=>{if(x&&typeof x=="object"||typeof x=="function")for(let T of r(x))!s.call(v,T)&&T!==S&&t(v,T,{get:()=>x[T],enumerable:!(O=i(x,T))||O.enumerable});return v},l=v=>a(t({},"__esModule",{value:!0}),v),c={};o(c,{default:()=>y,resize:()=>u}),e.exports=l(c);function u(v){v.directive("resize",v.skipDuringClone((x,{value:S,expression:O,modifiers:T},{evaluateLater:A,cleanup:D})=>{let P=A(O),B=(ee,U)=>{P(()=>{},{scope:{$width:ee,$height:U}})},Y=T.includes("document")?m(B):d(x,B);D(()=>Y())}))}function d(v,x){let S=new ResizeObserver(O=>{let[T,A]=g(O);x(T,A)});return S.observe(v),()=>S.disconnect()}var f,p=new Set;function m(v){return p.add(v),f||(f=new ResizeObserver(x=>{let[S,O]=g(x);p.forEach(T=>T(S,O))}),f.observe(document.documentElement)),()=>{p.delete(v)}}function g(v){let x,S;for(let O of v)x=O.borderBoxSize[0].inlineSize,S=O.borderBoxSize[0].blockSize;return[x,S]}var y=u}}),mC=_r({"../alpine/packages/anchor/dist/module.cjs.js"(n,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o=(k,N)=>{for(var z in N)t(k,z,{get:N[z],enumerable:!0})},a=(k,N,z,j)=>{if(N&&typeof N=="object"||typeof N=="function")for(let K of r(N))!s.call(k,K)&&K!==z&&t(k,K,{get:()=>N[K],enumerable:!(j=i(N,K))||j.enumerable});return k},l=k=>a(t({},"__esModule",{value:!0}),k),c={};o(c,{anchor:()=>Qe,default:()=>xe}),e.exports=l(c);var u=Math.min,d=Math.max,f=Math.round,p=Math.floor,m=k=>({x:k,y:k}),g={left:"right",right:"left",bottom:"top",top:"bottom"},y={start:"end",end:"start"};function v(k,N,z){return d(k,u(N,z))}function x(k,N){return typeof k=="function"?k(N):k}function S(k){return k.split("-")[0]}function O(k){return k.split("-")[1]}function T(k){return k==="x"?"y":"x"}function A(k){return k==="y"?"height":"width"}function D(k){return["top","bottom"].includes(S(k))?"y":"x"}function P(k){return T(D(k))}function B(k,N,z){z===void 0&&(z=!1);const j=O(k),K=P(k),Q=A(K);let ie=K==="x"?j===(z?"end":"start")?"right":"left":j==="start"?"bottom":"top";return N.reference[Q]>N.floating[Q]&&(ie=Ze(ie)),[ie,Ze(ie)]}function Y(k){const N=Ze(k);return[ee(k),N,ee(N)]}function ee(k){return k.replace(/start|end/g,N=>y[N])}function U(k,N,z){const j=["left","right"],K=["right","left"],Q=["top","bottom"],ie=["bottom","top"];switch(k){case"top":case"bottom":return z?N?K:j:N?j:K;case"left":case"right":return N?Q:ie;default:return[]}}function me(k,N,z,j){const K=O(k);let Q=U(S(k),z==="start",j);return K&&(Q=Q.map(ie=>ie+"-"+K),N&&(Q=Q.concat(Q.map(ee)))),Q}function Ze(k){return k.replace(/left|right|bottom|top/g,N=>g[N])}function Te(k){return{top:0,right:0,bottom:0,left:0,...k}}function qe(k){return typeof k!="number"?Te(k):{top:k,right:k,bottom:k,left:k}}function Ke(k){return{...k,top:k.y,left:k.x,right:k.x+k.width,bottom:k.y+k.height}}function _t(k,N,z){let{reference:j,floating:K}=k;const Q=D(N),ie=P(N),pe=A(ie),Oe=S(N),Ie=Q==="y",st=j.x+j.width/2-K.width/2,tt=j.y+j.height/2-K.height/2,bt=j[pe]/2-K[pe]/2;let Je;switch(Oe){case"top":Je={x:st,y:j.y-K.height};break;case"bottom":Je={x:st,y:j.y+j.height};break;case"right":Je={x:j.x+j.width,y:tt};break;case"left":Je={x:j.x-K.width,y:tt};break;default:Je={x:j.x,y:j.y}}switch(O(N)){case"start":Je[ie]-=bt*(z&&Ie?-1:1);break;case"end":Je[ie]+=bt*(z&&Ie?-1:1);break}return Je}var mt=async(k,N,z)=>{const{placement:j="bottom",strategy:K="absolute",middleware:Q=[],platform:ie}=z,pe=Q.filter(Boolean),Oe=await(ie.isRTL==null?void 0:ie.isRTL(N));let Ie=await ie.getElementRects({reference:k,floating:N,strategy:K}),{x:st,y:tt}=_t(Ie,j,Oe),bt=j,Je={},nt=0;for(let pt=0;pt<pe.length;pt++){const{name:Kt,fn:St}=pe[pt],{x:Jt,y:Ut,data:si,reset:ln}=await St({x:st,y:tt,initialPlacement:j,placement:bt,strategy:K,middlewareData:Je,rects:Ie,platform:ie,elements:{reference:k,floating:N}});if(st=Jt??st,tt=Ut??tt,Je={...Je,[Kt]:{...Je[Kt],...si}},ln&&nt<=50){nt++,typeof ln=="object"&&(ln.placement&&(bt=ln.placement),ln.rects&&(Ie=ln.rects===!0?await ie.getElementRects({reference:k,floating:N,strategy:K}):ln.rects),{x:st,y:tt}=_t(Ie,bt,Oe)),pt=-1;continue}}return{x:st,y:tt,placement:bt,strategy:K,middlewareData:Je}};async function tn(k,N){var z;N===void 0&&(N={});const{x:j,y:K,platform:Q,rects:ie,elements:pe,strategy:Oe}=k,{boundary:Ie="clippingAncestors",rootBoundary:st="viewport",elementContext:tt="floating",altBoundary:bt=!1,padding:Je=0}=x(N,k),nt=qe(Je),Kt=pe[bt?tt==="floating"?"reference":"floating":tt],St=Ke(await Q.getClippingRect({element:(z=await(Q.isElement==null?void 0:Q.isElement(Kt)))==null||z?Kt:Kt.contextElement||await(Q.getDocumentElement==null?void 0:Q.getDocumentElement(pe.floating)),boundary:Ie,rootBoundary:st,strategy:Oe})),Jt=tt==="floating"?{...ie.floating,x:j,y:K}:ie.reference,Ut=await(Q.getOffsetParent==null?void 0:Q.getOffsetParent(pe.floating)),si=await(Q.isElement==null?void 0:Q.isElement(Ut))?await(Q.getScale==null?void 0:Q.getScale(Ut))||{x:1,y:1}:{x:1,y:1},ln=Ke(Q.convertOffsetParentRelativeRectToViewportRelativeRect?await Q.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Jt,offsetParent:Ut,strategy:Oe}):Jt);return{top:(St.top-ln.top+nt.top)/si.y,bottom:(ln.bottom-St.bottom+nt.bottom)/si.y,left:(St.left-ln.left+nt.left)/si.x,right:(ln.right-St.right+nt.right)/si.x}}var ze=function(k){return k===void 0&&(k={}),{name:"flip",options:k,async fn(N){var z,j;const{placement:K,middlewareData:Q,rects:ie,initialPlacement:pe,platform:Oe,elements:Ie}=N,{mainAxis:st=!0,crossAxis:tt=!0,fallbackPlacements:bt,fallbackStrategy:Je="bestFit",fallbackAxisSideDirection:nt="none",flipAlignment:pt=!0,...Kt}=x(k,N);if((z=Q.arrow)!=null&&z.alignmentOffset)return{};const St=S(K),Jt=S(pe)===pe,Ut=await(Oe.isRTL==null?void 0:Oe.isRTL(Ie.floating)),si=bt||(Jt||!pt?[Ze(pe)]:Y(pe));!bt&&nt!=="none"&&si.push(...me(pe,pt,nt,Ut));const ln=[pe,...si],Zn=await tn(N,Kt),Ln=[];let ss=((j=Q.flip)==null?void 0:j.overflows)||[];if(st&&Ln.push(Zn[St]),tt){const sr=B(K,ie,Ut);Ln.push(Zn[sr[0]],Zn[sr[1]])}if(ss=[...ss,{placement:K,overflows:Ln}],!Ln.every(sr=>sr<=0)){var Tc,Fo;const sr=(((Tc=Q.flip)==null?void 0:Tc.index)||0)+1,Ua=ln[sr];if(Ua)return{data:{index:sr,overflows:ss},reset:{placement:Ua}};let as=(Fo=ss.filter(Er=>Er.overflows[0]<=0).sort((Er,Vi)=>Er.overflows[1]-Vi.overflows[1])[0])==null?void 0:Fo.placement;if(!as)switch(Je){case"bestFit":{var Ya;const Er=(Ya=ss.map(Vi=>[Vi.placement,Vi.overflows.filter(Ei=>Ei>0).reduce((Ei,Bf)=>Ei+Bf,0)]).sort((Vi,Ei)=>Vi[1]-Ei[1])[0])==null?void 0:Ya[0];Er&&(as=Er);break}case"initialPlacement":as=pe;break}if(K!==as)return{reset:{placement:as}}}return{}}}};async function Re(k,N){const{placement:z,platform:j,elements:K}=k,Q=await(j.isRTL==null?void 0:j.isRTL(K.floating)),ie=S(z),pe=O(z),Oe=D(z)==="y",Ie=["left","top"].includes(ie)?-1:1,st=Q&&Oe?-1:1,tt=x(N,k);let{mainAxis:bt,crossAxis:Je,alignmentAxis:nt}=typeof tt=="number"?{mainAxis:tt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...tt};return pe&&typeof nt=="number"&&(Je=pe==="end"?nt*-1:nt),Oe?{x:Je*st,y:bt*Ie}:{x:bt*Ie,y:Je*st}}var je=function(k){return k===void 0&&(k=0),{name:"offset",options:k,async fn(N){const{x:z,y:j}=N,K=await Re(N,k);return{x:z+K.x,y:j+K.y,data:K}}}},Be=function(k){return k===void 0&&(k={}),{name:"shift",options:k,async fn(N){const{x:z,y:j,placement:K}=N,{mainAxis:Q=!0,crossAxis:ie=!1,limiter:pe={fn:Kt=>{let{x:St,y:Jt}=Kt;return{x:St,y:Jt}}},...Oe}=x(k,N),Ie={x:z,y:j},st=await tn(N,Oe),tt=D(S(K)),bt=T(tt);let Je=Ie[bt],nt=Ie[tt];if(Q){const Kt=bt==="y"?"top":"left",St=bt==="y"?"bottom":"right",Jt=Je+st[Kt],Ut=Je-st[St];Je=v(Jt,Je,Ut)}if(ie){const Kt=tt==="y"?"top":"left",St=tt==="y"?"bottom":"right",Jt=nt+st[Kt],Ut=nt-st[St];nt=v(Jt,nt,Ut)}const pt=pe.fn({...N,[bt]:Je,[tt]:nt});return{...pt,data:{x:pt.x-z,y:pt.y-j}}}}};function be(k){return oe(k)?(k.nodeName||"").toLowerCase():"#document"}function ue(k){var N;return(k==null||(N=k.ownerDocument)==null?void 0:N.defaultView)||window}function yt(k){var N;return(N=(oe(k)?k.ownerDocument:k.document)||window.document)==null?void 0:N.documentElement}function oe(k){return k instanceof Node||k instanceof ue(k).Node}function ke(k){return k instanceof Element||k instanceof ue(k).Element}function Ye(k){return k instanceof HTMLElement||k instanceof ue(k).HTMLElement}function gt(k){return typeof ShadowRoot>"u"?!1:k instanceof ShadowRoot||k instanceof ue(k).ShadowRoot}function Le(k){const{overflow:N,overflowX:z,overflowY:j,display:K}=Z(k);return/auto|scroll|overlay|hidden|clip/.test(N+j+z)&&!["inline","contents"].includes(K)}function Ee(k){return["table","td","th"].includes(be(k))}function an(k){const N=ge(),z=Z(k);return z.transform!=="none"||z.perspective!=="none"||(z.containerType?z.containerType!=="normal":!1)||!N&&(z.backdropFilter?z.backdropFilter!=="none":!1)||!N&&(z.filter?z.filter!=="none":!1)||["transform","perspective","filter"].some(j=>(z.willChange||"").includes(j))||["paint","layout","strict","content"].some(j=>(z.contain||"").includes(j))}function Bt(k){let N=ce(k);for(;Ye(N)&&!J(N);){if(an(N))return N;N=ce(N)}return null}function ge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function J(k){return["html","body","#document"].includes(be(k))}function Z(k){return ue(k).getComputedStyle(k)}function Ne(k){return ke(k)?{scrollLeft:k.scrollLeft,scrollTop:k.scrollTop}:{scrollLeft:k.pageXOffset,scrollTop:k.pageYOffset}}function ce(k){if(be(k)==="html")return k;const N=k.assignedSlot||k.parentNode||gt(k)&&k.host||yt(k);return gt(N)?N.host:N}function Et(k){const N=ce(k);return J(N)?k.ownerDocument?k.ownerDocument.body:k.body:Ye(N)&&Le(N)?N:Et(N)}function Fe(k,N,z){var j;N===void 0&&(N=[]),z===void 0&&(z=!0);const K=Et(k),Q=K===((j=k.ownerDocument)==null?void 0:j.body),ie=ue(K);return Q?N.concat(ie,ie.visualViewport||[],Le(K)?K:[],ie.frameElement&&z?Fe(ie.frameElement):[]):N.concat(K,Fe(K,[],z))}function ne(k){const N=Z(k);let z=parseFloat(N.width)||0,j=parseFloat(N.height)||0;const K=Ye(k),Q=K?k.offsetWidth:z,ie=K?k.offsetHeight:j,pe=f(z)!==Q||f(j)!==ie;return pe&&(z=Q,j=ie),{width:z,height:j,$:pe}}function ae(k){return ke(k)?k:k.contextElement}function De(k){const N=ae(k);if(!Ye(N))return m(1);const z=N.getBoundingClientRect(),{width:j,height:K,$:Q}=ne(N);let ie=(Q?f(z.width):z.width)/j,pe=(Q?f(z.height):z.height)/K;return(!ie||!Number.isFinite(ie))&&(ie=1),(!pe||!Number.isFinite(pe))&&(pe=1),{x:ie,y:pe}}var xt=m(0);function et(k){const N=ue(k);return!ge()||!N.visualViewport?xt:{x:N.visualViewport.offsetLeft,y:N.visualViewport.offsetTop}}function nn(k,N,z){return N===void 0&&(N=!1),!z||N&&z!==ue(k)?!1:N}function Yt(k,N,z,j){N===void 0&&(N=!1),z===void 0&&(z=!1);const K=k.getBoundingClientRect(),Q=ae(k);let ie=m(1);N&&(j?ke(j)&&(ie=De(j)):ie=De(k));const pe=nn(Q,z,j)?et(Q):m(0);let Oe=(K.left+pe.x)/ie.x,Ie=(K.top+pe.y)/ie.y,st=K.width/ie.x,tt=K.height/ie.y;if(Q){const bt=ue(Q),Je=j&&ke(j)?ue(j):j;let nt=bt.frameElement;for(;nt&&j&&Je!==bt;){const pt=De(nt),Kt=nt.getBoundingClientRect(),St=Z(nt),Jt=Kt.left+(nt.clientLeft+parseFloat(St.paddingLeft))*pt.x,Ut=Kt.top+(nt.clientTop+parseFloat(St.paddingTop))*pt.y;Oe*=pt.x,Ie*=pt.y,st*=pt.x,tt*=pt.y,Oe+=Jt,Ie+=Ut,nt=ue(nt).frameElement}}return Ke({width:st,height:tt,x:Oe,y:Ie})}function ri(k){let{rect:N,offsetParent:z,strategy:j}=k;const K=Ye(z),Q=yt(z);if(z===Q)return N;let ie={scrollLeft:0,scrollTop:0},pe=m(1);const Oe=m(0);if((K||!K&&j!=="fixed")&&((be(z)!=="body"||Le(Q))&&(ie=Ne(z)),Ye(z))){const Ie=Yt(z);pe=De(z),Oe.x=Ie.x+z.clientLeft,Oe.y=Ie.y+z.clientTop}return{width:N.width*pe.x,height:N.height*pe.y,x:N.x*pe.x-ie.scrollLeft*pe.x+Oe.x,y:N.y*pe.y-ie.scrollTop*pe.y+Oe.y}}function gi(k){return Array.from(k.getClientRects())}function rr(k){return Yt(yt(k)).left+Ne(k).scrollLeft}function In(k){const N=yt(k),z=Ne(k),j=k.ownerDocument.body,K=d(N.scrollWidth,N.clientWidth,j.scrollWidth,j.clientWidth),Q=d(N.scrollHeight,N.clientHeight,j.scrollHeight,j.clientHeight);let ie=-z.scrollLeft+rr(k);const pe=-z.scrollTop;return Z(j).direction==="rtl"&&(ie+=d(N.clientWidth,j.clientWidth)-K),{width:K,height:Q,x:ie,y:pe}}function Wi(k,N){const z=ue(k),j=yt(k),K=z.visualViewport;let Q=j.clientWidth,ie=j.clientHeight,pe=0,Oe=0;if(K){Q=K.width,ie=K.height;const Ie=ge();(!Ie||Ie&&N==="fixed")&&(pe=K.offsetLeft,Oe=K.offsetTop)}return{width:Q,height:ie,x:pe,y:Oe}}function Pt(k,N){const z=Yt(k,!0,N==="fixed"),j=z.top+k.clientTop,K=z.left+k.clientLeft,Q=Ye(k)?De(k):m(1),ie=k.clientWidth*Q.x,pe=k.clientHeight*Q.y,Oe=K*Q.x,Ie=j*Q.y;return{width:ie,height:pe,x:Oe,y:Ie}}function is(k,N,z){let j;if(N==="viewport")j=Wi(k,z);else if(N==="document")j=In(yt(k));else if(ke(N))j=Pt(N,z);else{const K=et(k);j={...N,x:N.x-K.x,y:N.y-K.y}}return Ke(j)}function Ci(k,N){const z=ce(k);return z===N||!ke(z)||J(z)?!1:Z(z).position==="fixed"||Ci(z,N)}function rs(k,N){const z=N.get(k);if(z)return z;let j=Fe(k,[],!1).filter(pe=>ke(pe)&&be(pe)!=="body"),K=null;const Q=Z(k).position==="fixed";let ie=Q?ce(k):k;for(;ke(ie)&&!J(ie);){const pe=Z(ie),Oe=an(ie);!Oe&&pe.position==="fixed"&&(K=null),(Q?!Oe&&!K:!Oe&&pe.position==="static"&&!!K&&["absolute","fixed"].includes(K.position)||Le(ie)&&!Oe&&Ci(k,ie))?j=j.filter(st=>st!==ie):K=pe,ie=ce(ie)}return N.set(k,j),j}function Cr(k){let{element:N,boundary:z,rootBoundary:j,strategy:K}=k;const ie=[...z==="clippingAncestors"?rs(N,this._c):[].concat(z),j],pe=ie[0],Oe=ie.reduce((Ie,st)=>{const tt=is(N,st,K);return Ie.top=d(tt.top,Ie.top),Ie.right=u(tt.right,Ie.right),Ie.bottom=u(tt.bottom,Ie.bottom),Ie.left=d(tt.left,Ie.left),Ie},is(N,pe,K));return{width:Oe.right-Oe.left,height:Oe.bottom-Oe.top,x:Oe.left,y:Oe.top}}function yi(k){return ne(k)}function zt(k,N,z){const j=Ye(N),K=yt(N),Q=z==="fixed",ie=Yt(k,!0,Q,N);let pe={scrollLeft:0,scrollTop:0};const Oe=m(0);if(j||!j&&!Q)if((be(N)!=="body"||Le(K))&&(pe=Ne(N)),j){const Ie=Yt(N,!0,Q,N);Oe.x=Ie.x+N.clientLeft,Oe.y=Ie.y+N.clientTop}else K&&(Oe.x=rr(K));return{x:ie.left+pe.scrollLeft-Oe.x,y:ie.top+pe.scrollTop-Oe.y,width:ie.width,height:ie.height}}function zs(k,N){return!Ye(k)||Z(k).position==="fixed"?null:N?N(k):k.offsetParent}function Lo(k,N){const z=ue(k);if(!Ye(k))return z;let j=zs(k,N);for(;j&&Ee(j)&&Z(j).position==="static";)j=zs(j,N);return j&&(be(j)==="html"||be(j)==="body"&&Z(j).position==="static"&&!an(j))?z:j||Bt(k)||z}var _=async function(k){let{reference:N,floating:z,strategy:j}=k;const K=this.getOffsetParent||Lo,Q=this.getDimensions;return{reference:zt(N,await K(z),j),floating:{x:0,y:0,...await Q(z)}}};function E(k){return Z(k).direction==="rtl"}var F={convertOffsetParentRelativeRectToViewportRelativeRect:ri,getDocumentElement:yt,getClippingRect:Cr,getOffsetParent:Lo,getElementRects:_,getClientRects:gi,getDimensions:yi,getScale:De,isElement:ke,isRTL:E};function V(k,N){let z=null,j;const K=yt(k);function Q(){clearTimeout(j),z&&z.disconnect(),z=null}function ie(pe,Oe){pe===void 0&&(pe=!1),Oe===void 0&&(Oe=1),Q();const{left:Ie,top:st,width:tt,height:bt}=k.getBoundingClientRect();if(pe||N(),!tt||!bt)return;const Je=p(st),nt=p(K.clientWidth-(Ie+tt)),pt=p(K.clientHeight-(st+bt)),Kt=p(Ie),Jt={rootMargin:-Je+"px "+-nt+"px "+-pt+"px "+-Kt+"px",threshold:d(0,u(1,Oe))||1};let Ut=!0;function si(ln){const Zn=ln[0].intersectionRatio;if(Zn!==Oe){if(!Ut)return ie();Zn?ie(!1,Zn):j=setTimeout(()=>{ie(!1,1e-7)},100)}Ut=!1}try{z=new IntersectionObserver(si,{...Jt,root:K.ownerDocument})}catch{z=new IntersectionObserver(si,Jt)}z.observe(k)}return ie(!0),Q}function le(k,N,z,j){j===void 0&&(j={});const{ancestorScroll:K=!0,ancestorResize:Q=!0,elementResize:ie=typeof ResizeObserver=="function",layoutShift:pe=typeof IntersectionObserver=="function",animationFrame:Oe=!1}=j,Ie=ae(k),st=K||Q?[...Ie?Fe(Ie):[],...Fe(N)]:[];st.forEach(St=>{K&&St.addEventListener("scroll",z,{passive:!0}),Q&&St.addEventListener("resize",z)});const tt=Ie&&pe?V(Ie,z):null;let bt=-1,Je=null;ie&&(Je=new ResizeObserver(St=>{let[Jt]=St;Jt&&Jt.target===Ie&&Je&&(Je.unobserve(N),cancelAnimationFrame(bt),bt=requestAnimationFrame(()=>{Je&&Je.observe(N)})),z()}),Ie&&!Oe&&Je.observe(Ie),Je.observe(N));let nt,pt=Oe?Yt(k):null;Oe&&Kt();function Kt(){const St=Yt(k);pt&&(St.x!==pt.x||St.y!==pt.y||St.width!==pt.width||St.height!==pt.height)&&z(),pt=St,nt=requestAnimationFrame(Kt)}return z(),()=>{st.forEach(St=>{K&&St.removeEventListener("scroll",z),Q&&St.removeEventListener("resize",z)}),tt&&tt(),Je&&Je.disconnect(),Je=null,Oe&&cancelAnimationFrame(nt)}}var he=(k,N,z)=>{const j=new Map,K={platform:F,...z},Q={...K.platform,_c:j};return mt(k,N,{...K,platform:Q})};function Qe(k){k.magic("anchor",N=>{if(!N._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return N._x_anchor}),k.interceptClone((N,z)=>{N&&N._x_anchor&&!z._x_anchor&&(z._x_anchor=N._x_anchor)}),k.directive("anchor",k.skipDuringClone((N,{expression:z,modifiers:j,value:K},{cleanup:Q,evaluate:ie})=>{let{placement:pe,offsetValue:Oe,unstyled:Ie}=rt(j);N._x_anchor=k.reactive({x:0,y:0});let st=ie(z);if(!st)throw"Alpine: no element provided to x-anchor...";let tt=()=>{let Je;he(st,N,{placement:pe,middleware:[ze(),Be({padding:5}),je(Oe)]}).then(({x:nt,y:pt})=>{Ie||we(N,nt,pt),JSON.stringify({x:nt,y:pt})!==Je&&(N._x_anchor.x=nt,N._x_anchor.y=pt),Je=JSON.stringify({x:nt,y:pt})})},bt=le(st,N,()=>tt());Q(()=>bt())},(N,{expression:z,modifiers:j,value:K},{cleanup:Q,evaluate:ie})=>{let{unstyled:pe}=rt(j);N._x_anchor&&(pe||we(N,N._x_anchor.x,N._x_anchor.y))}))}function we(k,N,z){Object.assign(k.style,{left:N+"px",top:z+"px",position:"absolute"})}function rt(k){let z=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(Q=>k.includes(Q)),j=0;if(k.includes("offset")){let Q=k.findIndex(ie=>ie==="offset");j=k[Q+1]!==void 0?Number(k[Q+1]):j}let K=k.includes("no-style");return{placement:z,offsetValue:j,unstyled:K}}var xe=Qe}}),gC=_r({"node_modules/nprogress/nprogress.js"(n,e){(function(t,i){typeof define=="function"&&define.amd?define(i):typeof n=="object"?e.exports=i():t.NProgress=i()})(n,function(){var t={};t.version="0.2.0";var i=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(m){var g,y;for(g in m)y=m[g],y!==void 0&&m.hasOwnProperty(g)&&(i[g]=y);return this},t.status=null,t.set=function(m){var g=t.isStarted();m=r(m,i.minimum,1),t.status=m===1?null:m;var y=t.render(!g),v=y.querySelector(i.barSelector),x=i.speed,S=i.easing;return y.offsetWidth,a(function(O){i.positionUsing===""&&(i.positionUsing=t.getPositioningCSS()),l(v,o(m,x,S)),m===1?(l(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){l(y,{transition:"all "+x+"ms linear",opacity:0}),setTimeout(function(){t.remove(),O()},x)},x)):setTimeout(O,x)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var m=function(){setTimeout(function(){t.status&&(t.trickle(),m())},i.trickleSpeed)};return i.trickle&&m(),this},t.done=function(m){return!m&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(m){var g=t.status;return g?(typeof m!="number"&&(m=(1-g)*r(Math.random()*g,.1,.95)),g=r(g+m,0,.994),t.set(g)):t.start()},t.trickle=function(){return t.inc(Math.random()*i.trickleRate)},function(){var m=0,g=0;t.promise=function(y){return!y||y.state()==="resolved"?this:(g===0&&t.start(),m++,g++,y.always(function(){g--,g===0?(m=0,t.done()):t.set((m-g)/m)}),this)}}(),t.render=function(m){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var g=document.createElement("div");g.id="nprogress",g.innerHTML=i.template;var y=g.querySelector(i.barSelector),v=m?"-100":s(t.status||0),x=document.querySelector(i.parent),S;return l(y,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),i.showSpinner||(S=g.querySelector(i.spinnerSelector),S&&p(S)),x!=document.body&&u(x,"nprogress-custom-parent"),x.appendChild(g),g},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var m=document.getElementById("nprogress");m&&p(m)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var m=document.body.style,g="WebkitTransform"in m?"Webkit":"MozTransform"in m?"Moz":"msTransform"in m?"ms":"OTransform"in m?"O":"";return g+"Perspective"in m?"translate3d":g+"Transform"in m?"translate":"margin"};function r(m,g,y){return m<g?g:m>y?y:m}function s(m){return(-1+m)*100}function o(m,g,y){var v;return i.positionUsing==="translate3d"?v={transform:"translate3d("+s(m)+"%,0,0)"}:i.positionUsing==="translate"?v={transform:"translate("+s(m)+"%,0)"}:v={"margin-left":s(m)+"%"},v.transition="all "+g+"ms "+y,v}var a=function(){var m=[];function g(){var y=m.shift();y&&y(g)}return function(y){m.push(y),m.length==1&&g()}}(),l=function(){var m=["Webkit","O","Moz","ms"],g={};function y(O){return O.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(T,A){return A.toUpperCase()})}function v(O){var T=document.body.style;if(O in T)return O;for(var A=m.length,D=O.charAt(0).toUpperCase()+O.slice(1),P;A--;)if(P=m[A]+D,P in T)return P;return O}function x(O){return O=y(O),g[O]||(g[O]=v(O))}function S(O,T,A){T=x(T),O.style[T]=A}return function(O,T){var A=arguments,D,P;if(A.length==2)for(D in T)P=T[D],P!==void 0&&T.hasOwnProperty(D)&&S(O,D,P);else S(O,A[1],A[2])}}();function c(m,g){var y=typeof m=="string"?m:f(m);return y.indexOf(" "+g+" ")>=0}function u(m,g){var y=f(m),v=y+g;c(y,g)||(m.className=v.substring(1))}function d(m,g){var y=f(m),v;c(m,g)&&(v=y.replace(" "+g+" "," "),m.className=v.substring(1,v.length-1))}function f(m){return(" "+(m.className||"")+" ").replace(/\s+/gi," ")}function p(m){m&&m.parentNode&&m.parentNode.removeChild(m)}return t})}}),yC=_r({"../alpine/packages/morph/dist/module.cjs.js"(n,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o=(A,D)=>{for(var P in D)t(A,P,{get:D[P],enumerable:!0})},a=(A,D,P,B)=>{if(D&&typeof D=="object"||typeof D=="function")for(let Y of r(D))!s.call(A,Y)&&Y!==P&&t(A,Y,{get:()=>D[Y],enumerable:!(B=i(D,Y))||B.enumerable});return A},l=A=>a(t({},"__esModule",{value:!0}),A),c={};o(c,{default:()=>T,morph:()=>O}),e.exports=l(c);function u(A,D,P){x();let B,Y,ee,U,me,Ze,Te,qe,Ke;function _t(oe={}){let ke=gt=>gt.getAttribute("key"),Ye=()=>{};U=oe.updating||Ye,me=oe.updated||Ye,Ze=oe.removing||Ye,Te=oe.removed||Ye,qe=oe.adding||Ye,Ke=oe.added||Ye,Y=oe.key||ke,ee=oe.lookahead||!1}function mt(oe,ke){if(tn(oe,ke))return ze(oe,ke);let Ye=!1;if(!d(U,oe,ke,()=>Ye=!0)){if(oe.nodeType===1&&window.Alpine&&(window.Alpine.cloneNode(oe,ke),oe._x_teleport&&ke._x_teleport&&mt(oe._x_teleport,ke._x_teleport)),m(ke)){Re(oe,ke),me(oe,ke);return}Ye||je(oe,ke),me(oe,ke),Be(oe,ke)}}function tn(oe,ke){return oe.nodeType!=ke.nodeType||oe.nodeName!=ke.nodeName||be(oe)!=be(ke)}function ze(oe,ke){if(d(Ze,oe))return;let Ye=ke.cloneNode(!0);d(qe,Ye)||(oe.replaceWith(Ye),Te(oe),Ke(Ye))}function Re(oe,ke){let Ye=ke.nodeValue;oe.nodeValue!==Ye&&(oe.nodeValue=Ye)}function je(oe,ke){if(oe._x_transitioning||oe._x_isShown&&!ke._x_isShown||!oe._x_isShown&&ke._x_isShown)return;let Ye=Array.from(oe.attributes),gt=Array.from(ke.attributes);for(let Le=Ye.length-1;Le>=0;Le--){let Ee=Ye[Le].name;ke.hasAttribute(Ee)||oe.removeAttribute(Ee)}for(let Le=gt.length-1;Le>=0;Le--){let Ee=gt[Le].name,an=gt[Le].value;oe.getAttribute(Ee)!==an&&oe.setAttribute(Ee,an)}}function Be(oe,ke){let Ye=ue(oe.children),gt={},Le=y(ke),Ee=y(oe);for(;Le;){S(Le,Ee);let Bt=be(Le),ge=be(Ee);if(!Ee)if(Bt&&gt[Bt]){let ce=gt[Bt];oe.appendChild(ce),Ee=ce,ge=be(Ee)}else{if(!d(qe,Le)){let ce=Le.cloneNode(!0);oe.appendChild(ce),Ke(ce)}Le=v(ke,Le);continue}let J=ce=>ce&&ce.nodeType===8&&ce.textContent==="[if BLOCK]><![endif]",Z=ce=>ce&&ce.nodeType===8&&ce.textContent==="[if ENDBLOCK]><![endif]";if(J(Le)&&J(Ee)){let ce=0,Et=Ee;for(;Ee;){let et=v(oe,Ee);if(J(et))ce++;else if(Z(et)&&ce>0)ce--;else if(Z(et)&&ce===0){Ee=et;break}Ee=et}let Fe=Ee;ce=0;let ne=Le;for(;Le;){let et=v(ke,Le);if(J(et))ce++;else if(Z(et)&&ce>0)ce--;else if(Z(et)&&ce===0){Le=et;break}Le=et}let ae=Le,De=new g(Et,Fe),xt=new g(ne,ae);Be(De,xt);continue}if(Ee.nodeType===1&&ee&&!Ee.isEqualNode(Le)){let ce=v(ke,Le),Et=!1;for(;!Et&&ce;)ce.nodeType===1&&Ee.isEqualNode(ce)&&(Et=!0,Ee=yt(oe,Le,Ee),ge=be(Ee)),ce=v(ke,ce)}if(Bt!==ge){if(!Bt&&ge){gt[ge]=Ee,Ee=yt(oe,Le,Ee),gt[ge].remove(),Ee=v(oe,Ee),Le=v(ke,Le);continue}if(Bt&&!ge&&Ye[Bt]&&(Ee.replaceWith(Ye[Bt]),Ee=Ye[Bt],ge=be(Ee)),Bt&&ge){let ce=Ye[Bt];if(ce)gt[ge]=Ee,Ee.replaceWith(ce),Ee=ce,ge=be(Ee);else{gt[ge]=Ee,Ee=yt(oe,Le,Ee),gt[ge].remove(),Ee=v(oe,Ee),Le=v(ke,Le);continue}}}let Ne=Ee&&v(oe,Ee);mt(Ee,Le),Le=Le&&v(ke,Le),Ee=Ne}let an=[];for(;Ee;)d(Ze,Ee)||an.push(Ee),Ee=v(oe,Ee);for(;an.length;){let Bt=an.shift();Bt.remove(),Te(Bt)}}function be(oe){return oe&&oe.nodeType===1&&Y(oe)}function ue(oe){let ke={};for(let Ye of oe){let gt=be(Ye);gt&&(ke[gt]=Ye)}return ke}function yt(oe,ke,Ye){if(!d(qe,ke)){let gt=ke.cloneNode(!0);return oe.insertBefore(gt,Ye),Ke(gt),gt}return ke}return _t(P),B=typeof D=="string"?p(D):D,window.Alpine&&window.Alpine.closestDataStack&&!A._x_dataStack&&(B._x_dataStack=window.Alpine.closestDataStack(A),B._x_dataStack&&window.Alpine.cloneNode(A,B)),mt(A,B),B=void 0,A}u.step=()=>{},u.log=()=>{};function d(A,...D){let P=!1;return A(...D,()=>P=!0),P}var f=!1;function p(A){const D=document.createElement("template");return D.innerHTML=A,D.content.firstElementChild}function m(A){return A.nodeType===3||A.nodeType===8}var g=class{constructor(A,D){this.startComment=A,this.endComment=D}get children(){let A=[],D=this.startComment.nextSibling;for(;D&&D!==this.endComment;)A.push(D),D=D.nextSibling;return A}appendChild(A){this.endComment.before(A)}get firstChild(){let A=this.startComment.nextSibling;if(A!==this.endComment)return A}nextNode(A){let D=A.nextSibling;if(D!==this.endComment)return D}insertBefore(A,D){return D.before(A),A}};function y(A){return A.firstChild}function v(A,D){let P;return A instanceof g?P=A.nextNode(D):P=D.nextSibling,P}function x(){if(f)return;f=!0;let A=Element.prototype.setAttribute,D=document.createElement("div");Element.prototype.setAttribute=function(B,Y){if(!B.includes("@"))return A.call(this,B,Y);D.innerHTML=`<span ${B}="${Y}"></span>`;let ee=D.firstElementChild.getAttributeNode(B);D.firstElementChild.removeAttributeNode(ee),this.setAttributeNode(ee)}}function S(A,D){let P=D&&D._x_bindings&&D._x_bindings.id;P&&A.setAttribute&&(A.setAttribute("id",P),A.id=P)}function O(A){A.morph=u}var T=O}}),bC=_r({"../alpine/packages/mask/dist/module.cjs.js"(n,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o=(y,v)=>{for(var x in v)t(y,x,{get:v[x],enumerable:!0})},a=(y,v,x,S)=>{if(v&&typeof v=="object"||typeof v=="function")for(let O of r(v))!s.call(y,O)&&O!==x&&t(y,O,{get:()=>v[O],enumerable:!(S=i(v,O))||S.enumerable});return y},l=y=>a(t({},"__esModule",{value:!0}),y),c={};o(c,{default:()=>g,mask:()=>u,stripDown:()=>f}),e.exports=l(c);function u(y){y.directive("mask",(v,{value:x,expression:S},{effect:O,evaluateLater:T,cleanup:A})=>{let D=()=>S,P="";queueMicrotask(()=>{if(["function","dynamic"].includes(x)){let U=T(S);O(()=>{D=me=>{let Ze;return y.dontAutoEvaluateFunctions(()=>{U(Te=>{Ze=typeof Te=="function"?Te(me):Te},{scope:{$input:me,$money:m.bind({el:v})}})}),Ze},Y(v,!1)})}else Y(v,!1);if(v._x_model){if(v._x_model.get()===v.value||v._x_model.get()===null&&v.value==="")return;v._x_model.set(v.value)}});const B=new AbortController;A(()=>{B.abort()}),v.addEventListener("input",()=>Y(v),{signal:B.signal,capture:!0}),v.addEventListener("blur",()=>Y(v,!1),{signal:B.signal});function Y(U,me=!0){let Ze=U.value,Te=D(Ze);if(!Te||Te==="false")return!1;if(P.length-U.value.length===1)return P=U.value;let qe=()=>{P=U.value=ee(Ze,Te)};me?d(U,Te,()=>{qe()}):qe()}function ee(U,me){if(U==="")return"";let Ze=f(me,U);return p(me,Ze)}}).before("model")}function d(y,v,x){let S=y.selectionStart,O=y.value;x();let T=O.slice(0,S),A=p(v,f(v,T)).length;y.setSelectionRange(A,A)}function f(y,v){let x=v,S="",O={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},T="";for(let A=0;A<y.length;A++){if(["9","a","*"].includes(y[A])){T+=y[A];continue}for(let D=0;D<x.length;D++)if(x[D]===y[A]){x=x.slice(0,D)+x.slice(D+1);break}}for(let A=0;A<T.length;A++){let D=!1;for(let P=0;P<x.length;P++)if(O[T[A]].test(x[P])){S+=x[P],x=x.slice(0,P)+x.slice(P+1),D=!0;break}if(!D)break}return S}function p(y,v){let x=Array.from(v),S="";for(let O=0;O<y.length;O++){if(!["9","a","*"].includes(y[O])){S+=y[O];continue}if(x.length===0)break;S+=x.shift()}return S}function m(y,v=".",x,S=2){if(y==="-")return"-";if(/^\D+$/.test(y))return"9";x==null&&(x=v===","?".":",");let O=(P,B)=>{let Y="",ee=0;for(let U=P.length-1;U>=0;U--)P[U]!==B&&(ee===3?(Y=P[U]+B+Y,ee=0):Y=P[U]+Y,ee++);return Y},T=y.startsWith("-")?"-":"",A=y.replaceAll(new RegExp(`[^0-9\\${v}]`,"g"),""),D=Array.from({length:A.split(v)[0].length}).fill("9").join("");return D=`${T}${O(D,x)}`,S>0&&y.includes(v)&&(D+=`${v}`+"9".repeat(S)),queueMicrotask(()=>{this.el.value.endsWith(v)||this.el.value[this.el.selectionStart-1]===v&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),D}var g=u}}),vC=class{constructor(){this.arrays={}}add(n,e){this.arrays[n]||(this.arrays[n]=[]),this.arrays[n].push(e)}remove(n){this.arrays[n]&&delete this.arrays[n]}get(n){return this.arrays[n]||[]}each(n,e){return this.get(n).forEach(e)}},Ow=class{constructor(){this.arrays=new WeakMap}add(n,e){this.arrays.has(n)||this.arrays.set(n,[]),this.arrays.get(n).push(e)}remove(n){this.arrays.has(n)&&this.arrays.delete(n,[])}get(n){return this.arrays.has(n)?this.arrays.get(n):[]}each(n,e){return this.get(n).forEach(e)}};function hh(n,e,t={},i=!0){n.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:i,composed:!0,cancelable:!0}))}function ph(n,e,t){return n.addEventListener(e,t),()=>n.removeEventListener(e,t)}function Dm(n){return typeof n=="object"&&n!==null}function jy(n){return Dm(n)&&!bp(n)}function bp(n){return Array.isArray(n)}function Tw(n){return typeof n=="function"}function $y(n){return typeof n!="object"||n===null}function qs(n){return JSON.parse(JSON.stringify(n))}function jr(n,e){return e===""?n:e.split(".").reduce((t,i)=>t==null?void 0:t[i],n)}function qd(n,e,t){let i=e.split(".");if(i.length===1)return n[e]=t;let r=i.shift(),s=i.join(".");n[r]===void 0&&(n[r]={}),qd(n[r],s,t)}function Am(n,e,t={},i=""){if(n===e)return t;if(typeof n!=typeof e||jy(n)&&bp(e)||bp(n)&&jy(e)||$y(n)||$y(e))return t[i]=e,t;let r=Object.keys(n);return Object.entries(e).forEach(([s,o])=>{t={...t,...Am(n[s],e[s],t,i===""?s:`${i}.${s}`)},r=r.filter(a=>a!==s)}),r.forEach(s=>{t[`${i}.${s}`]="__rm__"}),t}function aa(n){let e=Wy(n)?n[0]:n;return Wy(n)&&n[1],Dm(e)&&Object.entries(e).forEach(([t,i])=>{e[t]=aa(i)}),e}function Wy(n){return Array.isArray(n)&&n.length===2&&typeof n[1]=="object"&&Object.keys(n[1]).includes("s")}function Dw(){if(document.querySelector('meta[name="csrf-token"]'))return document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.querySelector("[data-csrf]"))return document.querySelector("[data-csrf]").getAttribute("data-csrf");if(window.livewireScriptConfig.csrf??!1)return window.livewireScriptConfig.csrf;throw"Livewire: No CSRF token detected"}var Qo;function wC(){if(Qo)return Qo;if(window.livewireScriptConfig&&(window.livewireScriptConfig.nonce??!1))return Qo=window.livewireScriptConfig.nonce,Qo;const n=document.querySelector("style[data-livewire-style][nonce]");return n?(Qo=n.nonce,Qo):null}function xC(){var n;return((n=document.querySelector("[data-update-uri]"))==null?void 0:n.getAttribute("data-update-uri"))??window.livewireScriptConfig.uri??null}function Aw(n){return!!n.match(/<script>Sfdump\(".+"\)<\/script>/)}function kC(n){let e=n.match(/.*<script>Sfdump\(".+"\)<\/script>/s);return[e,n.replace(e,"")]}var mh=new WeakMap;function pc(n){if(!mh.has(n)){let e=new SC(n);mh.set(n,e),e.registerListeners()}return mh.get(n)}function _C(n,e,t,i){let r=pc(t),s=()=>n.dispatchEvent(new CustomEvent("livewire-upload-start",{bubbles:!0,detail:{id:t.id,property:e}})),o=()=>n.dispatchEvent(new CustomEvent("livewire-upload-finish",{bubbles:!0,detail:{id:t.id,property:e}})),a=()=>n.dispatchEvent(new CustomEvent("livewire-upload-error",{bubbles:!0,detail:{id:t.id,property:e}})),l=()=>n.dispatchEvent(new CustomEvent("livewire-upload-cancel",{bubbles:!0,detail:{id:t.id,property:e}})),c=f=>{var p=Math.round(f.loaded*100/f.total);n.dispatchEvent(new CustomEvent("livewire-upload-progress",{bubbles:!0,detail:{progress:p}}))},u=f=>{f.target.files.length!==0&&(s(),f.target.multiple?r.uploadMultiple(e,f.target.files,o,a,c,l):r.upload(e,f.target.files[0],o,a,c,l))};n.addEventListener("change",u),t.$wire.$watch(e,f=>{n.isConnected&&((f===null||f==="")&&(n.value=""),n.multiple&&Array.isArray(f)&&f.length===0&&(n.value=""))});let d=()=>{n.value=null};n.addEventListener("click",d),n.addEventListener("livewire-upload-cancel",d),i(()=>{n.removeEventListener("change",u),n.removeEventListener("click",d)})}var SC=class{constructor(n){this.component=n,this.uploadBag=new Vy,this.removeBag=new Vy}registerListeners(){this.component.$wire.$on("upload:generatedSignedUrl",({name:n,url:e})=>{this.component,this.handleSignedUrl(n,e)}),this.component.$wire.$on("upload:generatedSignedUrlForS3",({name:n,payload:e})=>{this.component,this.handleS3PreSignedUrl(n,e)}),this.component.$wire.$on("upload:finished",({name:n,tmpFilenames:e})=>this.markUploadFinished(n,e)),this.component.$wire.$on("upload:errored",({name:n})=>this.markUploadErrored(n)),this.component.$wire.$on("upload:removed",({name:n,tmpFilename:e})=>this.removeBag.shift(n).finishCallback(e))}upload(n,e,t,i,r,s){this.setUpload(n,{files:[e],multiple:!1,finishCallback:t,errorCallback:i,progressCallback:r,cancelledCallback:s})}uploadMultiple(n,e,t,i,r,s){this.setUpload(n,{files:Array.from(e),multiple:!0,finishCallback:t,errorCallback:i,progressCallback:r,cancelledCallback:s})}removeUpload(n,e,t){this.removeBag.push(n,{tmpFilename:e,finishCallback:t}),this.component.$wire.call("_removeUpload",n,e)}setUpload(n,e){this.uploadBag.add(n,e),this.uploadBag.get(n).length===1&&this.startUpload(n,e)}handleSignedUrl(n,e){let t=new FormData;Array.from(this.uploadBag.first(n).files).forEach(s=>t.append("files[]",s,s.name));let i={Accept:"application/json"},r=Dw();r&&(i["X-CSRF-TOKEN"]=r),this.makeRequest(n,t,"post",e,i,s=>s.paths)}handleS3PreSignedUrl(n,e){let t=this.uploadBag.first(n).files[0],i=e.headers;"Host"in i&&delete i.Host;let r=e.url;this.makeRequest(n,t,"put",r,i,s=>[e.path])}makeRequest(n,e,t,i,r,s){let o=new XMLHttpRequest;o.open(t,i),Object.entries(r).forEach(([a,l])=>{o.setRequestHeader(a,l)}),o.upload.addEventListener("progress",a=>{a.detail={},a.detail.progress=Math.floor(a.loaded*100/a.total),this.uploadBag.first(n).progressCallback(a)}),o.addEventListener("load",()=>{if((o.status+"")[0]==="2"){let l=s(o.response&&JSON.parse(o.response));this.component.$wire.call("_finishUpload",n,l,this.uploadBag.first(n).multiple);return}let a=null;o.status===422&&(a=o.response),this.component.$wire.call("_uploadErrored",n,a,this.uploadBag.first(n).multiple)}),this.uploadBag.first(n).request=o,o.send(e)}startUpload(n,e){let t=e.files.map(i=>({name:i.name,size:i.size,type:i.type}));this.component.$wire.call("_startUpload",n,t,e.multiple),this.component}markUploadFinished(n,e){this.component;let t=this.uploadBag.shift(n);t.finishCallback(t.multiple?e:e[0]),this.uploadBag.get(n).length>0&&this.startUpload(n,this.uploadBag.last(n))}markUploadErrored(n){this.component,this.uploadBag.shift(n).errorCallback(),this.uploadBag.get(n).length>0&&this.startUpload(n,this.uploadBag.last(n))}cancelUpload(n,e=null){this.component;let t=this.uploadBag.first(n);t&&(t.request&&t.request.abort(),this.uploadBag.shift(n).cancelledCallback(),e&&e())}},Vy=class{constructor(){this.bag={}}add(n,e){this.bag[n]||(this.bag[n]=[]),this.bag[n].push(e)}push(n,e){this.add(n,e)}first(n){return this.bag[n]?this.bag[n][0]:null}last(n){return this.bag[n].slice(-1)[0]}get(n){return this.bag[n]}shift(n){return this.bag[n].shift()}call(n,...e){(this.listeners[n]||[]).forEach(t=>{t(...e)})}has(n){return Object.keys(this.listeners).includes(n)}};function MC(n,e,t,i=()=>{},r=()=>{},s=()=>{},o=()=>{}){pc(n).upload(e,t,i,r,s,o)}function CC(n,e,t,i=()=>{},r=()=>{},s=()=>{},o=()=>{}){pc(n).uploadMultiple(e,t,i,r,s,o)}function EC(n,e,t,i=()=>{},r=()=>{}){pc(n).removeUpload(e,t,i,r)}function OC(n,e,t=()=>{}){pc(n).cancelUpload(e,t)}var Yy=Vt(Rn());function Pw(n,e){return e||(e=()=>{}),(t,i=!1)=>{let r=i,s=t,o=n.$wire,a=o.get(s);return Yy.default.interceptor((c,u,d,f,p)=>{if(typeof a>"u"){console.error(`Livewire Entangle Error: Livewire property ['${s}'] cannot be found on component: ['${n.name}']`);return}let m=Yy.default.entangle({get(){return o.get(t)},set(g){o.set(t,g,r)}},{get(){return u()},set(g){d(g)}});return e(()=>m()),TC(o.get(t))},c=>{Object.defineProperty(c,"live",{get(){return r=!0,c}})})(a)}}function TC(n){return typeof n=="object"?JSON.parse(JSON.stringify(n)):n}var no=[];function Ct(n,e){return no[n]||(no[n]=[]),no[n].push(e),()=>{no[n]=no[n].filter(t=>t!==e)}}function on(n,...e){let t=no[n]||[],i=[];for(let r=0;r<t.length;r++){let s=t[r](...e);Tw(s)&&i.push(s)}return r=>Nw(i,r)}async function Rw(n,...e){let t=no[n]||[],i=[];for(let r=0;r<t.length;r++){let s=await t[r](...e);Tw(s)&&i.push(s)}return r=>Nw(i,r)}function Nw(n,e){let t=e;for(let i=0;i<n.length;i++){let r=n[i](t);r!==void 0&&(t=r)}return t}function Iw(n){let e=document.createElement("html");e.innerHTML=n,e.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top"));let t=document.getElementById("livewire-error");typeof t<"u"&&t!=null?t.innerHTML="":(t=document.createElement("div"),t.id="livewire-error",t.style.position="fixed",t.style.width="100vw",t.style.height="100vh",t.style.padding="50px",t.style.backgroundColor="rgba(0, 0, 0, .6)",t.style.zIndex=2e5);let i=document.createElement("iframe");i.style.backgroundColor="#17161A",i.style.borderRadius="5px",i.style.width="100%",i.style.height="100%",t.appendChild(i),document.body.prepend(t),document.body.style.overflow="hidden",i.contentWindow.document.open(),i.contentWindow.document.write(e.outerHTML),i.contentWindow.document.close(),t.addEventListener("click",()=>Uy(t)),t.setAttribute("tabindex",0),t.addEventListener("keydown",r=>{r.key==="Escape"&&Uy(t)}),t.focus()}function Uy(n){n.outerHTML="",document.body.style.overflow="visible"}var DC=class{constructor(){this.commits=new Set}add(n){this.commits.add(n)}delete(n){this.commits.delete(n)}hasCommitFor(n){return!!this.findCommitByComponent(n)}findCommitByComponent(n){for(let[e,t]of this.commits.entries())if(t.component===n)return t}shouldHoldCommit(n){return!n.isolate}empty(){return this.commits.size===0}async send(){this.prepare(),await IC(this)}prepare(){this.commits.forEach(n=>n.prepare())}payload(){let n=[],e=[],t=[];return this.commits.forEach(s=>{let[o,a,l]=s.toRequestPayload();n.push(o),e.push(a),t.push(l)}),[n,s=>e.forEach(o=>o(s.shift())),()=>t.forEach(s=>s())]}},AC=class{constructor(n){this.component=n,this.isolate=!1,this.calls=[],this.receivers=[],this.resolvers=[]}addResolver(n){this.resolvers.push(n)}addCall(n,e,t){this.calls.push({path:"",method:n,params:e,handleReturn(i){t(i)}})}prepare(){on("commit.prepare",{component:this.component})}toRequestPayload(){let n=Am(this.component.canonical,this.component.ephemeral),e=this.component.mergeQueuedUpdates(n),t={snapshot:this.component.snapshotEncoded,updates:e,calls:this.calls.map(f=>({path:f.path,method:f.method,params:f.params}))},i=[],r=[],s=[],o=f=>i.forEach(p=>p(f)),a=()=>r.forEach(f=>f()),l=()=>s.forEach(f=>f()),c=on("commit",{component:this.component,commit:t,succeed:f=>{i.push(f)},fail:f=>{r.push(f)},respond:f=>{s.push(f)}});return[t,f=>{let{snapshot:p,effects:m}=f;if(l(),this.component.mergeNewSnapshot(p,m,e),this.component.processEffects(this.component.effects),m.returns){let y=m.returns;this.calls.map(({handleReturn:x})=>x).forEach((x,S)=>{x(y[S])})}let g=JSON.parse(p);c({snapshot:g,effects:m}),this.resolvers.forEach(y=>y()),o(f)},()=>{l(),a()}]}},PC=class{constructor(){this.commits=new Set,this.pools=new Set}add(n){let e=this.findCommitOr(n,()=>{let t=new AC(n);return this.commits.add(t),t});return RC(e,()=>{this.findPoolWithComponent(e.component)||this.createAndSendNewPool()}),e}findCommitOr(n,e){for(let[t,i]of this.commits.entries())if(i.component===n)return i;return e()}findPoolWithComponent(n){for(let[e,t]of this.pools.entries())if(t.hasCommitFor(n))return t}createAndSendNewPool(){on("commit.pooling",{commits:this.commits});let n=this.corraleCommitsIntoPools();this.commits.clear(),on("commit.pooled",{pools:n}),n.forEach(e=>{e.empty()||(this.pools.add(e),e.send().then(()=>{this.pools.delete(e),this.sendAnyQueuedCommits()}))})}corraleCommitsIntoPools(){let n=new Set;for(let[e,t]of this.commits.entries()){let i=!1;if(n.forEach(r=>{r.shouldHoldCommit(t)&&(r.add(t),i=!0)}),!i){let r=new DC;r.add(t),n.add(r)}}return n}sendAnyQueuedCommits(){this.commits.size>0&&this.createAndSendNewPool()}},gh=new WeakMap;function RC(n,e){gh.has(n)||gh.set(n,setTimeout(()=>{e(),gh.delete(n)},5))}var Lw=new PC;async function Fw(n){let e=Lw.add(n),t=new Promise(i=>{e.addResolver(i)});return t.commit=e,t}async function NC(n,e,t){let i=Lw.add(n),r=new Promise(s=>{i.addCall(e,t,o=>s(o))});return r.commit=i,r}async function IC(n){let[e,t,i]=n.payload(),r={method:"POST",body:JSON.stringify({_token:Dw(),components:e}),headers:{"Content-type":"application/json","X-Livewire":""}},s=[],o=[],a=[],l=x=>s.forEach(S=>S(x)),c=x=>o.forEach(S=>S(x)),u=x=>a.forEach(S=>S(x)),d=on("request.profile",r),f=xC();on("request",{url:f,options:r,payload:r.body,respond:x=>a.push(x),succeed:x=>s.push(x),fail:x=>o.push(x)});let p;try{p=await fetch(f,r)}catch{d({content:"{}",failed:!0}),i(),c({status:503,content:null,preventDefault:()=>{}});return}let m={status:p.status,response:p};u(m),p=m.response;let g=await p.text();if(!p.ok){d({content:"{}",failed:!0});let x=!1;return i(),c({status:p.status,content:g,preventDefault:()=>x=!0}),x?void 0:(p.status===419&&LC(),FC(g))}if(p.redirected&&(window.location.href=p.url),Aw(g)){let x;[x,g]=kC(g),Iw(x),d({content:"{}",failed:!0})}else d({content:g,failed:!1});let{components:y,assets:v}=JSON.parse(g);await Rw("payload.intercept",{components:y,assets:v}),await t(y),l({status:p.status,json:JSON.parse(g)})}function LC(){confirm(`This page has expired.
Would you like to refresh the page?`)&&window.location.reload()}function FC(n){Iw(n)}var Bw=Vt(Rn()),Pm={},Hw;function vn(n,e,t=null){Pm[n]=e}function BC(n){Hw=n}var qy={on:"$on",el:"$el",id:"$id",get:"$get",set:"$set",call:"$call",hook:"$hook",commit:"$commit",watch:"$watch",entangle:"$entangle",dispatch:"$dispatch",dispatchTo:"$dispatchTo",dispatchSelf:"$dispatchSelf",upload:"$upload",uploadMultiple:"$uploadMultiple",removeUpload:"$removeUpload",cancelUpload:"$cancelUpload"};function HC(n,e){return new Proxy({},{get(t,i){if(i==="__instance")return n;if(i in qy)return Ky(n,qy[i]);if(i in Pm)return Ky(n,i);if(i in e)return e[i];if(!["then"].includes(i))return zC(n)(i)},set(t,i,r){return i in e&&(e[i]=r),!0}})}function Ky(n,e){return Pm[e](n)}function zC(n){return Hw(n)}Bw.default.magic("wire",(n,{cleanup:e})=>{let t;return new Proxy({},{get(i,r){return t||(t=Rs(n)),["$entangle","entangle"].includes(r)?Pw(t,e):t.$wire[r]},set(i,r,s){return t||(t=Rs(n)),t.$wire[r]=s,!0}})});vn("__instance",n=>n);vn("$get",n=>(e,t=!0)=>jr(t?n.reactive:n.ephemeral,e));vn("$el",n=>n.el);vn("$id",n=>n.id);vn("$set",n=>async(e,t,i=!0)=>(qd(n.reactive,e,t),i?(n.queueUpdate(e,t),await Fw(n)):Promise.resolve()));vn("$call",n=>async(e,...t)=>await n.$wire[e](...t));vn("$entangle",n=>(e,t=!1)=>Pw(n)(e,t));vn("$toggle",n=>(e,t=!0)=>n.$wire.set(e,!n.$wire.get(e),t));vn("$watch",n=>(e,t)=>{let i=()=>jr(n.reactive,e),r=Bw.default.watch(i,t);n.addCleanup(r)});vn("$refresh",n=>n.$wire.$commit);vn("$commit",n=>async()=>await Fw(n));vn("$on",n=>(...e)=>XC(n,...e));vn("$hook",n=>(e,t)=>{let i=Ct(e,({component:r,...s})=>{if(r===void 0)return t(s);if(r.id===n.id)return t({component:r,...s})});return n.addCleanup(i),i});vn("$dispatch",n=>(...e)=>jw(n,...e));vn("$dispatchSelf",n=>(...e)=>pa(n,...e));vn("$dispatchTo",()=>(...n)=>Rm(...n));vn("$upload",n=>(...e)=>MC(n,...e));vn("$uploadMultiple",n=>(...e)=>CC(n,...e));vn("$removeUpload",n=>(...e)=>EC(n,...e));vn("$cancelUpload",n=>(...e)=>OC(n,...e));var yh=new WeakMap;vn("$parent",n=>{if(yh.has(n))return yh.get(n).$wire;let e=n.parent;return yh.set(n,e),e.$wire});var ha=new WeakMap;function jC(n,e,t){ha.has(n)||ha.set(n,{});let i=ha.get(n);i[e]=t,ha.set(n,i)}BC(n=>e=>async(...t)=>{if(t.length===1&&t[0]instanceof Event&&(t=[]),ha.has(n)){let i=ha.get(n);if(typeof i[e]=="function")return i[e](t)}return await NC(n,e,t)});var $C=class{constructor(n){if(n.__livewire)throw"Component already initialized";if(n.__livewire=this,this.el=n,this.id=n.getAttribute("wire:id"),this.__livewireId=this.id,this.snapshotEncoded=n.getAttribute("wire:snapshot"),this.snapshot=JSON.parse(this.snapshotEncoded),!this.snapshot)throw"Snapshot missing on Livewire component with id: "+this.id;this.name=this.snapshot.memo.name,this.effects=JSON.parse(n.getAttribute("wire:effects")),this.originalEffects=qs(this.effects),this.canonical=aa(qs(this.snapshot.data)),this.ephemeral=aa(qs(this.snapshot.data)),this.reactive=Alpine.reactive(this.ephemeral),this.queuedUpdates={},this.$wire=HC(this,this.reactive),this.cleanups=[],this.processEffects(this.effects)}mergeNewSnapshot(n,e,t={}){let i=JSON.parse(n),r=qs(this.canonical),s=this.applyUpdates(r,t),o=aa(qs(i.data)),a=Am(s,o);this.snapshotEncoded=n,this.snapshot=i,this.effects=e,this.canonical=aa(qs(i.data));let l=aa(qs(i.data));return Object.entries(a).forEach(([c,u])=>{let d=c.split(".")[0];this.reactive[d]=l[d]}),a}queueUpdate(n,e){this.queuedUpdates[n]=e}mergeQueuedUpdates(n){return Object.entries(this.queuedUpdates).forEach(([e,t])=>{Object.entries(n).forEach(([i,r])=>{i.startsWith(t)&&delete n[i]}),n[e]=t}),this.queuedUpdates=[],n}applyUpdates(n,e){for(let t in e)qd(n,t,e[t]);return n}replayUpdate(n,e){let t={...this.effects,html:e};this.mergeNewSnapshot(JSON.stringify(n),t),this.processEffects({html:e})}processEffects(n){on("effects",this,n),on("effect",{component:this,effects:n,cleanup:e=>this.addCleanup(e)})}get children(){let n=this.snapshot.memo;return Object.values(n.children).map(t=>t[1]).map(t=>YC(t))}get parent(){return Rs(this.el.parentElement)}inscribeSnapshotAndEffectsOnElement(){let n=this.el;n.setAttribute("wire:snapshot",this.snapshotEncoded);let e=this.originalEffects.listeners?{listeners:this.originalEffects.listeners}:{};this.originalEffects.url&&(e.url=this.originalEffects.url),this.originalEffects.scripts&&(e.scripts=this.originalEffects.scripts),n.setAttribute("wire:effects",JSON.stringify(e))}addCleanup(n){this.cleanups.push(n)}cleanup(){for(delete this.el.__livewire;this.cleanups.length>0;)this.cleanups.pop()()}},Xr={};function WC(n){let e=new $C(n);if(Xr[e.id])throw"Component already registered";return on("component.init",{component:e,cleanup:i=>e.addCleanup(i)}),Xr[e.id]=e,e}function VC(n){let e=Xr[n];e&&(e.cleanup(),delete Xr[n])}function YC(n){let e=Xr[n];if(!e)throw"Component not found: "+n;return e}function Rs(n,e=!0){let t=Alpine.findClosest(n,i=>i.__livewire);if(!t){if(e)throw"Could not find Livewire component in DOM tree";return}return t.__livewire}function zw(n){return Object.values(Xr).filter(e=>n==e.name)}function UC(n){return zw(n).map(e=>e.$wire)}function qC(n){let e=Xr[n];return e&&e.$wire}function KC(){return Object.values(Xr)[0].$wire}function JC(){return Object.values(Xr)}function jw(n,e,t){Kd(n.el,e,t)}function GC(n,e){Kd(window,n,e)}function pa(n,e,t){Kd(n.el,e,t,!1)}function Rm(n,e,t){zw(n).forEach(r=>{Kd(r.el,e,t,!1)})}function XC(n,e,t){n.el.addEventListener(e,i=>{t(i.detail)})}function ZC(n,e){let t=i=>{i.__livewire&&e(i.detail)};return window.addEventListener(n,t),()=>{window.removeEventListener(n,t)}}function Kd(n,e,t,i=!0){let r=new CustomEvent(e,{bubbles:i,detail:t});r.__livewire={name:e,params:t,receivedBy:[]},n.dispatchEvent(r)}var Wl=new Set;function ml(n){return n.match(new RegExp("wire:"))}function vp(n,e){let[t,...i]=e.replace(new RegExp("wire:"),"").split(".");return new nE(t,i,e,n)}function zi(n,e){Wl.has(n)||(Wl.add(n),Ct("directive.init",({el:t,component:i,directive:r,cleanup:s})=>{r.value===n&&e({el:t,directive:r,component:i,$wire:i.$wire,cleanup:s})}))}function QC(n,e){Wl.has(n)||(Wl.add(n),Ct("directive.global.init",({el:t,directive:i,cleanup:r})=>{i.value===n&&e({el:t,directive:i,cleanup:r})}))}function Nm(n){return new tE(n)}function eE(n){return Wl.has(n)}var tE=class{constructor(n){this.el=n,this.directives=this.extractTypeModifiersAndValue()}all(){return this.directives}has(n){return this.directives.map(e=>e.value).includes(n)}missing(n){return!this.has(n)}get(n){return this.directives.find(e=>e.value===n)}extractTypeModifiersAndValue(){return Array.from(this.el.getAttributeNames().filter(n=>ml(n)).map(n=>vp(this.el,n)))}},nE=class{constructor(n,e,t,i){this.rawName=this.raw=t,this.el=i,this.eventContext,this.value=n,this.modifiers=e,this.expression=this.el.getAttribute(this.rawName)}get method(){const{method:n}=this.parseOutMethodAndParams(this.expression);return n}get params(){const{params:n}=this.parseOutMethodAndParams(this.expression);return n}parseOutMethodAndParams(n){let e=n,t=[];const i=e.match(/(.*?)\((.*)\)/s);return i&&(e=i[1],t=new Function("$event",`return (function () {
                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {
                    p[k] = arguments[k];
                }
                return [].concat(p);
            })(${i[2]})`)(this.eventContext)),{method:e,params:t}}},iE=Vt(uC()),rE=Vt(dC()),sE=Vt(fC()),oE=Vt(hC()),aE=Vt(pC()),lE=Vt(mC()),wp=class{constructor(n,e){this.url=n,this.html=e}},gr={currentKey:null,currentUrl:null,keys:[],lookup:{},limit:10,has(n){return this.lookup[n]!==void 0},retrieve(n){let e=this.lookup[n];if(e===void 0)throw"No back button cache found for current location: "+n;return e},replace(n,e){this.has(n)?this.lookup[n]=e:this.push(n,e)},push(n,e){this.lookup[n]=e;let t=this.keys.indexOf(n);t>-1&&this.keys.splice(t,1),this.keys.unshift(n),this.trim()},trim(){for(let n of this.keys.splice(this.limit))delete this.lookup[n]}};function cE(){let n=new URL(window.location.href,document.baseURI);$w(n,document.documentElement.outerHTML)}function uE(n,e){let t=document.documentElement.outerHTML;gr.replace(n,new wp(e,t))}function dE(n,e){let t;n(i=>t=i),window.addEventListener("popstate",i=>{let r=i.state||{},s=r.alpine||{};if(Object.keys(r).length!==0&&s.snapshotIdx)if(gr.has(s.snapshotIdx)){let o=gr.retrieve(s.snapshotIdx);e(o.html,o.url,gr.currentUrl,gr.currentKey)}else t(s.url)})}function fE(n,e){hE(e,n)}function hE(n,e){Ww("pushState",n,e)}function $w(n,e){Ww("replaceState",n,e)}function Ww(n,e,t){let i=e.toString()+"-"+Math.random();n==="pushState"?gr.push(i,new wp(e,t)):gr.replace(i=gr.currentKey??i,new wp(e,t));let r=history.state||{};r.alpine||(r.alpine={}),r.alpine.snapshotIdx=i,r.alpine.url=e.toString();try{history[n](r,JSON.stringify(document.title),e),gr.currentKey=i,gr.currentUrl=e}catch(s){s instanceof DOMException&&s.name==="SecurityError"&&console.error("Livewire: You can't use wire:navigate with a link to a different root domain: "+e),console.error(s)}}function pE(n,e){let t=s=>!s.isTrusted,i=s=>s.which>1||s.altKey||s.ctrlKey||s.metaKey||s.shiftKey,r=s=>s.which!==13||s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;n.addEventListener("click",s=>{if(t(s)){s.preventDefault(),e(o=>o());return}i(s)||s.preventDefault()}),n.addEventListener("mousedown",s=>{i(s)||(s.preventDefault(),e(o=>{let a=l=>{l.preventDefault(),o(),n.removeEventListener("mouseup",a)};n.addEventListener("mouseup",a)}))}),n.addEventListener("keydown",s=>{r(s)||(s.preventDefault(),e(o=>o()))})}function mE(n,e=60,t){n.addEventListener("mouseenter",i=>{let r=setTimeout(()=>{t(i)},e),s=()=>{clearTimeout(r),n.removeEventListener("mouseleave",s)};n.addEventListener("mouseleave",s)})}function Jy(n){return ba(n.getAttribute("href"))}function ba(n){return n!==null&&new URL(n,document.baseURI)}function Jd(n){return n.pathname+n.search+n.hash}function gE(n,e){let t=Jd(n);Vw(t,(i,r)=>{e(i,r)})}function Vw(n,e){let t={headers:{"X-Livewire-Navigate":""}};on("navigate.request",{url:n,options:t});let i;fetch(n,t).then(r=>{let s=ba(n);return i=ba(r.url),s.pathname+s.search===i.pathname+i.search&&(i.hash=s.hash),r.text()}).then(r=>{e(r,i)})}var Pi={};function Gy(n,e){let t=Jd(n);Pi[t]||(Pi[t]={finished:!1,html:null,whenFinished:()=>{}},Vw(t,(i,r)=>{e(i,r)}))}function Xy(n,e,t){let i=Pi[Jd(e)];i.html=n,i.finished=!0,i.finalDestination=t,i.whenFinished()}function yE(n,e,t){let i=Jd(n);if(!Pi[i])return t();if(Pi[i].finished){let r=Pi[i].html,s=Pi[i].finalDestination;return delete Pi[i],e(r,s)}else Pi[i].whenFinished=()=>{let r=Pi[i].html,s=Pi[i].finalDestination;delete Pi[i],e(r,s)}}var Im=Vt(Rn());function Zy(n){Im.default.mutateDom(()=>{n.querySelectorAll("[data-teleport-template]").forEach(e=>e._x_teleport.remove())})}function Qy(n){Im.default.mutateDom(()=>{n.querySelectorAll("[data-teleport-target]").forEach(e=>e.remove())})}function eb(n){Im.default.walk(n,(e,t)=>{e._x_teleport&&(e._x_teleportPutBack(),t())})}function bE(n){return n.hasAttribute("data-teleport-target")}function tb(){document.body.setAttribute("data-scroll-x",document.body.scrollLeft),document.body.setAttribute("data-scroll-y",document.body.scrollTop),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(n=>{n.setAttribute("data-scroll-x",n.scrollLeft),n.setAttribute("data-scroll-y",n.scrollTop)})}function nb(){let n=e=>{e.hasAttribute("data-scroll-x")?(e.scrollTo({top:Number(e.getAttribute("data-scroll-y")),left:Number(e.getAttribute("data-scroll-x")),behavior:"instant"}),e.removeAttribute("data-scroll-x"),e.removeAttribute("data-scroll-y")):window.scrollTo({top:0,left:0,behavior:"instant"})};queueMicrotask(()=>{queueMicrotask(()=>{n(document.body),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(n)})})}var xp=Vt(Rn()),Ml={};function ib(n){Ml={},document.querySelectorAll("[x-persist]").forEach(e=>{Ml[e.getAttribute("x-persist")]=e,n(e),xp.default.mutateDom(()=>{e.remove()})})}function rb(n){let e=[];document.querySelectorAll("[x-persist]").forEach(t=>{let i=Ml[t.getAttribute("x-persist")];i&&(e.push(t.getAttribute("x-persist")),i._x_wasPersisted=!0,n(i,t),xp.default.mutateDom(()=>{t.replaceWith(i)}))}),Object.entries(Ml).forEach(([t,i])=>{e.includes(t)||xp.default.destroyTree(i)}),Ml={}}function vE(n){return n.hasAttribute("x-persist")}var Gd=Vt(gC());Gd.default.configure({minimum:.1,trickleSpeed:200,showSpinner:!1,parent:"body"});_E();var kp=!1;function wE(){kp=!0,setTimeout(()=>{kp&&Gd.default.start()},150)}function xE(){kp=!1,Gd.default.done()}function kE(){Gd.default.remove()}function _E(){let n=document.createElement("style");n.innerHTML=`/* Make clicks pass-through */

    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: var(--livewire-progress-bar-color, #29d);

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    /* Fancy blur effect */
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px var(--livewire-progress-bar-color, #29d), 0 0 5px var(--livewire-progress-bar-color, #29d);
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    /* Remove these to get rid of the spinner */
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: var(--livewire-progress-bar-color, #29d);
      border-left-color: var(--livewire-progress-bar-color, #29d);
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    `;let e=wC();e&&(n.nonce=e),document.head.appendChild(n)}function sb(n){Yw()&&n.querySelectorAll(":popover-open").forEach(e=>{e.setAttribute("data-navigate-popover-open","");let t=e.getAnimations();e._pausedAnimations=t.map(i=>({keyframes:i.effect.getKeyframes(),options:{duration:i.effect.getTiming().duration,easing:i.effect.getTiming().easing,fill:i.effect.getTiming().fill,iterations:i.effect.getTiming().iterations},currentTime:i.currentTime,playState:i.playState})),t.forEach(i=>i.pause())})}function ob(n){Yw()&&n.querySelectorAll("[data-navigate-popover-open]").forEach(e=>{e.removeAttribute("data-navigate-popover-open"),queueMicrotask(()=>{e.isConnected&&(e.showPopover(),e.getAnimations().forEach(t=>t.finish()),e._pausedAnimations&&(e._pausedAnimations.forEach(({keyframes:t,options:i,currentTime:r,now:s,playState:o})=>{let a=e.animate(t,i);a.currentTime=r}),delete e._pausedAnimations))})})}function Yw(){return typeof document.createElement("div").showPopover=="function"}var bh=[],Uw=["data-csrf","aria-hidden"];function ab(n,e){let t=new DOMParser().parseFromString(n,"text/html"),i=t.documentElement,r=document.adoptNode(t.body),s=document.adoptNode(t.head);bh=bh.concat(Array.from(document.body.querySelectorAll("script")).map(l=>Gw(Xw(l.outerHTML,Uw))));let o=()=>{};ME(i),CE(s).finally(()=>{o()}),SE(r,bh);let a=document.body;document.body.replaceWith(r),Alpine.destroyTree(a),e(l=>o=l)}function SE(n,e){n.querySelectorAll("script").forEach(t=>{if(t.hasAttribute("data-navigate-once")){let i=Gw(Xw(t.outerHTML,Uw));if(e.includes(i))return}t.replaceWith(qw(t))})}function ME(n){let e=document.documentElement;Array.from(n.attributes).forEach(t=>{const i=t.name,r=t.value;e.getAttribute(i)!==r&&e.setAttribute(i,r)}),Array.from(e.attributes).forEach(t=>{n.hasAttribute(t.name)||e.removeAttribute(t.name)})}function CE(n){let e=Array.from(document.head.children),t=e.map(s=>s.outerHTML),i=document.createDocumentFragment(),r=[];for(let s of Array.from(n.children))if(cb(s))if(t.includes(s.outerHTML))i.appendChild(s);else if(Kw(s)&&OE(s,e)&&setTimeout(()=>window.location.reload()),Jw(s))try{r.push(EE(qw(s)))}catch{}else document.head.appendChild(s);for(let s of Array.from(document.head.children))cb(s)||s.remove();for(let s of Array.from(n.children))s.tagName.toLowerCase()!=="noscript"&&document.head.appendChild(s);return Promise.all(r)}async function EE(n){return new Promise((e,t)=>{n.src?(n.onload=()=>e(),n.onerror=()=>t()):e(),document.head.appendChild(n)})}function qw(n){let e=document.createElement("script");e.textContent=n.textContent,e.async=n.async;for(let t of n.attributes)e.setAttribute(t.name,t.value);return e}function Kw(n){return n.hasAttribute("data-navigate-track")}function OE(n,e){let[t,i]=lb(n);return e.some(r=>{if(!Kw(r))return!1;let[s,o]=lb(r);if(s===t&&i!==o)return!0})}function lb(n){return(Jw(n)?n.src:n.href).split("?")}function cb(n){return n.tagName.toLowerCase()==="link"&&n.getAttribute("rel").toLowerCase()==="stylesheet"||n.tagName.toLowerCase()==="style"||n.tagName.toLowerCase()==="script"}function Jw(n){return n.tagName.toLowerCase()==="script"}function Gw(n){return n.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0),e&e),0)}function Xw(n,e){let t=n;return e.forEach(i=>{const r=new RegExp(`${i}="[^"]*"|${i}='[^']*'`,"g");t=t.replace(r,"")}),t=t.replaceAll(" ",""),t.trim()}var vh=!0;function TE(n){n.navigate=t=>{let i=ba(t);Tr("alpine:navigate",{url:i,history:!1,cached:!1})||e(i)},n.navigate.disableProgressBar=()=>{vh=!1},n.addInitSelector(()=>`[${n.prefixed("navigate")}]`),n.directive("navigate",(t,{modifiers:i})=>{i.includes("hover")&&mE(t,60,()=>{let s=Jy(t);s&&Gy(s,(o,a)=>{Xy(o,s,a)})}),pE(t,s=>{let o=Jy(t);o&&(Gy(o,(a,l)=>{Xy(a,o,l)}),s(()=>{Tr("alpine:navigate",{url:o,history:!1,cached:!1})||e(o)}))})});function e(t,i=!0){vh&&wE(),DE(t,(r,s)=>{Tr("alpine:navigating"),tb(),vh&&xE(),AE(),cE(),ub(n,o=>{ib(a=>{Zy(a),sb(a)}),i?fE(r,s):$w(s,r),ab(r,a=>{Qy(document.body),rb((l,c)=>{eb(l),ob(l)}),nb(),a(()=>{o(()=>{setTimeout(()=>{}),db(n),Tr("alpine:navigated")})})})})})}dE(t=>{t(i=>{let r=ba(i);if(Tr("alpine:navigate",{url:r,history:!0,cached:!1}))return;e(r,!1)})},(t,i,r,s)=>{let o=ba(i);Tr("alpine:navigate",{url:o,history:!0,cached:!0})||(tb(),Tr("alpine:navigating"),uE(r,s),ub(n,l=>{ib(c=>{Zy(c),sb(c)}),ab(t,()=>{kE(),Qy(document.body),rb((c,u)=>{eb(c),ob(c)}),nb(),l(()=>{db(n),Tr("alpine:navigated")})})}))}),setTimeout(()=>{Tr("alpine:navigated")})}function DE(n,e){yE(n,e,()=>{gE(n,e)})}function ub(n,e){n.stopObservingMutations(),e(t=>{n.startObservingMutations(),queueMicrotask(()=>{t()})})}function Tr(n,e){let t=new CustomEvent(n,{cancelable:!0,bubbles:!0,detail:e});return document.dispatchEvent(t),t.defaultPrevented}function db(n){n.initTree(document.body,void 0,(e,t)=>{e._x_wasPersisted&&t()})}function AE(){let n=function(e,t){Alpine.walk(e,(i,r)=>{vE(i)&&r(),bE(i)?r():t(i,r)})};Alpine.destroyTree(document.body,n)}function PE(n){n.magic("queryString",(e,{interceptor:t})=>{let i,r=!1,s=!1;return t((o,a,l,c,u)=>{let d=i||c,{initial:f,replace:p,push:m,pop:g}=_p(d,o,r);return l(f),s?(n.effect(()=>m(a())),g(async y=>{l(y),await Promise.resolve()})):n.effect(()=>p(a())),f},o=>{o.alwaysShow=()=>(r=!0,o),o.usePush=()=>(s=!0,o),o.as=a=>(i=a,o)})}),n.history={track:_p}}function _p(n,e,t=!1,i=null){let{has:r,get:s,set:o,remove:a}=NE(),l=new URL(window.location.href),c=r(l,n),u=c?s(l,n):e,d=JSON.stringify(u),f=[!1,null,void 0].includes(i)?e:JSON.stringify(i),p=v=>JSON.stringify(v)===d,m=v=>JSON.stringify(v)===f;t&&(l=o(l,n,u)),fb(l,n,{value:u});let g=!1,y=(v,x)=>{if(g)return;let S=new URL(window.location.href);!t&&!c&&p(x)||x===void 0||!t&&m(x)?S=a(S,n):S=o(S,n,x),v(S,n,{value:x})};return{initial:u,replace(v){y(fb,v)},push(v){y(RE,v)},pop(v){let x=S=>{!S.state||!S.state.alpine||Object.entries(S.state.alpine).forEach(([O,{value:T}])=>{if(O!==n)return;g=!0;let A=v(T);A instanceof Promise?A.finally(()=>g=!1):g=!1})};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)}}}function fb(n,e,t){let i=window.history.state||{};i.alpine||(i.alpine={}),i.alpine[e]=Lm(t),window.history.replaceState(i,"",n.toString())}function RE(n,e,t){let i=window.history.state||{};i.alpine||(i.alpine={}),i={alpine:{...i.alpine,[e]:Lm(t)}},window.history.pushState(i,"",n.toString())}function Lm(n){if(n!==void 0)return JSON.parse(JSON.stringify(n))}function NE(){return{has(n,e){let t=n.search;if(!t)return!1;let i=Zc(t,e);return Object.keys(i).includes(e)},get(n,e){let t=n.search;return t?Zc(t,e)[e]:!1},set(n,e,t){let i=Zc(n.search,e);return i[e]=Zw(Lm(t)),n.search=hb(i),n},remove(n,e){let t=Zc(n.search,e);return delete t[e],n.search=hb(t),n}}}function Zw(n){if(!Dm(n))return n;for(let e in n)n[e]===null?delete n[e]:n[e]=Zw(n[e]);return n}function hb(n){let e=r=>typeof r=="object"&&r!==null,t=(r,s={},o="")=>(Object.entries(r).forEach(([a,l])=>{let c=o===""?a:`${o}[${a}]`;l===null?s[c]="":e(l)?s={...s,...t(l,s,c)}:s[c]=encodeURIComponent(l).replaceAll("%20","+").replaceAll("%2C",",")}),s),i=t(n);return Object.entries(i).map(([r,s])=>`${r}=${s}`).join("&")}function Zc(n,e){if(n=n.replace("?",""),n==="")return{};let t=(s,o,a)=>{let[l,c,...u]=s.split(".");if(!c)return a[s]=o;a[l]===void 0&&(a[l]=isNaN(c)?{}:[]),t([c,...u].join("."),o,a[l])},i=n.split("&").map(s=>s.split("=")),r=Object.create(null);return i.forEach(([s,o])=>{if(typeof o>"u")return;o=decodeURIComponent(o.replaceAll("+","%20"));let a=decodeURIComponent(s);if(!(a.includes("[")&&a.startsWith(e)))r[s]=o;else{let c=a.replaceAll("[",".").replaceAll("]","");t(c,o,r)}}),r}var IE=Vt(yC()),LE=Vt(bC()),Mn=Vt(Rn());function FE(){setTimeout(()=>BE()),hh(document,"livewire:init"),hh(document,"livewire:initializing"),Mn.default.plugin(IE.default),Mn.default.plugin(PE),Mn.default.plugin(oE.default),Mn.default.plugin(aE.default),Mn.default.plugin(iE.default),Mn.default.plugin(lE.default),Mn.default.plugin(rE.default),Mn.default.plugin(sE.default),Mn.default.plugin(TE),Mn.default.plugin(LE.default),Mn.default.addRootSelector(()=>"[wire\\:id]"),Mn.default.onAttributesAdded((n,e)=>{if(!Array.from(e).some(i=>ml(i.name)))return;let t=Rs(n,!1);t&&e.forEach(i=>{if(!ml(i.name))return;let r=vp(n,i.name);on("directive.init",{el:n,component:t,directive:r,cleanup:s=>{Mn.default.onAttributeRemoved(n,r.raw,s)}})})}),Mn.default.interceptInit(Mn.default.skipDuringClone(n=>{if(!Array.from(n.attributes).some(i=>ml(i.name)))return;if(n.hasAttribute("wire:id")){let i=WC(n);Mn.default.onAttributeRemoved(n,"wire:id",()=>{VC(i.id)})}let e=Array.from(n.getAttributeNames()).filter(i=>ml(i)).map(i=>vp(n,i));e.forEach(i=>{on("directive.global.init",{el:n,directive:i,cleanup:r=>{Mn.default.onAttributeRemoved(n,i.raw,r)}})});let t=Rs(n,!1);t&&(on("element.init",{el:n,component:t}),e.forEach(i=>{on("directive.init",{el:n,component:t,directive:i,cleanup:r=>{Mn.default.onAttributeRemoved(n,i.raw,r)}})}))})),Mn.default.start(),setTimeout(()=>window.Livewire.initialRenderIsFinished=!0),hh(document,"livewire:initialized")}function BE(){let n=document.querySelector("script[data-update-uri][data-csrf]");if(!n)return;let e=n.closest("[wire\\:id]");e&&console.warn("Livewire: missing closing tags found. Ensure your template elements contain matching closing tags.",e)}var Fm=Vt(Rn());Ct("effect",({component:n,effects:e})=>{HE(n,e.listeners||[])});function HE(n,e){e.forEach(t=>{let i=r=>{r.__livewire&&r.__livewire.receivedBy.push(n),n.$wire.call("__dispatch",t,r.detail||{})};window.addEventListener(t,i),n.addCleanup(()=>window.removeEventListener(t,i)),n.el.addEventListener(t,r=>{r.__livewire&&(r.bubbles||(r.__livewire&&r.__livewire.receivedBy.push(n.id),n.$wire.call("__dispatch",t,r.detail||{})))})})}var pb=Vt(Rn()),ea=new WeakMap,$u=new Set;Ct("payload.intercept",async({assets:n})=>{if(n)for(let[e,t]of Object.entries(n))await $E(e,async()=>{await WE(t)})});Ct("component.init",({component:n})=>{let e=n.snapshot.memo.assets;e&&e.forEach(t=>{$u.has(t)||$u.add(t)})});Ct("effect",({component:n,effects:e})=>{let t=e.scripts;t&&Object.entries(t).forEach(([i,r])=>{zE(n,i,()=>{let s=jE(r);pb.default.dontAutoEvaluateFunctions(()=>{pb.default.evaluate(n.el,s,{$wire:n.$wire})})})})});function zE(n,e,t){if(ea.has(n)&&ea.get(n).includes(e))return;t(),ea.has(n)||ea.set(n,[]);let i=ea.get(n);i.push(e),ea.set(n,i)}function jE(n){let t=/<script\b[^>]*>([\s\S]*?)<\/script>/gm.exec(n);return t&&t[1]?t[1].trim():""}async function $E(n,e){$u.has(n)||(await e(),$u.add(n))}async function WE(n){let e=new DOMParser().parseFromString(n,"text/html"),t=document.adoptNode(e.head);for(let i of t.children)try{await VE(i)}catch{}}async function VE(n){return new Promise((e,t)=>{if(YE(n)){let i=UE(n);i.src?(i.onload=()=>e(),i.onerror=()=>t()):e(),document.head.appendChild(i)}else document.head.appendChild(n),e()})}function YE(n){return n.tagName.toLowerCase()==="script"}function UE(n){let e=document.createElement("script");e.textContent=n.textContent,e.async=n.async;for(let t of n.attributes)e.setAttribute(t.name,t.value);return e}var mb=Vt(Rn());Ct("effect",({component:n,effects:e})=>{let t=e.js,i=e.xjs;t&&Object.entries(t).forEach(([r,s])=>{jC(n,r,()=>{mb.default.evaluate(n.el,s)})}),i&&i.forEach(r=>{mb.default.evaluate(n.el,r)})});var qE=Vt(Rn());function KE(n,e,t){let i=e.parentElement?e.parentElement.tagName.toLowerCase():"div",r=document.createElement(i);r.innerHTML=t;let s;try{s=Rs(e.parentElement)}catch{}s&&(r.__livewire=s);let o=r.firstElementChild;o.__livewire=n,on("morph",{el:e,toEl:o,component:n}),qE.default.morph(e,o,{updating:(a,l,c,u)=>{if(!ta(a)){if(on("morph.updating",{el:a,toEl:l,component:n,skip:u,childrenOnly:c}),a.__livewire_replace===!0&&(a.innerHTML=l.innerHTML),a.__livewire_replace_self===!0)return a.outerHTML=l.outerHTML,u();if(a.__livewire_ignore===!0||(a.__livewire_ignore_self===!0&&c(),gb(a)&&a.getAttribute("wire:id")!==n.id))return u();gb(a)&&(l.__livewire=n)}},updated:a=>{ta(a)||on("morph.updated",{el:a,component:n})},removing:(a,l)=>{ta(a)||on("morph.removing",{el:a,component:n,skip:l})},removed:a=>{ta(a)||on("morph.removed",{el:a,component:n})},adding:a=>{on("morph.adding",{el:a,component:n})},added:a=>{ta(a)||(Rs(a).id,on("morph.added",{el:a}))},key:a=>{if(!ta(a))return a.hasAttribute("wire:key")?a.getAttribute("wire:key"):a.hasAttribute("wire:id")?a.getAttribute("wire:id"):a.id},lookahead:!1}),on("morphed",{el:e,component:n})}function ta(n){return typeof n.hasAttribute!="function"}function gb(n){return n.hasAttribute("wire:id")}Ct("effect",({component:n,effects:e})=>{let t=e.html;t&&queueMicrotask(()=>{queueMicrotask(()=>{KE(n,n.el,t)})})});Ct("effect",({component:n,effects:e})=>{JE(n,e.dispatches||[])});function JE(n,e){e.forEach(({name:t,params:i={},self:r=!1,to:s})=>{r?pa(n,t,i):s?Rm(s,t,i):jw(n,t,i)})}var GE=Vt(Rn()),Sp=new vC;Ct("directive.init",({el:n,directive:e,cleanup:t,component:i})=>setTimeout(()=>{e.value==="submit"&&n.addEventListener("submit",()=>{let r=e.expression.startsWith("$parent")?i.parent.id:i.id,s=XE(n);Sp.add(r,s)})}));Ct("commit",({component:n,respond:e})=>{e(()=>{Sp.each(n.id,t=>t()),Sp.remove(n.id)})});function XE(n){let e=[];return GE.default.walk(n,(t,i)=>{if(n.contains(t)){if(t.hasAttribute("wire:ignore"))return i();ZE(t)?e.push(eO(t)):QE(t)&&e.push(tO(t))}}),()=>{for(;e.length>0;)e.shift()()}}function ZE(n){let e=n.tagName.toLowerCase();return e==="select"||e==="button"&&n.type==="submit"||e==="input"&&(n.type==="checkbox"||n.type==="radio")}function QE(n){return["input","textarea"].includes(n.tagName.toLowerCase())}function eO(n){let e=n.disabled?()=>{}:()=>n.disabled=!1;return n.disabled=!0,e}function tO(n){let e=n.readOnly?()=>{}:()=>n.readOnly=!1;return n.readOnly=!0,e}Ct("commit.pooling",({commits:n})=>{n.forEach(e=>{let t=e.component;Qw(t,i=>{i.$wire.$commit()})})});Ct("commit.pooled",({pools:n})=>{nO(n).forEach(t=>{let i=t.component;Qw(i,r=>{iO(n,i,r)})})});function nO(n){let e=[];return n.forEach(t=>{t.commits.forEach(i=>{e.push(i)})}),e}function iO(n,e,t){let i=yb(n,e),r=yb(n,t),s=r.findCommitByComponent(t);r.delete(s),i.add(s),n.forEach(o=>{o.empty()&&n.delete(o)})}function yb(n,e){for(let[t,i]of n.entries())if(i.hasCommitFor(e))return i}function Qw(n,e){ex(n,t=>{(rO(t)||sO(t))&&e(t)})}function rO(n){return!!n.snapshot.memo.props}function sO(n){return!!n.snapshot.memo.bindings}function ex(n,e){n.children.forEach(t=>{e(t),ex(t,e)})}Ct("commit",({succeed:n})=>{n(({effects:e})=>{let t=e.download;if(!t)return;let i=window.webkitURL||window.URL,r=i.createObjectURL(oO(t.content,t.contentType)),s=document.createElement("a");s.style.display="none",s.href=r,s.download=t.name,document.body.appendChild(s),s.click(),setTimeout(function(){i.revokeObjectURL(r)},0)})});function oO(n,e="",t=512){const i=atob(n),r=[];e===null&&(e="");for(let s=0;s<i.length;s+=t){let o=i.slice(s,s+t),a=new Array(o.length);for(let c=0;c<o.length;c++)a[c]=o.charCodeAt(c);let l=new Uint8Array(a);r.push(l)}return new Blob(r,{type:e})}var Mp=new WeakSet,Cp=new WeakSet;Ct("component.init",({component:n})=>{let e=n.snapshot.memo;e.lazyLoaded!==void 0&&(Cp.add(n),e.lazyIsolated!==void 0&&e.lazyIsolated===!1&&Mp.add(n))});Ct("commit.pooling",({commits:n})=>{n.forEach(e=>{Cp.has(e.component)&&(Mp.has(e.component)?(e.isolate=!1,Mp.delete(e.component)):e.isolate=!0,Cp.delete(e.component))})});var bb=Vt(Rn());Ct("effect",({component:n,effects:e,cleanup:t})=>{let i=e.url;i&&Object.entries(i).forEach(([r,s])=>{let{name:o,as:a,use:l,alwaysShow:c,except:u}=aO(r,s);a||(a=o);let d=[!1,null,void 0].includes(u)?jr(n.ephemeral,o):u,{replace:f,push:p,pop:m}=_p(a,d,c,u);if(l==="replace"){let g=bb.default.effect(()=>{f(jr(n.reactive,o))});t(()=>bb.default.release(g))}else if(l==="push"){let g=Ct("commit",({component:v,succeed:x})=>{if(n!==v)return;let S=jr(n.canonical,o);x(()=>{let O=jr(n.canonical,o);JSON.stringify(S)!==JSON.stringify(O)&&p(O)})}),y=m(async v=>{await n.$wire.set(o,v),document.querySelectorAll("input").forEach(x=>{x._x_forceModelUpdate&&x._x_forceModelUpdate(x._x_model.get())})});t(()=>{g(),y()})}})});function aO(n,e){let t={use:"replace",alwaysShow:!1};return typeof e=="string"?{...t,name:e,as:e}:{...{...t,name:n,as:n},...e}}Ct("request",({options:n})=>{window.Echo&&(n.headers["X-Socket-ID"]=window.Echo.socketId())});Ct("effect",({component:n,effects:e})=>{(e.listeners||[]).forEach(i=>{if(i.startsWith("echo")){if(typeof window.Echo>"u"){console.warn("Laravel Echo cannot be found");return}let r=i.split(/(echo:|echo-)|:|,/);r[1]=="echo:"&&r.splice(2,0,"channel",void 0),r[2]=="notification"&&r.push(void 0,void 0);let[s,o,a,l,c,u,d]=r;if(["channel","private","encryptedPrivate"].includes(a)){let f=p=>pa(n,i,[p]);window.Echo[a](c).listen(d,f),n.addCleanup(()=>{window.Echo[a](c).stopListening(d,f)})}else if(a=="presence")if(["here","joining","leaving"].includes(d))window.Echo.join(c)[d](f=>{pa(n,i,[f])});else{let f=p=>pa(n,i,[p]);window.Echo.join(c).listen(d,f),n.addCleanup(()=>{window.Echo.leaveChannel(c)})}else a=="notification"?window.Echo.private(c).notification(f=>{pa(n,i,[f])}):console.warn("Echo channel type not yet supported")}})});var tx=new WeakSet;Ct("component.init",({component:n})=>{n.snapshot.memo.isolate===!0&&tx.add(n)});Ct("commit.pooling",({commits:n})=>{n.forEach(e=>{tx.has(e.component)&&(e.isolate=!0)})});cO()&&Alpine.navigate.disableProgressBar();document.addEventListener("alpine:navigate",n=>Bm("livewire:navigate",n));document.addEventListener("alpine:navigating",n=>Bm("livewire:navigating",n));document.addEventListener("alpine:navigated",n=>Bm("livewire:navigated",n));function Bm(n,e){let t=new CustomEvent(n,{cancelable:!0,bubbles:!0,detail:e.detail});document.dispatchEvent(t),t.defaultPrevented&&e.preventDefault()}function lO(n,e,t){n.redirectUsingNavigate?Alpine.navigate(e):t()}function cO(){return!!(document.querySelector("[data-no-progress-bar]")||window.livewireScriptConfig&&window.livewireScriptConfig.progressBar===!1)}Ct("effect",({effects:n})=>{if(!n.redirect)return;let e=n.redirect;lO(n,e,()=>{window.location.href=e})});var vb=Vt(Rn());Ct("morph.added",({el:n})=>{n.__addedByMorph=!0});zi("transition",({el:n,directive:e,component:t,cleanup:i})=>{let r=vb.default.reactive({state:!n.__addedByMorph});vb.default.bind(n,{[e.rawName.replace("wire:","x-")]:"","x-show"(){return r.state}}),n.__addedByMorph&&setTimeout(()=>r.state=!0);let s=[];s.push(Ct("morph.removing",({el:o,skip:a})=>{a(),o.addEventListener("transitionend",()=>{o.remove()}),r.state=!1,s.push(Ct("morph",({component:l})=>{l===t&&(o.remove(),s.forEach(c=>c()))}))})),i(()=>s.forEach(o=>o()))});var uO=new Ow;function dO(n,e){uO.each(n,t=>{t.callback(),t.callback=()=>{}}),e()}var wb=Vt(Rn());Ct("directive.init",({el:n,directive:e,cleanup:t,component:i})=>{if(["snapshot","effects","model","init","loading","poll","ignore","id","data","key","target","dirty"].includes(e.value)||eE(e.value))return;let r=e.rawName.replace("wire:","x-on:");e.value==="submit"&&!e.modifiers.includes("prevent")&&(r=r+".prevent");let s=wb.default.bind(n,{[r](o){let a=()=>{dO(i,()=>{wb.default.evaluate(n,"$wire."+e.expression,{scope:{$event:o}})})};n.__livewire_confirm?n.__livewire_confirm(()=>{a()},()=>{o.stopImmediatePropagation()}):a()}});t(s)});var ma=Vt(Rn());ma.default.addInitSelector(()=>"[wire\\:navigate]");ma.default.addInitSelector(()=>"[wire\\:navigate\\.hover]");ma.default.interceptInit(ma.default.skipDuringClone(n=>{n.hasAttribute("wire:navigate")?ma.default.bind(n,{"x-navigate":!0}):n.hasAttribute("wire:navigate.hover")&&ma.default.bind(n,{"x-navigate.hover":!0})}));document.addEventListener("alpine:navigating",()=>{Livewire.all().forEach(n=>{n.inscribeSnapshotAndEffectsOnElement()})});zi("confirm",({el:n,directive:e})=>{let t=e.expression,i=e.modifiers.includes("prompt");t=t.replaceAll("\\n",`
`),t===""&&(t="Are you sure?"),n.__livewire_confirm=(r,s)=>{if(i){let[o,a]=t.split("|");a?prompt(o)===a?r():s():console.warn("Livewire: Must provide expectation with wire:confirm.prompt")}else confirm(t)?r():s()}});var fO=Vt(Rn());fO.default.addInitSelector(()=>"[wire\\:current]");var Ep=new Map;document.addEventListener("livewire:navigated",()=>{Ep.forEach(n=>n(new URL(window.location.href)))});QC("current",({el:n,directive:e,cleanup:t})=>{let i=e.expression,r={exact:e.modifiers.includes("exact"),strict:e.modifiers.includes("strict")};if(i.startsWith("#")||!n.hasAttribute("href"))return;let s=n.getAttribute("href"),o=new URL(s,window.location.href),a=i.split(" ").filter(String),l=c=>{hO(o,c,r)?(n.classList.add(...a),n.setAttribute("data-current","")):(n.classList.remove(...a),n.removeAttribute("data-current"))};l(new URL(window.location.href)),Ep.set(n,l),t(()=>Ep.delete(n))});function hO(n,e,t){if(n.hostname!==e.hostname)return!1;let i=t.strict?n.pathname:n.pathname.replace(/\/+$/,""),r=t.strict?e.pathname:e.pathname.replace(/\/+$/,"");if(t.exact)return i===r;let s=i.split("/"),o=r.split("/");for(let a=0;a<s.length;a++)if(s[a]!==o[a])return!1;return!0}function so(n,e,t,i=null){if(t=e.modifiers.includes("remove")?!t:t,e.modifiers.includes("class")){let r=e.expression.split(" ").filter(String);t?n.classList.add(...r):n.classList.remove(...r)}else if(e.modifiers.includes("attr"))t?n.setAttribute(e.expression,!0):n.removeAttribute(e.expression);else{let r=i??window.getComputedStyle(n,null).getPropertyValue("display"),s=["inline","block","table","flex","grid","inline-flex"].filter(o=>e.modifiers.includes(o))[0]||"inline-block";s=e.modifiers.includes("remove")&&!t?r:s,n.style.display=t?s:"none"}}var Op=new Set,Tp=new Set;window.addEventListener("offline",()=>Op.forEach(n=>n()));window.addEventListener("online",()=>Tp.forEach(n=>n()));zi("offline",({el:n,directive:e,cleanup:t})=>{let i=()=>so(n,e,!0),r=()=>so(n,e,!1);Op.add(i),Tp.add(r),t(()=>{Op.delete(i),Tp.delete(r)})});zi("loading",({el:n,directive:e,component:t,cleanup:i})=>{let{targets:r,inverted:s}=bO(n),[o,a]=pO(e),l=mO(t,r,s,[()=>o(()=>so(n,e,!0)),()=>a(()=>so(n,e,!1))]),c=gO(t,r,[()=>o(()=>so(n,e,!0)),()=>a(()=>so(n,e,!1))]);i(()=>{l(),c()})});function pO(n){if(!n.modifiers.includes("delay")||n.modifiers.includes("none"))return[s=>s(),s=>s()];let e=200,t={shortest:50,shorter:100,short:150,default:200,long:300,longer:500,longest:1e3};Object.keys(t).some(s=>{if(n.modifiers.includes(s))return e=t[s],!0});let i,r=!1;return[s=>{i=setTimeout(()=>{s(),r=!0},e)},async s=>{r?(await s(),r=!1):clearTimeout(i)}]}function mO(n,e,t,[i,r]){return Ct("commit",({component:s,commit:o,respond:a})=>{s===n&&(e.length>0&&yO(o,e)===t||(i(),a(()=>{r()})))})}function gO(n,e,[t,i]){let r=l=>{let{id:c,property:u}=l.detail;return c!==n.id||e.length>0&&!e.map(d=>d.target).includes(u)},s=ph(window,"livewire-upload-start",l=>{r(l)||t()}),o=ph(window,"livewire-upload-finish",l=>{r(l)||i()}),a=ph(window,"livewire-upload-error",l=>{r(l)||i()});return()=>{s(),o(),a()}}function yO(n,e){let{updates:t,calls:i}=n;return e.some(({target:r,params:s})=>{if(s)return i.some(({method:a,params:l})=>r===a&&s===nx(JSON.stringify(l)));if(Object.keys(t).some(a=>a.includes(".")&&a.split(".")[0]===r?!0:a===r)||i.map(a=>a.method).includes(r))return!0})}function bO(n){let e=Nm(n),t=[],i=!1;if(e.has("target")){let r=e.get("target"),s=r.expression;r.modifiers.includes("except")&&(i=!0),s.includes("(")&&s.includes(")")?t.push({target:r.method,params:nx(JSON.stringify(r.params))}):s.includes(",")?s.split(",").map(o=>o.trim()).forEach(o=>{t.push({target:o})}):t.push({target:s})}else{let r=["init","dirty","offline","target","loading","poll","ignore","key","id"];e.all().filter(s=>!r.includes(s.value)).map(s=>s.expression.split("(")[0]).forEach(s=>t.push({target:s}))}return{targets:t,inverted:i}}function nx(n){return btoa(encodeURIComponent(n))}zi("stream",({el:n,directive:e,cleanup:t})=>{let{expression:i,modifiers:r}=e,s=Ct("stream",({name:o,content:a,replace:l})=>{o===i&&(r.includes("replace")||l?n.innerHTML=a:n.innerHTML=n.innerHTML+a)});t(s)});Ct("request",({respond:n})=>{n(e=>{let t=e.response;t.headers.has("X-Livewire-Stream")&&(e.response={ok:!0,redirected:!1,status:200,async text(){let i=await vO(t,r=>{on("stream",r)});return Aw(i)&&(this.ok=!1),i}})})});async function vO(n,e){let t=n.body.getReader(),i="";for(;;){let{done:r,value:s}=await t.read(),a=new TextDecoder().decode(s),[l,c]=wO(i+a);if(l.forEach(u=>{e(u)}),i=c,r)return i}}function wO(n){let e=/({"stream":true.*?"endStream":true})/g,t=n.match(e),i=[];if(t)for(let s=0;s<t.length;s++)i.push(JSON.parse(t[s]).body);let r=n.replace(e,"");return[i,r]}zi("replace",({el:n,directive:e})=>{e.modifiers.includes("self")?n.__livewire_replace_self=!0:n.__livewire_replace=!0});zi("ignore",({el:n,directive:e})=>{e.modifiers.includes("self")?n.__livewire_ignore_self=!0:n.__livewire_ignore=!0});var ix=new Ow;Ct("commit",({component:n,succeed:e})=>{e(()=>{setTimeout(()=>{ix.each(n,t=>t(!1))})})});zi("dirty",({el:n,directive:e,component:t})=>{let i=xO(n);Alpine.reactive({state:!1});let r=!1,s=n.style.display,o=a=>{so(n,e,a,s),r=a};ix.add(t,o),Alpine.effect(()=>{let a=!1;if(i.length===0)a=JSON.stringify(t.canonical)!==JSON.stringify(t.reactive);else for(let l=0;l<i.length&&!a;l++){let c=i[l];a=JSON.stringify(jr(t.canonical,c))!==JSON.stringify(jr(t.reactive,c))}r!==a&&o(a),r=a})});function xO(n){let e=Nm(n),t=[];return e.has("model")&&t.push(e.get("model").expression),e.has("target")&&(t=t.concat(e.get("target").expression.split(",").map(i=>i.trim()))),t}var kO=Vt(Rn());zi("model",({el:n,directive:e,component:t,cleanup:i})=>{let{expression:r,modifiers:s}=e;if(!r)return console.warn("Livewire: [wire:model] is missing a value.",n);if(rx(t,r))return console.warn('Livewire: [wire:model="'+r+'"] property does not exist on component: ['+t.name+"]",n);if(n.type&&n.type.toLowerCase()==="file")return _C(n,r,t,i);let o=s.includes("live"),a=s.includes("lazy")||s.includes("change"),l=s.includes("blur"),c=s.includes("debounce"),u=r.startsWith("$parent")?()=>t.$wire.$parent.$commit():()=>t.$wire.$commit(),d=SO(n)&&!c&&o?MO(u,150):u;kO.default.bind(n,{"@change"(){a&&u()},"@blur"(){l&&u()},["x-model"+_O(s)](){return{get(){return jr(t.$wire,r)},set(f){qd(t.$wire,r,f),o&&!a&&!l&&d()}}}})});function _O(n){return n=n.filter(e=>!["lazy","defer"].includes(e)),n.length===0?"":"."+n.join(".")}function SO(n){return["INPUT","TEXTAREA"].includes(n.tagName.toUpperCase())&&!["checkbox","radio"].includes(n.type)}function rx(n,e){if(e.startsWith("$parent")){let i=Rs(n.el.parentElement,!1);return i?rx(i,e.split("$parent.")[1]):!0}let t=e.split(".")[0];return!Object.keys(n.canonical).includes(t)}function MO(n,e){var t;return function(){var i=this,r=arguments,s=function(){t=null,n.apply(i,r)};clearTimeout(t),t=setTimeout(s,e)}}var CO=Vt(Rn());zi("init",({el:n,directive:e})=>{let t=e.expression??"$refresh";CO.default.evaluate(n,`$wire.${t}`)});var EO=Vt(Rn());zi("poll",({el:n,directive:e})=>{let t=BO(e.modifiers,2e3),{start:i,pauseWhile:r,throttleWhile:s,stopWhen:o}=TO(()=>{OO(n,e)},t);i(),s(()=>PO()&&NO(e)),r(()=>IO(e)&&LO(n)),r(()=>RO(n)),r(()=>AO()),o(()=>FO(n))});function OO(n,e){EO.default.evaluate(n,e.expression?"$wire."+e.expression:"$wire.$commit()")}function TO(n,e=2e3){let t=[],i=[],r=[];return{start(){let s=DO(e,()=>{if(r.some(o=>o()))return s();t.some(o=>o())||i.some(o=>o())&&Math.random()<.95||n()})},pauseWhile(s){t.push(s)},throttleWhile(s){i.push(s)},stopWhen(s){r.push(s)}}}var Ks=[];function DO(n,e){if(!Ks[n]){let t={timer:setInterval(()=>t.callbacks.forEach(i=>i()),n),callbacks:new Set};Ks[n]=t}return Ks[n].callbacks.add(e),()=>{Ks[n].callbacks.delete(e),Ks[n].callbacks.size===0&&(clearInterval(Ks[n].timer),delete Ks[n])}}var Hm=!1;window.addEventListener("offline",()=>Hm=!0);window.addEventListener("online",()=>Hm=!1);function AO(){return Hm}var sx=!1;document.addEventListener("visibilitychange",()=>{sx=document.hidden},!1);function PO(){return sx}function RO(n){return!Nm(n).has("poll")}function NO(n){return!n.modifiers.includes("keep-alive")}function IO(n){return n.modifiers.includes("visible")}function LO(n){let e=n.getBoundingClientRect();return!(e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.bottom>0&&e.right>0)}function FO(n){return n.isConnected===!1}function BO(n,e){let t,i=n.find(s=>s.match(/([0-9]+)ms/)),r=n.find(s=>s.match(/([0-9]+)s/));return i?t=Number(i.replace("ms","")):r&&(t=Number(r.replace("s",""))*1e3),t||e}var Xd={directive:zi,dispatchTo:Rm,start:FE,first:KC,find:qC,getByName:UC,all:JC,hook:Ct,trigger:on,triggerAsync:Rw,dispatch:GC,on:ZC,get navigate(){return Fm.default.navigate}},zm=n=>console.warn(`Detected multiple instances of ${n} running`);window.Livewire&&zm("Livewire");window.Alpine&&zm("Alpine");window.Livewire=Xd;window.Alpine=Fm.default;window.livewireScriptConfig===void 0&&(window.Alpine.__fromLivewire=!0,document.addEventListener("DOMContentLoaded",()=>{window.Alpine.__fromLivewire===void 0&&zm("Alpine"),Xd.start()}));Fm.default;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT *//*! Bundled license information:

tabbable/dist/index.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/function ox(n,e){return function(){return n.apply(e,arguments)}}const{toString:HO}=Object.prototype,{getPrototypeOf:jm}=Object,{iterator:Zd,toStringTag:ax}=Symbol,Qd=(n=>e=>{const t=HO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),nr=n=>(n=n.toLowerCase(),e=>Qd(e)===n),ef=n=>e=>typeof e===n,{isArray:Ba}=Array,Vl=ef("undefined");function mc(n){return n!==null&&!Vl(n)&&n.constructor!==null&&!Vl(n.constructor)&&hi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const lx=nr("ArrayBuffer");function zO(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&lx(n.buffer),e}const jO=ef("string"),hi=ef("function"),cx=ef("number"),gc=n=>n!==null&&typeof n=="object",$O=n=>n===!0||n===!1,Tu=n=>{if(Qd(n)!=="object")return!1;const e=jm(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ax in n)&&!(Zd in n)},WO=n=>{if(!gc(n)||mc(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},VO=nr("Date"),YO=nr("File"),UO=nr("Blob"),qO=nr("FileList"),KO=n=>gc(n)&&hi(n.pipe),JO=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||hi(n.append)&&((e=Qd(n))==="formdata"||e==="object"&&hi(n.toString)&&n.toString()==="[object FormData]"))},GO=nr("URLSearchParams"),[XO,ZO,QO,eT]=["ReadableStream","Request","Response","Headers"].map(nr),tT=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Ba(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{if(mc(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function ux(n,e){if(mc(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dx=n=>!Vl(n)&&n!==oo;function Dp(){const{caseless:n}=dx(this)&&this||{},e={},t=(i,r)=>{const s=n&&ux(e,r)||r;Tu(e[s])&&Tu(i)?e[s]=Dp(e[s],i):Tu(i)?e[s]=Dp({},i):Ba(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&yc(arguments[i],t);return e}const nT=(n,e,t,{allOwnKeys:i}={})=>(yc(e,(r,s)=>{t&&hi(r)?n[s]=ox(r,t):n[s]=r},{allOwnKeys:i}),n),iT=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),rT=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},sT=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&jm(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},oT=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},aT=n=>{if(!n)return null;if(Ba(n))return n;let e=n.length;if(!cx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},lT=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&jm(Uint8Array)),cT=(n,e)=>{const i=(n&&n[Zd]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},uT=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},dT=nr("HTMLFormElement"),fT=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),xb=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),hT=nr("RegExp"),fx=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};yc(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},pT=n=>{fx(n,(e,t)=>{if(hi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(hi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mT=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return Ba(n)?i(n):i(String(n).split(e)),t},gT=()=>{},yT=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function bT(n){return!!(n&&hi(n.append)&&n[ax]==="FormData"&&n[Zd])}const vT=n=>{const e=new Array(10),t=(i,r)=>{if(gc(i)){if(e.indexOf(i)>=0)return;if(mc(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Ba(i)?[]:{};return yc(i,(o,a)=>{const l=t(o,r+1);!Vl(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},wT=nr("AsyncFunction"),xT=n=>n&&(gc(n)||hi(n))&&hi(n.then)&&hi(n.catch),hx=((n,e)=>n?setImmediate:e?((t,i)=>(oo.addEventListener("message",({source:r,data:s})=>{r===oo&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),oo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",hi(oo.postMessage)),kT=typeof queueMicrotask<"u"?queueMicrotask.bind(oo):typeof process<"u"&&process.nextTick||hx,_T=n=>n!=null&&hi(n[Zd]),$={isArray:Ba,isArrayBuffer:lx,isBuffer:mc,isFormData:JO,isArrayBufferView:zO,isString:jO,isNumber:cx,isBoolean:$O,isObject:gc,isPlainObject:Tu,isEmptyObject:WO,isReadableStream:XO,isRequest:ZO,isResponse:QO,isHeaders:eT,isUndefined:Vl,isDate:VO,isFile:YO,isBlob:UO,isRegExp:hT,isFunction:hi,isStream:KO,isURLSearchParams:GO,isTypedArray:lT,isFileList:qO,forEach:yc,merge:Dp,extend:nT,trim:tT,stripBOM:iT,inherits:rT,toFlatObject:sT,kindOf:Qd,kindOfTest:nr,endsWith:oT,toArray:aT,forEachEntry:cT,matchAll:uT,isHTMLForm:dT,hasOwnProperty:xb,hasOwnProp:xb,reduceDescriptors:fx,freezeMethods:pT,toObjectSet:mT,toCamelCase:fT,noop:gT,toFiniteNumber:yT,findKey:ux,global:oo,isContextDefined:dx,isSpecCompliantForm:bT,toJSONObject:vT,isAsyncFn:wT,isThenable:xT,setImmediate:hx,asap:kT,isIterable:_T};function at(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}$.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const px=at.prototype,mx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mx[n]={value:n}});Object.defineProperties(at,mx);Object.defineProperty(px,"isAxiosError",{value:!0});at.from=(n,e,t,i,r,s)=>{const o=Object.create(px);return $.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),at.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const ST=null;function Ap(n){return $.isPlainObject(n)||$.isArray(n)}function gx(n){return $.endsWith(n,"[]")?n.slice(0,-2):n}function kb(n,e,t){return n?n.concat(e).map(function(r,s){return r=gx(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function MT(n){return $.isArray(n)&&!n.some(Ap)}const CT=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function tf(n,e,t){if(!$.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=$.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!$.isUndefined(y[g])});const i=t.metaTokens,r=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(r))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if($.isDate(m))return m.toISOString();if($.isBoolean(m))return m.toString();if(!l&&$.isBlob(m))throw new at("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(m)||$.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let v=m;if(m&&!y&&typeof m=="object"){if($.endsWith(g,"{}"))g=i?g:g.slice(0,-2),m=JSON.stringify(m);else if($.isArray(m)&&MT(m)||($.isFileList(m)||$.endsWith(g,"[]"))&&(v=$.toArray(m)))return g=gx(g),v.forEach(function(S,O){!($.isUndefined(S)||S===null)&&e.append(o===!0?kb([g],O,s):o===null?g:g+"[]",c(S))}),!1}return Ap(m)?!0:(e.append(kb(y,g,s),c(m)),!1)}const d=[],f=Object.assign(CT,{defaultVisitor:u,convertValue:c,isVisitable:Ap});function p(m,g){if(!$.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),$.forEach(m,function(v,x){(!($.isUndefined(v)||v===null)&&r.call(e,v,$.isString(x)?x.trim():x,g,f))===!0&&p(v,g?g.concat(x):[x])}),d.pop()}}if(!$.isObject(n))throw new TypeError("data must be an object");return p(n),e}function _b(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function $m(n,e){this._pairs=[],n&&tf(n,this,e)}const yx=$m.prototype;yx.append=function(e,t){this._pairs.push([e,t])};yx.toString=function(e){const t=e?function(i){return e.call(this,i,_b)}:_b;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function ET(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bx(n,e,t){if(!e)return n;const i=t&&t.encode||ET;$.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=$.isURLSearchParams(e)?e.toString():new $m(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Sb{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(i){i!==null&&e(i)})}}const vx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OT=typeof URLSearchParams<"u"?URLSearchParams:$m,TT=typeof FormData<"u"?FormData:null,DT=typeof Blob<"u"?Blob:null,AT={isBrowser:!0,classes:{URLSearchParams:OT,FormData:TT,Blob:DT},protocols:["http","https","file","blob","url","data"]},Wm=typeof window<"u"&&typeof document<"u",Pp=typeof navigator=="object"&&navigator||void 0,PT=Wm&&(!Pp||["ReactNative","NativeScript","NS"].indexOf(Pp.product)<0),RT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NT=Wm&&window.location.href||"http://localhost",IT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wm,hasStandardBrowserEnv:PT,hasStandardBrowserWebWorkerEnv:RT,navigator:Pp,origin:NT},Symbol.toStringTag,{value:"Module"})),Un={...IT,...AT};function LT(n,e){return tf(n,new Un.classes.URLSearchParams,{visitor:function(t,i,r,s){return Un.isNode&&$.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function FT(n){return $.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BT(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function wx(n){function e(t,i,r,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&$.isArray(r)?r.length:o,l?($.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!$.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&$.isArray(r[o])&&(r[o]=BT(r[o])),!a)}if($.isFormData(n)&&$.isFunction(n.entries)){const t={};return $.forEachEntry(n,(i,r)=>{e(FT(i),r,t,0)}),t}return null}function HT(n,e,t){if($.isString(n))try{return(e||JSON.parse)(n),$.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const bc={transitional:vx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=$.isObject(e);if(s&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return r?JSON.stringify(wx(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return LT(e,this.formSerializer).toString();if((a=$.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),HT(e)):e}],transformResponse:[function(e){const t=this.transitional||bc.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?at.from(a,at.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],n=>{bc.headers[n]={}});const zT=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jT=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&zT[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Mb=Symbol("internals");function sl(n){return n&&String(n).trim().toLowerCase()}function Du(n){return n===!1||n==null?n:$.isArray(n)?n.map(Du):String(n)}function $T(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const WT=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function wh(n,e,t,i,r){if($.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!$.isString(e)){if($.isString(i))return e.indexOf(i)!==-1;if($.isRegExp(i))return i.test(e)}}function VT(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function YT(n,e){const t=$.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let pi=class{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,c){const u=sl(l);if(!u)throw new Error("header name must be a non-empty string");const d=$.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Du(a))}const o=(a,l)=>$.forEach(a,(c,u)=>s(c,u,l));if($.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if($.isString(e)&&(e=e.trim())&&!WT(e))o(jT(e),t);else if($.isObject(e)&&$.isIterable(e)){let a={},l,c;for(const u of e){if(!$.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?$.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,t)}else e!=null&&s(t,e,i);return this}get(e,t){if(e=sl(e),e){const i=$.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return $T(r);if($.isFunction(t))return t.call(this,r,i);if($.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=sl(e),e){const i=$.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||wh(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=sl(o),o){const a=$.findKey(i,o);a&&(!t||wh(i,i[a],a,t))&&(delete i[a],r=!0)}}return $.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||wh(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return $.forEach(this,(r,s)=>{const o=$.findKey(i,s);if(o){t[o]=Du(r),delete t[s];return}const a=e?VT(s):String(s).trim();a!==s&&delete t[s],t[a]=Du(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&$.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Mb]=this[Mb]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=sl(o);i[a]||(YT(r,o),i[a]=!0)}return $.isArray(e)?e.forEach(s):s(e),this}};pi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(pi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});$.freezeMethods(pi);function xh(n,e){const t=this||bc,i=e||t,r=pi.from(i.headers);let s=i.data;return $.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function xx(n){return!!(n&&n.__CANCEL__)}function Ha(n,e,t){at.call(this,n??"canceled",at.ERR_CANCELED,e,t),this.name="CanceledError"}$.inherits(Ha,at,{__CANCEL__:!0});function kx(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new at("Request failed with status code "+t.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function UT(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function qT(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),t[r]=l,i[r]=c;let d=s,f=0;for(;d!==r;)f+=t[d++],d=d%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function KT(n,e){let t=0,i=1e3/e,r,s;const o=(c,u=Date.now())=>{t=u,r=null,s&&(clearTimeout(s),s=null),n(...c)};return[(...c)=>{const u=Date.now(),d=u-t;d>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}const Wu=(n,e,t=3)=>{let i=0;const r=qT(50,250);return KT(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(d)},t)},Cb=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Eb=n=>(...e)=>$.asap(()=>n(...e)),JT=Un.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Un.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Un.origin),Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent)):()=>!0,GT=Un.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const o=[n+"="+encodeURIComponent(e)];$.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),$.isString(i)&&o.push("path="+i),$.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ZT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function _x(n,e,t){let i=!XT(e);return n&&(i||t==!1)?ZT(n,e):e}const Ob=n=>n instanceof pi?{...n}:n;function So(n,e){e=e||{};const t={};function i(c,u,d,f){return $.isPlainObject(c)&&$.isPlainObject(u)?$.merge.call({caseless:f},c,u):$.isPlainObject(u)?$.merge({},u):$.isArray(u)?u.slice():u}function r(c,u,d,f){if($.isUndefined(u)){if(!$.isUndefined(c))return i(void 0,c,d,f)}else return i(c,u,d,f)}function s(c,u){if(!$.isUndefined(u))return i(void 0,u)}function o(c,u){if($.isUndefined(u)){if(!$.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(Ob(c),Ob(u),d,!0)};return $.forEach(Object.keys({...n,...e}),function(u){const d=l[u]||r,f=d(n[u],e[u],u);$.isUndefined(f)&&d!==a||(t[u]=f)}),t}const Sx=n=>{const e=So({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=pi.from(o),e.url=bx(_x(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if($.isFormData(t)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Un.hasStandardBrowserEnv&&(i&&$.isFunction(i)&&(i=i(e)),i||i!==!1&&JT(e.url))){const c=r&&s&&GT.read(s);c&&o.set(r,c)}return e},QT=typeof XMLHttpRequest<"u",eD=QT&&function(n){return new Promise(function(t,i){const r=Sx(n);let s=r.data;const o=pi.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,f,p,m;function g(){p&&p(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function v(){if(!y)return;const S=pi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:n,request:y};kx(function(D){t(D),g()},function(D){i(D),g()},T),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(i(new at("Request aborted",at.ECONNABORTED,n,y)),y=null)},y.onerror=function(){i(new at("Network Error",at.ERR_NETWORK,n,y)),y=null},y.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||vx;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),i(new at(O,T.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,n,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&$.forEach(o.toJSON(),function(O,T){y.setRequestHeader(T,O)}),$.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),c&&([f,m]=Wu(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,p]=Wu(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=S=>{y&&(i(!S||S.type?new Ha(null,n,y):S),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const x=UT(r.url);if(x&&Un.protocols.indexOf(x)===-1){i(new at("Unsupported protocol "+x+":",at.ERR_BAD_REQUEST,n));return}y.send(s||null)})},tD=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof at?u:new Ha(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new at(`timeout ${e} of ms exceeded`,at.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>$.asap(a),l}},nD=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},iD=async function*(n,e){for await(const t of rD(n))yield*nD(t,e)},rD=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Tb=(n,e,t,i)=>{const r=iD(n,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(t){let f=s+=d;t(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},nf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mx=nf&&typeof ReadableStream=="function",sD=nf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Cx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},oD=Mx&&Cx(()=>{let n=!1;const e=new Request(Un.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Db=64*1024,Rp=Mx&&Cx(()=>$.isReadableStream(new Response("").body)),Vu={stream:Rp&&(n=>n.body)};nf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Vu[e]&&(Vu[e]=$.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new at(`Response type '${e}' is not supported`,at.ERR_NOT_SUPPORT,i)})})})(new Response);const aD=async n=>{if(n==null)return 0;if($.isBlob(n))return n.size;if($.isSpecCompliantForm(n))return(await new Request(Un.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if($.isArrayBufferView(n)||$.isArrayBuffer(n))return n.byteLength;if($.isURLSearchParams(n)&&(n=n+""),$.isString(n))return(await sD(n)).byteLength},lD=async(n,e)=>{const t=$.toFiniteNumber(n.getContentLength());return t??aD(e)},cD=nf&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Sx(n);c=c?(c+"").toLowerCase():"text";let p=tD([r,s&&s.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&oD&&t!=="get"&&t!=="head"&&(y=await lD(u,i))!==0){let T=new Request(e,{method:"POST",body:i,duplex:"half"}),A;if($.isFormData(i)&&(A=T.headers.get("content-type"))&&u.setContentType(A),T.body){const[D,P]=Cb(y,Wu(Eb(l)));i=Tb(T.body,Db,D,P)}}$.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:v?d:void 0});let x=await fetch(m,f);const S=Rp&&(c==="stream"||c==="response");if(Rp&&(a||S&&g)){const T={};["status","statusText","headers"].forEach(B=>{T[B]=x[B]});const A=$.toFiniteNumber(x.headers.get("content-length")),[D,P]=a&&Cb(A,Wu(Eb(a),!0))||[];x=new Response(Tb(x.body,Db,D,()=>{P&&P(),g&&g()}),T)}c=c||"text";let O=await Vu[$.findKey(Vu,c)||"text"](x,n);return!S&&g&&g(),await new Promise((T,A)=>{kx(T,A,{data:O,headers:pi.from(x.headers),status:x.status,statusText:x.statusText,config:n,request:m})})}catch(v){throw g&&g(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,n,m),{cause:v.cause||v}):at.from(v,v&&v.code,n,m)}}),Np={http:ST,xhr:eD,fetch:cD};$.forEach(Np,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Ab=n=>`- ${n}`,uD=n=>$.isFunction(n)||n===null||n===!1,Ex={getAdapter:n=>{n=$.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let o;if(i=t,!uD(t)&&(i=Np[(o=String(t)).toLowerCase()],i===void 0))throw new at(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Ab).join(`
`):" "+Ab(s[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Np};function kh(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ha(null,n)}function Pb(n){return kh(n),n.headers=pi.from(n.headers),n.data=xh.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ex.getAdapter(n.adapter||bc.adapter)(n).then(function(i){return kh(n),i.data=xh.call(n,n.transformResponse,i),i.headers=pi.from(i.headers),i},function(i){return xx(i)||(kh(n),i&&i.response&&(i.response.data=xh.call(n,n.transformResponse,i.response),i.response.headers=pi.from(i.response.headers))),Promise.reject(i)})}const Ox="1.11.0",rf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{rf[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Rb={};rf.transitional=function(e,t,i){function r(s,o){return"[Axios v"+Ox+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new at(r(o," has been removed"+(t?" in "+t:"")),at.ERR_DEPRECATED);return t&&!Rb[o]&&(Rb[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};rf.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function dD(n,e,t){if(typeof n!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new at("option "+s+" must be "+l,at.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new at("Unknown option "+s,at.ERR_BAD_OPTION)}}const Au={assertOptions:dD,validators:rf},cr=Au.validators;let po=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Sb,response:new Sb}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=So(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&Au.assertOptions(i,{silentJSONParsing:cr.transitional(cr.boolean),forcedJSONParsing:cr.transitional(cr.boolean),clarifyTimeoutError:cr.transitional(cr.boolean)},!1),r!=null&&($.isFunction(r)?t.paramsSerializer={serialize:r}:Au.assertOptions(r,{encode:cr.function,serialize:cr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Au.assertOptions(t,{baseUrl:cr.spelling("baseURL"),withXsrfToken:cr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&$.merge(s.common,s[t.method]);s&&$.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=pi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,f;if(!l){const m=[Pb.bind(this),void 0];for(m.unshift(...a),m.push(...c),f=m.length,u=Promise.resolve(t);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let p=t;for(d=0;d<f;){const m=a[d++],g=a[d++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=Pb.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=So(this.defaults,e);const t=_x(e.baseURL,e.url,e.allowAbsoluteUrls);return bx(t,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){po.prototype[e]=function(t,i){return this.request(So(i||{},{method:e,url:t,data:(i||{}).data}))}});$.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(So(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}po.prototype[e]=t(),po.prototype[e+"Form"]=t(!0)});let fD=class Tx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Ha(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Tx(function(r){e=r}),cancel:e}}};function hD(n){return function(t){return n.apply(null,t)}}function pD(n){return $.isObject(n)&&n.isAxiosError===!0}const Ip={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ip).forEach(([n,e])=>{Ip[e]=n});function Dx(n){const e=new po(n),t=ox(po.prototype.request,e);return $.extend(t,po.prototype,e,{allOwnKeys:!0}),$.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Dx(So(n,r))},t}const bn=Dx(bc);bn.Axios=po;bn.CanceledError=Ha;bn.CancelToken=fD;bn.isCancel=xx;bn.VERSION=Ox;bn.toFormData=tf;bn.AxiosError=at;bn.Cancel=bn.CanceledError;bn.all=function(e){return Promise.all(e)};bn.spread=hD;bn.isAxiosError=pD;bn.mergeConfig=So;bn.AxiosHeaders=pi;bn.formToJSON=n=>wx($.isHTMLForm(n)?new FormData(n):n);bn.getAdapter=Ex.getAdapter;bn.HttpStatusCode=Ip;bn.default=bn;const{Axios:NV,AxiosError:IV,CanceledError:LV,isCancel:FV,CancelToken:BV,VERSION:HV,all:zV,Cancel:jV,isAxiosError:$V,spread:WV,toFormData:VV,AxiosHeaders:YV,HttpStatusCode:UV,formToJSON:qV,getAdapter:KV,mergeConfig:JV}=bn;window.axios=bn;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";class Ax{constructor(){this.darkMode=localStorage.getItem("dark-mode")==="true",this.init()}init(){this.applyDarkMode(),this.addEventListeners(),this.detectSystemPreference()}applyDarkMode(){this.darkMode?(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light")}toggle(){this.darkMode=!this.darkMode,localStorage.setItem("dark-mode",this.darkMode),this.applyDarkMode(),document.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{darkMode:this.darkMode}}))}addEventListeners(){const e=document.getElementById("light-switch");e&&(e.checked=this.darkMode,e.addEventListener("change",i=>{this.toggle()}));const t=document.querySelectorAll("[data-dark-mode-toggle]");t.forEach(i=>{i.addEventListener("click",r=>{r.preventDefault(),this.toggle(),this.updateToggleButton(i)})}),t.forEach(i=>{this.updateToggleButton(i)})}updateToggleButton(e){const t=e.querySelector("[data-dark-mode-icon]"),i=e.querySelector("[data-dark-mode-text]");this.darkMode?(t&&(t.innerHTML=`
                    <svg class="w-4 h-4 fill-current" viewBox="0 0 16 16">
                        <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM8 12c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"/>
                    </svg>
                `),i&&(i.textContent="Modo Claro")):(t&&(t.innerHTML=`
                    <svg class="w-4 h-4 fill-current" viewBox="0 0 16 16">
                        <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6V2z"/>
                    </svg>
                `),i&&(i.textContent="Modo Oscuro"))}detectSystemPreference(){if(localStorage.getItem("dark-mode")===null){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.darkMode=e,localStorage.setItem("dark-mode",this.darkMode),this.applyDarkMode()}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("dark-mode")===null&&(this.darkMode=e.matches,localStorage.setItem("dark-mode",this.darkMode),this.applyDarkMode())})}isDarkMode(){return this.darkMode}setDarkMode(e){this.darkMode=e,localStorage.setItem("dark-mode",this.darkMode),this.applyDarkMode();const t=document.getElementById("light-switch");t&&(t.checked=this.darkMode),document.querySelectorAll("[data-dark-mode-toggle]").forEach(r=>{this.updateToggleButton(r)})}}document.addEventListener("DOMContentLoaded",()=>{window.darkModeToggle=new Ax});typeof _o<"u"&&_o.exports&&(_o.exports=Ax);function jn(n){this.content=n}jn.prototype={constructor:jn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var i=t&&t!=n?this.remove(t):this,r=i.find(n),s=i.content.slice();return r==-1?s.push(t||n,e):(s[r+1]=e,t&&(s[r]=t)),new jn(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new jn(t)},addToStart:function(n,e){return new jn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new jn(t)},addBefore:function(n,e,t){var i=this.remove(e),r=i.content.slice(),s=i.find(n);return r.splice(s==-1?r.length:s,0,e,t),new jn(r)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=jn.from(n),n.size?new jn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=jn.from(n),n.size?new jn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=jn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};jn.from=function(n){if(n instanceof jn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new jn(e)};function Px(n,e,t){for(let i=0;;i++){if(i==n.childCount||i==e.childCount)return n.childCount==e.childCount?null:t;let r=n.child(i),s=e.child(i);if(r==s){t+=r.nodeSize;continue}if(!r.sameMarkup(s))return t;if(r.isText&&r.text!=s.text){for(let o=0;r.text[o]==s.text[o];o++)t++;return t}if(r.content.size||s.content.size){let o=Px(r.content,s.content,t+1);if(o!=null)return o}t+=r.nodeSize}}function Rx(n,e,t,i){for(let r=n.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:t,b:i};let o=n.child(--r),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,i-=l;continue}if(!o.sameMarkup(a))return{a:t,b:i};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,i--;return{a:t,b:i}}if(o.content.size||a.content.size){let c=Rx(o.content,a.content,t-1,i-1);if(c)return c}t-=l,i-=l}}class te{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,t,i,r=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&i(l,r+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),i,r+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,i,r){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&i&&(o?o=!1:s+=i),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,i=e.firstChild,r=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(i)&&(r[r.length-1]=t.withText(t.text+i.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new te(r,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let i=[],r=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),i.push(a),r+=a.nodeSize),o=l}return new te(i,r)}cutByIndex(e,t){return e==t?te.empty:e==0&&t==this.content.length?this:new te(this.content.slice(e,t))}replaceChild(e,t){let i=this.content[e];if(i==t)return this;let r=this.content.slice(),s=this.size+t.nodeSize-i.nodeSize;return r[e]=t,new te(r,s)}addToStart(e){return new te([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new te(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,i=0;t<this.content.length;t++){let r=this.content[t];e(r,i,t),i+=r.nodeSize}}findDiffStart(e,t=0){return Px(this,e,t)}findDiffEnd(e,t=this.size,i=e.size){return Rx(this,e,t,i)}findIndex(e){if(e==0)return Qc(0,e);if(e==this.size)return Qc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,i=0;;t++){let r=this.child(t),s=i+r.nodeSize;if(s>=e)return s==e?Qc(t+1,s):Qc(t,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return te.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new te(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return te.empty;let t,i=0;for(let r=0;r<e.length;r++){let s=e[r];i+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(t||(t=e.slice(0,r)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new te(t||e,i)}static from(e){if(!e)return te.empty;if(e instanceof te)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new te([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}te.empty=new te([],0);const _h={index:0,offset:0};function Qc(n,e){return _h.index=n,_h.offset=e,_h}function Yu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!Yu(n[i],e[i]))return!1}else{for(let i in n)if(!(i in e)||!Yu(n[i],e[i]))return!1;for(let i in e)if(!(i in n))return!1}return!0}let Wt=class Lp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,i=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),i=!0),t&&t.push(s)}}return t||(t=e.slice()),i||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Yu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[t.type];if(!i)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=i.create(t.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(t[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Lp.none;if(e instanceof Lp)return[e];let t=e.slice();return t.sort((i,r)=>i.type.rank-r.type.rank),t}};Wt.none=[];class Uu extends Error{}class ve{constructor(e,t,i){this.content=e,this.openStart=t,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let i=Ix(this.content,e+this.openStart,t);return i&&new ve(i,this.openStart,this.openEnd)}removeBetween(e,t){return new ve(Nx(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ve.empty;let i=t.openStart||0,r=t.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ve(te.fromJSON(e,t.content),i,r)}static maxOpen(e,t=!0){let i=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)i++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)r++;return new ve(e,i,r)}}ve.empty=new ve(te.empty,0,0);function Nx(n,e,t){let{index:i,offset:r}=n.findIndex(e),s=n.maybeChild(i),{index:o,offset:a}=n.findIndex(t);if(r==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(i!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(i,s.copy(Nx(s.content,e-r-1,t-r-1)))}function Ix(n,e,t,i){let{index:r,offset:s}=n.findIndex(e),o=n.maybeChild(r);if(s==e||o.isText)return i&&!i.canReplace(r,r,t)?null:n.cut(0,e).append(t).append(n.cut(e));let a=Ix(o.content,e-s-1,t,o);return a&&n.replaceChild(r,o.copy(a))}function mD(n,e,t){if(t.openStart>n.depth)throw new Uu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Uu("Inconsistent open depths");return Lx(n,e,t,0)}function Lx(n,e,t,i){let r=n.index(i),s=n.node(i);if(r==e.index(i)&&i<n.depth-t.openStart){let o=Lx(n,e,t,i+1);return s.copy(s.content.replaceChild(r,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==i&&e.depth==i){let o=n.parent,a=o.content;return go(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=gD(t,n);return go(s,Bx(n,o,a,e,i))}else return go(s,qu(n,e,i))}function Fx(n,e){if(!e.type.compatibleContent(n.type))throw new Uu("Cannot join "+e.type.name+" onto "+n.type.name)}function Fp(n,e,t){let i=n.node(t);return Fx(i,e.node(t)),i}function mo(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Cl(n,e,t,i){let r=(e||n).node(t),s=0,o=e?e.index(t):r.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(mo(n.nodeAfter,i),s++));for(let a=s;a<o;a++)mo(r.child(a),i);e&&e.depth==t&&e.textOffset&&mo(e.nodeBefore,i)}function go(n,e){return n.type.checkContent(e),n.copy(e)}function Bx(n,e,t,i,r){let s=n.depth>r&&Fp(n,e,r+1),o=i.depth>r&&Fp(t,i,r+1),a=[];return Cl(null,n,r,a),s&&o&&e.index(r)==t.index(r)?(Fx(s,o),mo(go(s,Bx(n,e,t,i,r+1)),a)):(s&&mo(go(s,qu(n,e,r+1)),a),Cl(e,t,r,a),o&&mo(go(o,qu(t,i,r+1)),a)),Cl(i,null,r,a),new te(a)}function qu(n,e,t){let i=[];if(Cl(null,n,t,i),n.depth>t){let r=Fp(n,e,t+1);mo(go(r,qu(n,e,t+1)),i)}return Cl(e,null,t,i),new te(i)}function gD(n,e){let t=e.depth-n.openStart,r=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)r=e.node(s).copy(te.from(r));return{start:r.resolveNoCache(n.openStart+t),end:r.resolveNoCache(r.content.size-n.openEnd-t)}}class Yl{constructor(e,t,i){this.pos=e,this.path=t,this.parentOffset=i,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(t);return i?e.child(t).cut(i):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let i=this.path[t*3],r=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)r+=i.child(s).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Wt.none;if(this.textOffset)return e.child(t).marks;let i=e.maybeChild(t-1),r=e.maybeChild(t);if(!i){let a=i;i=r,r=a}let s=i.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!r||!s[o].isInSet(r.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let i=t.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!t||t(this.node(i))))return new Ku(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let i=[],r=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(i.push(o,a,r+l),!c||(o=o.child(a),o.isText))break;s=c-1,r+=l+1}return new Yl(t,i,s)}static resolveCached(e,t){let i=Nb.get(e);if(i)for(let s=0;s<i.elts.length;s++){let o=i.elts[s];if(o.pos==t)return o}else Nb.set(e,i=new yD);let r=i.elts[i.i]=Yl.resolve(e,t);return i.i=(i.i+1)%bD,r}}class yD{constructor(){this.elts=[],this.i=0}}const bD=12,Nb=new WeakMap;class Ku{constructor(e,t,i){this.$from=e,this.$to=t,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const vD=Object.create(null);let Ms=class Bp{constructor(e,t,i,r=Wt.none){this.type=e,this.attrs=t,this.marks=r,this.content=i||te.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,i,r=0){this.content.nodesBetween(e,t,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,i,r){return this.content.textBetween(e,t,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,i){return this.type==e&&Yu(this.attrs,t||e.defaultAttrs||vD)&&Wt.sameSet(this.marks,i||Wt.none)}copy(e=null){return e==this.content?this:new Bp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Bp(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,i=!1){if(e==t)return ve.empty;let r=this.resolve(e),s=this.resolve(t),o=i?0:r.sharedDepth(t),a=r.start(o),c=r.node(o).content.cut(r.pos-a,s.pos-a);return new ve(c,r.depth-o,s.depth-o)}replace(e,t,i){return mD(this.resolve(e),this.resolve(t),i)}nodeAt(e){for(let t=this;;){let{index:i,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(i),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(t),index:t,offset:i};let r=this.content.child(t-1);return{node:r,index:t-1,offset:i-r.nodeSize}}resolve(e){return Yl.resolveCached(this,e)}resolveNoCache(e){return Yl.resolve(this,e)}rangeHasMark(e,t,i){let r=!1;return t>e&&this.nodesBetween(e,t,s=>(i.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Hx(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,i=te.empty,r=0,s=i.childCount){let o=this.contentMatchAt(e).matchFragment(i,r,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=r;l<s;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(e,t,i,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(i),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Wt.none;for(let t=0;t<this.marks.length;t++){let i=this.marks[t];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Wt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let i;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,i)}let r=te.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,r,i);return s.type.checkAttrs(s.attrs),s}};Ms.prototype.text=void 0;class Ju extends Ms{constructor(e,t,i,r){if(super(e,t,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Hx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ju(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ju(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Hx(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Mo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let i=new wD(e,t);if(i.next==null)return Mo.empty;let r=zx(i);i.next&&i.err("Unexpected trailing text");let s=ED(CD(r));return OD(s,i),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,i=e.childCount){let r=this;for(let s=t;r&&s<i;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let i=0;i<e.next.length;i++)if(this.next[t].type==e.next[i].type)return!0;return!1}fillBefore(e,t=!1,i=0){let r=[this];function s(o,a){let l=o.matchFragment(e,i);if(l&&(!t||l.validEnd))return te.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),s=r.match;if(s.matchType(e)){let o=[];for(let a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!r.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&t(i.next[r].next)}return t(this),e.map((i,r)=>{let s=r+(i.validEnd?"*":" ")+" ";for(let o=0;o<i.next.length;o++)s+=(o?", ":"")+i.next[o].type.name+"->"+e.indexOf(i.next[o].next);return s}).join(`
`)}}Mo.empty=new Mo(!0);class wD{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function zx(n){let e=[];do e.push(xD(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function xD(n){let e=[];do e.push(kD(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function kD(n){let e=MD(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=_D(n,e);else break;return e}function Ib(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function _D(n,e){let t=Ib(n),i=t;return n.eat(",")&&(n.next!="}"?i=Ib(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:i,expr:e}}function SD(n,e){let t=n.nodeTypes,i=t[e];if(i)return[i];let r=[];for(let s in t){let o=t[s];o.isInGroup(e)&&r.push(o)}return r.length==0&&n.err("No node type or group '"+e+"' found"),r}function MD(n){if(n.eat("(")){let e=zx(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=SD(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function CD(n){let e=[[]];return r(s(n,0),t()),e;function t(){return e.push([])-1}function i(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function r(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;r(c,a=t())}else if(o.type=="star"){let l=t();return i(a,l),r(s(o.expr,l),l),[i(l)]}else if(o.type=="plus"){let l=t();return r(s(o.expr,a),l),r(s(o.expr,l),l),[i(l)]}else{if(o.type=="opt")return[i(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=t();r(s(o.expr,l),u),l=u}if(o.max==-1)r(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=t();i(l,u),r(s(o.expr,l),u),l=u}return[i(l)]}else{if(o.type=="name")return[i(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function jx(n,e){return e-n}function Lb(n,e){let t=[];return i(e),t.sort(jx);function i(r){let s=n[r];if(s.length==1&&!s[0].term)return i(s[0].to);t.push(r);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&i(l)}}}function ED(n){let e=Object.create(null);return t(Lb(n,0));function t(i){let r=[];i.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<r.length;u++)r[u][0]==a&&(c=r[u][1]);Lb(n,l).forEach(u=>{c||r.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[i.join(",")]=new Mo(i.indexOf(n.length-1)>-1);for(let o=0;o<r.length;o++){let a=r[o][1].sort(jx);s.next.push({type:r[o][0],next:e[a.join(",")]||t(a)})}return s}}function OD(n,e){for(let t=0,i=[n];t<i.length;t++){let r=i[t],s=!r.validEnd,o=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),i.indexOf(c)==-1&&i.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $x(n){let e=Object.create(null);for(let t in n){let i=n[t];if(!i.hasDefault)return null;e[t]=i.default}return e}function Wx(n,e){let t=Object.create(null);for(let i in n){let r=e&&e[i];if(r===void 0){let s=n[i];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+i)}t[i]=r}return t}function Vx(n,e,t,i){for(let r in e)if(!(r in n))throw new RangeError(`Unsupported attribute ${r} for ${t} of type ${r}`);for(let r in n){let s=n[r];s.validate&&s.validate(e[r])}}function Yx(n,e){let t=Object.create(null);if(e)for(let i in e)t[i]=new DD(n,i,e[i]);return t}let Fb=class Ux{constructor(e,t,i){this.name=e,this.schema=t,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Yx(e,i.attrs),this.defaultAttrs=$x(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Mo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Wx(this.attrs,e)}create(e=null,t,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ms(this,this.computeAttrs(e),te.from(t),Wt.setFrom(i))}createChecked(e=null,t,i){return t=te.from(t),this.checkContent(t),new Ms(this,this.computeAttrs(e),t,Wt.setFrom(i))}createAndFill(e=null,t,i){if(e=this.computeAttrs(e),t=te.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let r=this.contentMatch.matchFragment(t),s=r&&r.fillBefore(te.empty,!0);return s?new Ms(this,e,t.append(s),Wt.setFrom(i)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Vx(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?t&&t.push(e[i]):t||(t=e.slice(0,i));return t?t.length?t:Wt.none:e}static compile(e,t){let i=Object.create(null);e.forEach((s,o)=>i[s]=new Ux(s,t,o));let r=t.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function TD(n,e,t){let i=t.split("|");return r=>{let s=r===null?"null":typeof r;if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${n}, got ${s}`)}}class DD{constructor(e,t,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?TD(e,t,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class sf{constructor(e,t,i,r){this.name=e,this.rank=t,this.schema=i,this.spec=r,this.attrs=Yx(e,r.attrs),this.excluded=null;let s=$x(this.attrs);this.instance=s?new Wt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Wt(this,Wx(this.attrs,e))}static compile(e,t){let i=Object.create(null),r=0;return e.forEach((s,o)=>i[s]=new sf(s,r++,t,o)),i}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Vx(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class qx{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=jn.from(e.nodes),t.marks=jn.from(e.marks||{}),this.nodes=Fb.compile(this.spec.nodes,this),this.marks=sf.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=i[o]||(i[o]=Mo.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Bb(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Bb(this,o.split(" "))}this.nodeFromJSON=r=>Ms.fromJSON(this,r),this.markFromJSON=r=>Wt.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Fb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,i,r)}text(e,t){let i=this.nodes.text;return new Ju(i,i.defaultAttrs,e,Wt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Bb(n,e){let t=[];for(let i=0;i<e.length;i++){let r=e[i],s=n.marks[r],o=s;if(s)t.push(s);else for(let a in n.marks){let l=n.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return t}function AD(n){return n.tag!=null}function PD(n){return n.style!=null}let El=class Hp{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let i=this.matchedStyles=[];t.forEach(r=>{if(AD(r))this.tags.push(r);else if(PD(r)){let s=/[^=]*/.exec(r.style)[0];i.indexOf(s)<0&&i.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let i=new zb(this,t,!1);return i.addAll(e,Wt.none,t.from,t.to),i.finish()}parseSlice(e,t={}){let i=new zb(this,t,!0);return i.addAll(e,Wt.none,t.from,t.to),ve.maxOpen(i.finish())}matchTag(e,t,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(ID(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,i,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!i.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function i(r){let s=r.priority==null?50:r.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(o=>{i(o=jb(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(o=>{i(o=jb(o)),o.node||o.ignore||o.mark||(o.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Hp(e,Hp.schemaRules(e)))}};const Kx={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},RD={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Jx={ol:!0,ul:!0},Ul=1,zp=2,Ol=4;function Hb(n,e,t){return e!=null?(e?Ul:0)|(e==="full"?zp:0):n&&n.whitespace=="pre"?Ul|zp:t&~Ol}class eu{constructor(e,t,i,r,s,o){this.type=e,this.attrs=t,this.marks=i,this.solid=r,this.options=o,this.content=[],this.activeMarks=Wt.none,this.match=s||(o&Ol?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(te.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ul)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let s=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let t=te.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(te.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Kx.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zb{constructor(e,t,i){this.parser=e,this.options=t,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=t.topNode,s,o=Hb(null,t.preserveWhitespace,0)|(i?Ol:0);r?s=new eu(r.type,r.attrs,Wt.none,!0,t.topMatch||r.type.contentMatch,o):i?s=new eu(null,null,Wt.none,!0,null,o):s=new eu(e.schema.topNodeType,null,Wt.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let i=e.nodeValue,r=this.top,s=r.options&zp?"full":this.localPreserveWS||(r.options&Ul)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(s)s!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),t,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,t,i){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;Jx.hasOwnProperty(o)&&this.parser.normalizeLists&&ND(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,i));e:if(l?l.ignore:RD.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(Kx.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let d=l&&l.skip?t:this.readStyles(e,t);d&&this.addAll(e,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],o=i.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,i,r){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let l=this.enter(o,t.attrs||null,i,t.preserveWhitespace);l&&(s=!0,i=l)}else{let l=this.parser.schema.marks[t.mark];i=i.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,i,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,i),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,i,r){let s=i||0;for(let o=i?e.childNodes[i]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,i){let r,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!r||r.length>c.length+a)&&(r=c,s=l,!c.length))break;if(l.solid){if(i)break;a+=2}}if(!r)return null;this.sync(s);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t,i){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let r=this.findPlace(e,t,i);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Wt.none;for(let a of r.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):$b(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,i,r){let s=this.findPlace(e.create(t),i,!1);return s&&(s=this.enterInner(e,t,i,!0,r)),s}enterInner(e,t,i,r=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Hb(e,s,o.options);o.options&Ol&&o.content.length==0&&(a|=Ol);let l=Wt.none;return i=i.filter(c=>(o.type?o.type.allowsMarkType(c.type):$b(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new eu(e,t,l,r,null,a)),this.open++,i}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Ul)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let i=this.nodes[t].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==t&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,i){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),s=-(i?i.depth+1:0)+(r?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&r?this.nodes[l].type:i&&l>=s?i.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let t in this.parser.schema.nodes){let i=this.parser.schema.nodes[t];if(i.isTextblock&&i.defaultAttrs)return i}}}function ND(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&Jx.hasOwnProperty(i)&&t?(t.appendChild(e),e=t):i=="li"?t=e:i&&(t=null)}}function ID(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function jb(n){let e={};for(let t in n)e[t]=n[t];return e}function $b(n,e){let t=e.schema.nodes;for(let i in t){let r=t[i];if(!r.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(r.contentMatch))return!0}}class Po{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},i){i||(i=Sh(t).createDocumentFragment());let r=i,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)r=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,t);u&&(s.push([c,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(o,t))}),i}serializeNodeInner(e,t){let{dom:i,contentDOM:r}=Pu(Sh(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return i}serializeNode(e,t={}){let i=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i}serializeMark(e,t,i={}){let r=this.marks[e.type.name];return r&&Pu(Sh(i),r(e,t),null,e.attrs)}static renderSpec(e,t,i=null,r){return Pu(e,t,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Po(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Wb(e.nodes);return t.text||(t.text=i=>i.text),t}static marksFromSchema(e){return Wb(e.marks)}}function Wb(n){let e={};for(let t in n){let i=n[t].spec.toDOM;i&&(e[t]=i)}return e}function Sh(n){return n.document||window.document}const Vb=new WeakMap;function LD(n){let e=Vb.get(n);return e===void 0&&Vb.set(n,e=FD(n)),e}function FD(n){let e=null;function t(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)t(i[r]);else for(let r in i)t(i[r])}return t(n),e}function Pu(n,e,t,i){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(s=LD(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(t=r.slice(0,o),r=r.slice(o+1));let a,l=t?n.createElementNS(t,r):n.createElement(r),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=Pu(n,f,t,i);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const Gx=65535,Xx=Math.pow(2,16);function BD(n,e){return n+e*Xx}function Yb(n){return n&Gx}function HD(n){return(n-(n&Gx))/Xx}const Zx=1,Qx=2,Ru=4,ek=8;class jp{constructor(e,t,i){this.pos=e,this.delInfo=t,this.recover=i}get deleted(){return(this.delInfo&ek)>0}get deletedBefore(){return(this.delInfo&(Zx|Ru))>0}get deletedAfter(){return(this.delInfo&(Qx|Ru))>0}get deletedAcross(){return(this.delInfo&Ru)>0}}class ki{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ki.empty)return ki.empty}recover(e){let t=0,i=Yb(e);if(!this.inverted)for(let r=0;r<i;r++)t+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+t+HD(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,i){let r=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:t:t,p=l+r+(f<0?0:u);if(i)return p;let m=e==(t<0?l:d)?null:BD(a/3,e-l),g=e==l?Qx:e==d?Zx:Ru;return(t<0?e!=l:e!=d)&&(g|=ek),new jp(p,g,m)}r+=u-c}return i?e+r:new jp(e+r,0,null)}touches(e,t){let i=0,r=Yb(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==r*3)return!0;i+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[r+t],u=this.ranges[r+i];e(a,a+c,l,l+u),s+=u-c}}invert(){return new ki(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ki.empty:new ki(e<0?[0,-e,0]:[0,0,e])}}ki.empty=new ki([]);class ql{constructor(e,t,i=0,r=e?e.length:0){this.mirror=t,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new ql(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,i=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],r!=null&&r<t?i+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,i=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),r!=null&&r>t?i-r-1:void 0)}}invert(){let e=new ql;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,i){let r=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,e=a.pos}return i?e:new jp(e,r,null)}}const Mh=Object.create(null);class Xn{getMap(){return ki.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Mh[t.stepType];if(!i)throw new RangeError(`No step type ${t.stepType} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in Mh)throw new RangeError("Duplicate use of step JSON ID "+e);return Mh[e]=t,t.prototype.jsonID=e,t}}class kn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new kn(e,null)}static fail(e){return new kn(null,e)}static fromReplace(e,t,i,r){try{return kn.ok(e.replace(t,i,r))}catch(s){if(s instanceof Uu)return kn.fail(s.message);throw s}}}function Vm(n,e,t){let i=[];for(let r=0;r<n.childCount;r++){let s=n.child(r);s.content.size&&(s=s.copy(Vm(s.content,e,s))),s.isInline&&(s=e(s,t,r)),i.push(s)}return te.fromArray(i)}class ys extends Xn{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),s=new ve(Vm(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),t.openStart,t.openEnd);return kn.fromReplace(e,this.from,this.to,s)}invert(){return new Gi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new ys(t.pos,i.pos,this.mark)}merge(e){return e instanceof ys&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ys(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ys(t.from,t.to,e.markFromJSON(t.mark))}}Xn.jsonID("addMark",ys);class Gi extends Xn{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=new ve(Vm(t.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),t.openStart,t.openEnd);return kn.fromReplace(e,this.from,this.to,i)}invert(){return new ys(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Gi(t.pos,i.pos,this.mark)}merge(e){return e instanceof Gi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gi(t.from,t.to,e.markFromJSON(t.mark))}}Xn.jsonID("removeMark",Gi);class bs extends Xn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return kn.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return kn.fromReplace(e,this.pos,this.pos+1,new ve(te.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let i=this.mark.addToSet(t.marks);if(i.length==t.marks.length){for(let r=0;r<t.marks.length;r++)if(!t.marks[r].isInSet(i))return new bs(this.pos,t.marks[r]);return new bs(this.pos,this.mark)}}return new Co(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new bs(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bs(t.pos,e.markFromJSON(t.mark))}}Xn.jsonID("addNodeMark",bs);class Co extends Xn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return kn.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return kn.fromReplace(e,this.pos,this.pos+1,new ve(te.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new bs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Co(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Co(t.pos,e.markFromJSON(t.mark))}}Xn.jsonID("removeNodeMark",Co);class Dn extends Xn{constructor(e,t,i,r=!1){super(),this.from=e,this.to=t,this.slice=i,this.structure=r}apply(e){return this.structure&&$p(e,this.from,this.to)?kn.fail("Structure replace would overwrite content"):kn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ki([this.from,this.to-this.from,this.slice.size])}invert(e){return new Dn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deletedAcross&&i.deletedAcross?null:new Dn(t.pos,Math.max(t.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Dn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ve.empty:new ve(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Dn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ve.empty:new ve(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Dn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Dn(t.from,t.to,ve.fromJSON(e,t.slice),!!t.structure)}}Xn.jsonID("replace",Dn);class An extends Xn{constructor(e,t,i,r,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=i,this.gapTo=r,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&($p(e,this.from,this.gapFrom)||$p(e,this.gapTo,this.to)))return kn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return kn.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,t.content);return i?kn.fromReplace(e,this.from,this.to,i):kn.fail("Content does not fit in gap")}getMap(){return new ki([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new An(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return t.deletedAcross&&i.deletedAcross||r<t.pos||s>i.pos?null:new An(t.pos,i.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new An(t.from,t.to,t.gapFrom,t.gapTo,ve.fromJSON(e,t.slice),t.insert,!!t.structure)}}Xn.jsonID("replaceAround",An);function $p(n,e,t){let i=n.resolve(e),r=t-e,s=i.depth;for(;r>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,r--;if(r>0){let o=i.node(s).maybeChild(i.indexAfter(s));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function zD(n,e,t,i){let r=[],s=[],o,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!i.isInSet(d)&&u.type.allowsMarkType(i.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,t),m=i.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=p:r.push(o=new Gi(f,p,d[g])));a&&a.to==f?a.to=p:s.push(a=new ys(f,p,i))}}),r.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}function jD(n,e,t,i){let r=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(i instanceof sf){let c=o.marks,u;for(;u=i.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else i?i.isInSet(o.marks)&&(l=[i]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<r.length;p++){let m=r[p];m.step==s-1&&d.eq(r[p].style)&&(f=m)}f?(f.to=c,f.step=s):r.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),r.forEach(o=>n.step(new Gi(o.from,o.to,o.style)))}function Ym(n,e,t,i=t.contentMatch,r=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=i.matchType(c.type);if(!d)o.push(new Dn(a,u,ve.empty));else{i=d;for(let f=0;f<c.marks.length;f++)t.allowsMarkType(c.marks[f].type)||n.step(new Gi(a,u,c.marks[f]));if(r&&c.isText&&t.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(c.text);)m||(m=new ve(te.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new Dn(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!i.validEnd){let l=i.fillBefore(te.empty,!0);n.replace(a,a,new ve(l,0,0))}for(let l=o.length-1;l>=0;l--)n.step(o[l])}function $D(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function za(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth;;--i){let r=n.$from.node(i),s=n.$from.index(i),o=n.$to.indexAfter(i);if(i<n.depth&&r.canReplace(s,o,t))return i;if(i==0||r.type.spec.isolating||!$D(r,s,o))break}return null}function WD(n,e,t){let{$from:i,$to:r,depth:s}=e,o=i.before(s+1),a=r.after(s+1),l=o,c=a,u=te.empty,d=0;for(let m=s,g=!1;m>t;m--)g||i.index(m)>0?(g=!0,u=te.from(i.node(m).copy(u)),d++):l--;let f=te.empty,p=0;for(let m=s,g=!1;m>t;m--)g||r.after(m+1)<r.end(m)?(g=!0,f=te.from(r.node(m).copy(f)),p++):c++;n.step(new An(l,c,o,a,new ve(u.append(f),d,p),u.size-d,!0))}function Um(n,e,t=null,i=n){let r=VD(n,e),s=r&&YD(i,e);return s?r.map(Ub).concat({type:e,attrs:t}).concat(s.map(Ub)):null}function Ub(n){return{type:n,attrs:null}}function VD(n,e){let{parent:t,startIndex:i,endIndex:r}=n,s=t.contentMatchAt(i).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(i,r,o)?s:null}function YD(n,e){let{parent:t,startIndex:i,endIndex:r}=n,s=t.child(i),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=i;l&&c<r;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function UD(n,e,t){let i=te.empty;for(let o=t.length-1;o>=0;o--){if(i.size){let a=t[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=te.from(t[o].type.create(t[o].attrs,i))}let r=e.start,s=e.end;n.step(new An(r,s,r,s,new ve(i,0,0),t.length,!0))}function qD(n,e,t,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let l=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(i,l)&&KD(n.doc,n.mapping.slice(s).map(a),i)){let c=null;if(i.schema.linebreakReplacement){let p=i.whitespace=="pre",m=!!i.contentMatch.matchType(i.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&nk(n,o,a,s),Ym(n,n.mapping.slice(s).map(a,1),i,void 0,c===null);let u=n.mapping.slice(s),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return n.step(new An(d,f,d+1,f-1,new ve(te.from(i.create(l,null,o.marks)),0,0),1,!0)),c===!0&&tk(n,o,a,s),!1}})}function tk(n,e,t,i){e.forEach((r,s)=>{if(r.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(r.text);){let l=n.mapping.slice(i).map(t+1+s+o.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function nk(n,e,t,i){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let o=n.mapping.slice(i).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function KD(n,e,t){let i=n.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,t)}function JD(n,e,t,i,r){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(i,null,r||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new An(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ve(te.from(o),0,0),1,!0))}function qr(n,e,t=1,i){let r=n.resolve(e),s=r.depth-t,o=i&&i[i.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=t-2;c>s;c--,u--){let d=r.node(c),f=r.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=i&&i[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=i&&i[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let a=r.indexAfter(s),l=i&&i[0];return r.node(s).canReplaceWith(a,a,l?l.type:r.node(s+1).type)}function GD(n,e,t=1,i){let r=n.doc.resolve(e),s=te.empty,o=te.empty;for(let a=r.depth,l=r.depth-t,c=t-1;a>l;a--,c--){s=te.from(r.node(a).copy(s));let u=i&&i[c];o=te.from(u?u.type.create(u.attrs,o):r.node(a).copy(o))}n.step(new Dn(e,e,new ve(s.append(o),t,t),!0))}function Fs(n,e){let t=n.resolve(e),i=t.index();return ik(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(i,i+1)}function XD(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:i}=n.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),o=s.type==i?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function ik(n,e){return!!(n&&e&&!n.isLeaf&&XD(n,e))}function of(n,e,t=-1){let i=n.resolve(e);for(let r=i.depth;;r--){let s,o,a=i.index(r);if(r==i.depth?(s=i.nodeBefore,o=i.nodeAfter):t>0?(s=i.node(r+1),a++,o=i.node(r).maybeChild(a)):(s=i.node(r).maybeChild(a-1),o=i.node(r+1)),s&&!s.isTextblock&&ik(s,o)&&i.node(r).canReplace(a,a+1))return e;if(r==0)break;e=t<0?i.before(r):i.after(r)}}function ZD(n,e,t){let i=null,{linebreakReplacement:r}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(r&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(r);u&&!d?i=!1:!u&&d&&(i=!0)}let a=n.steps.length;if(i===!1){let u=n.doc.resolve(e+t);nk(n,u.node(),u.before(),a)}o.inlineContent&&Ym(n,e+t-1,o,s.node().contentMatchAt(s.index()),i==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new Dn(c,l.map(e+t,-1),ve.empty,!0)),i===!0){let u=n.doc.resolve(c);tk(n,u.node(),u.before(),n.steps.length)}return n}function QD(n,e,t){let i=n.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),t))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let s=i.index(r);if(i.node(r).canReplaceWith(s,s,t))return i.before(r+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let s=i.indexAfter(r);if(i.node(r).canReplaceWith(s,s,t))return i.after(r+1);if(s<i.node(r).childCount)return null}return null}function rk(n,e,t){let i=n.resolve(e);if(!t.content.size)return e;let r=t.content;for(let s=0;s<t.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=i.depth;o>=0;o--){let a=o==i.depth?0:i.pos<=(i.start(o+1)+i.end(o+1))/2?-1:1,l=i.index(o)+(a>0?1:0),c=i.node(o),u=!1;if(s==1)u=c.canReplace(l,l,r);else{let d=c.contentMatchAt(l).findWrapping(r.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?i.pos:a<0?i.before(o+1):i.after(o+1)}return null}function af(n,e,t=e,i=ve.empty){if(e==t&&!i.size)return null;let r=n.resolve(e),s=n.resolve(t);return sk(r,s,i)?new Dn(e,t,i):new eA(r,s,i).fit()}function sk(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class eA{constructor(e,t,i){this.$from=e,this.$to=t,this.unplaced=i,this.frontier=[],this.placed=te.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=te.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let s=this.placed,o=i.depth,a=r.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new ve(s,o,a);return e>-1?new An(i.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||i.pos!=this.$to.pos?new Dn(i.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let s=t.firstChild;if(t.childCount>1&&(r=0),s.type.spec.isolating&&r<=i){e=i;break}t=s.content}for(let t=1;t<=2;t++)for(let i=t==1?e:this.unplaced.openStart;i>=0;i--){let r,s=null;i?(s=Ch(this.unplaced.content,i-1).firstChild,r=s.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(t==1&&(o?c.matchType(o.type)||(d=c.fillBefore(te.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:a,parent:s,inject:d};if(t==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:i,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:i}=this.unplaced,r=Ch(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new ve(e,t+1,Math.max(i,r.size+t>=e.size-i?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:i}=this.unplaced,r=Ch(e,t);if(r.childCount<=1&&t>0){let s=e.size-t<=t+r.size;this.unplaced=new ve(gl(e,t-1,1),t-1,s?t-1:i)}else this.unplaced=new ve(gl(e,t,1),t,i)}placeNodes({sliceDepth:e,frontierDepth:t,parent:i,inject:r,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=i?i.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[t];if(r){for(let g=0;g<r.childCount;g++)u.push(r.child(g));d=d.matchFragment(r)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(ok(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=yl(this.placed,t,te.from(u)),this.frontier[t].match=d,m&&p<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<p;g++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=m?e==0?ve.empty:new ve(gl(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new ve(gl(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Eh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:i,type:r}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Eh(e,t,r,i,s);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Eh(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=yl(this.placed,t.depth,t.fit)),e=t.move;for(let i=t.depth+1;i<=e.depth;i++){let r=e.node(i),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,t=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=yl(this.placed,this.depth,te.from(e.create(t,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(te.empty,!0);t.childCount&&(this.placed=yl(this.placed,this.frontier.length,t))}}function gl(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(gl(n.firstChild.content,e-1,t)))}function yl(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(yl(n.lastChild.content,e-1,t)))}function Ch(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function ok(n,e,t){if(e<=0)return n;let i=n.content;return e>1&&(i=i.replaceChild(0,ok(i.firstChild,e-1,i.childCount==1?t-1:0))),e>0&&(i=n.type.contentMatch.fillBefore(i).append(i),t<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore(te.empty,!0)))),n.copy(i)}function Eh(n,e,t,i,r){let s=n.node(e),o=r?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=i.fillBefore(s.content,!0,o);return a&&!tA(t,s.content,o)?a:null}function tA(n,e,t){for(let i=t;i<e.childCount;i++)if(!n.allowsMarks(e.child(i).marks))return!0;return!1}function nA(n){return n.spec.defining||n.spec.definingForContent}function iA(n,e,t,i){if(!i.size)return n.deleteRange(e,t);let r=n.doc.resolve(e),s=n.doc.resolve(t);if(sk(r,s,i))return n.step(new Dn(e,t,i));let o=lk(r,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(r.depth+1);o.unshift(a);for(let f=r.depth,p=r.pos-1;f>0;f--,p--){let m=r.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:r.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=i.openStart;for(let f=i.content,p=0;;p++){let m=f.firstChild;if(c.push(m),p==i.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let p=c[f],m=nA(p.type);if(m&&!p.sameMarkup(r.node(Math.abs(a)-1)))u=f;else if(m||!p.type.isTextblock)break}for(let f=i.openStart;f>=0;f--){let p=(f+u+1)%(i.openStart+1),m=c[p];if(m)for(let g=0;g<o.length;g++){let y=o[(g+l)%o.length],v=!0;y<0&&(v=!1,y=-y);let x=r.node(y-1),S=r.index(y-1);if(x.canReplaceWith(S,S,m.type,m.marks))return n.replace(r.before(y),v?s.after(y):t,new ve(ak(i.content,0,i.openStart,p),p,i.openEnd))}}let d=n.steps.length;for(let f=o.length-1;f>=0&&(n.replace(e,t,i),!(n.steps.length>d));f--){let p=o[f];p<0||(e=r.before(p),t=s.after(p))}}function ak(n,e,t,i,r){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(ak(s.content,e+1,t,i,s)))}if(e>i){let s=r.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(te.empty,!0))}return n}function rA(n,e,t,i){if(!i.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let r=QD(n.doc,e,i.type);r!=null&&(e=t=r)}n.replaceRange(e,t,new ve(te.from(i),0,0))}function sA(n,e,t){let i=n.doc.resolve(e),r=n.doc.resolve(t),s=lk(i,r);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return n.delete(i.start(a),r.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),r.indexAfter(a-1))))return n.delete(i.before(a),r.after(a))}for(let o=1;o<=i.depth&&o<=r.depth;o++)if(e-i.start(o)==i.depth-o&&t>i.end(o)&&r.end(o)-t!=r.depth-o&&i.start(o-1)==r.start(o-1)&&i.node(o-1).canReplace(i.index(o-1),r.index(o-1)))return n.delete(i.before(o),t);n.delete(e,t)}function lk(n,e){let t=[],i=Math.min(n.depth,e.depth);for(let r=i;r>=0;r--){let s=n.start(r);if(s<n.pos-(n.depth-r)||e.end(r)>e.pos+(e.depth-r)||n.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==n.depth&&r==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&t.push(r)}return t}class va extends Xn{constructor(e,t,i){super(),this.pos=e,this.attr=t,this.value=i}apply(e){let t=e.nodeAt(this.pos);if(!t)return kn.fail("No node at attribute step's position");let i=Object.create(null);for(let s in t.attrs)i[s]=t.attrs[s];i[this.attr]=this.value;let r=t.type.create(i,null,t.marks);return kn.fromReplace(e,this.pos,this.pos+1,new ve(te.from(r),0,t.isLeaf?0:1))}getMap(){return ki.empty}invert(e){return new va(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new va(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new va(t.pos,t.attr,t.value)}}Xn.jsonID("attr",va);class Kl extends Xn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let i=e.type.create(t,e.content,e.marks);return kn.ok(i)}getMap(){return ki.empty}invert(e){return new Kl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Kl(t.attr,t.value)}}Xn.jsonID("docAttr",Kl);let Da=class extends Error{};Da=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Da.prototype=Object.create(Error.prototype);Da.prototype.constructor=Da;Da.prototype.name="TransformError";class ck{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ql}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Da(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,i=ve.empty){let r=af(this.doc,e,t,i);return r&&this.step(r),this}replaceWith(e,t,i){return this.replace(e,t,new ve(te.from(i),0,0))}delete(e,t){return this.replace(e,t,ve.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,i){return iA(this,e,t,i),this}replaceRangeWith(e,t,i){return rA(this,e,t,i),this}deleteRange(e,t){return sA(this,e,t),this}lift(e,t){return WD(this,e,t),this}join(e,t=1){return ZD(this,e,t),this}wrap(e,t){return UD(this,e,t),this}setBlockType(e,t=e,i,r=null){return qD(this,e,t,i,r),this}setNodeMarkup(e,t,i=null,r){return JD(this,e,t,i,r),this}setNodeAttribute(e,t,i){return this.step(new va(e,t,i)),this}setDocAttribute(e,t){return this.step(new Kl(e,t)),this}addNodeMark(e,t){return this.step(new bs(e,t)),this}removeNodeMark(e,t){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(t instanceof Wt)t.isInSet(i.marks)&&this.step(new Co(e,t));else{let r=i.marks,s,o=[];for(;s=t.isInSet(r);)o.push(new Co(e,s)),r=s.removeFromSet(r);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,i){return GD(this,e,t,i),this}addMark(e,t,i){return zD(this,e,t,i),this}removeMark(e,t,i){return jD(this,e,t,i),this}clearIncompatible(e,t,i){return Ym(this,e,t,i),this}}const Oh=Object.create(null);class ct{constructor(e,t,i){this.$anchor=e,this.$head=t,this.ranges=i||[new oA(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ve.empty){let i=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=i,i=i.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?ve.empty:t),a==0&&Jb(e,s,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let i=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:o,$to:a}=r[s],l=e.mapping.slice(i),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),Jb(e,i,t.isInline?-1:1))}}static findFrom(e,t,i=!1){let r=e.parent.inlineContent?new it(e):la(e.node(0),e.parent,e.pos,e.index(),t,i);if(r)return r;for(let s=e.depth-1;s>=0;s--){let o=t<0?la(e.node(0),e.node(s),e.before(s+1),e.index(s),t,i):la(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,i);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new _i(e.node(0))}static atStart(e){return la(e,e,0,0,1)||new _i(e)}static atEnd(e){return la(e,e,e.content.size,e.childCount,-1)||new _i(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Oh[t.type];if(!i)throw new RangeError(`No selection type ${t.type} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in Oh)throw new RangeError("Duplicate use of selection JSON ID "+e);return Oh[e]=t,t.prototype.jsonID=e,t}getBookmark(){return it.between(this.$anchor,this.$head).getBookmark()}}ct.prototype.visible=!0;class oA{constructor(e,t){this.$from=e,this.$to=t}}let qb=!1;function Kb(n){!qb&&!n.parent.inlineContent&&(qb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class it extends ct{constructor(e,t=e){Kb(e),Kb(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let i=e.resolve(t.map(this.head));if(!i.parent.inlineContent)return ct.near(i);let r=e.resolve(t.map(this.anchor));return new it(r.parent.inlineContent?r:i,i)}replace(e,t=ve.empty){if(super.replace(e,t),t==ve.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof it&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new lf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new it(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,i=t){let r=e.resolve(t);return new this(r,i==t?r:e.resolve(i))}static between(e,t,i){let r=e.pos-t.pos;if((!i||r)&&(i=r>=0?1:-1),!t.parent.inlineContent){let s=ct.findFrom(t,i,!0)||ct.findFrom(t,-i,!0);if(s)t=s.$head;else return ct.near(t,i)}return e.parent.inlineContent||(r==0?e=t:(e=(ct.findFrom(e,-i,!0)||ct.findFrom(e,i,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new it(e,t)}}ct.jsonID("text",it);class lf{constructor(e,t){this.anchor=e,this.head=t}map(e){return new lf(e.map(this.anchor),e.map(this.head))}resolve(e){return it.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ue extends ct{constructor(e){let t=e.nodeAfter,i=e.node(0).resolve(e.pos+t.nodeSize);super(e,i),this.node=t}map(e,t){let{deleted:i,pos:r}=t.mapResult(this.anchor),s=e.resolve(r);return i?ct.near(s):new Ue(s)}content(){return new ve(te.from(this.node),0,0)}eq(e){return e instanceof Ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qm(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ue(e.resolve(t.anchor))}static create(e,t){return new Ue(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ue.prototype.visible=!1;ct.jsonID("node",Ue);class qm{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:i}=e.mapResult(this.anchor);return t?new lf(i,i):new qm(i)}resolve(e){let t=e.resolve(this.anchor),i=t.nodeAfter;return i&&Ue.isSelectable(i)?new Ue(t):ct.near(t)}}class _i extends ct{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ve.empty){if(t==ve.empty){e.delete(0,e.doc.content.size);let i=ct.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new _i(e)}map(e){return new _i(e)}eq(e){return e instanceof _i}getBookmark(){return aA}}ct.jsonID("all",_i);const aA={map(){return this},resolve(n){return new _i(n)}};function la(n,e,t,i,r,s=!1){if(e.inlineContent)return it.create(n,t);for(let o=i-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let a=e.child(o);if(a.isAtom){if(!s&&Ue.isSelectable(a))return Ue.create(n,t-(r<0?a.nodeSize:0))}else{let l=la(n,a,t+r,r<0?a.childCount:0,r,s);if(l)return l}t+=a.nodeSize*r}return null}function Jb(n,e,t){let i=n.steps.length-1;if(i<e)return;let r=n.steps[i];if(!(r instanceof Dn||r instanceof An))return;let s=n.mapping.maps[i],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),n.setSelection(ct.near(n.doc.resolve(o),t))}const Gb=1,tu=2,Xb=4;class lA extends ck{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Gb)&~tu,this.storedMarks=null,this}get selectionSet(){return(this.updated&Gb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=tu,this}ensureMarks(e){return Wt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&tu)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~tu,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let i=this.selection;return t&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Wt.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,i){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=t),i=i??t,!e)return this.deleteRange(t,i);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=i==t?o.marks():o.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(t,i,r.text(e,s)),this.selection.empty||this.setSelection(ct.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Xb,this}get scrolledIntoView(){return(this.updated&Xb)>0}}function Zb(n,e){return!e||!n?n:n.bind(e)}class bl{constructor(e,t,i){this.name=e,this.init=Zb(t.init,i),this.apply=Zb(t.apply,i)}}const cA=[new bl("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new bl("selection",{init(n,e){return n.selection||ct.atStart(e.doc)},apply(n){return n.selection}}),new bl("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,i){return i.selection.$cursor?n.storedMarks:null}}),new bl("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Th{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=cA.slice(),t&&t.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new bl(i.key,i.spec.state,i))})}}class ga{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=t){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],i=this.applyInner(e),r=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=r?r[o].n:0,c=r?r[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,i);if(u&&i.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<o?{state:i,n:t.length}:{state:this,n:0})}t.push(u),i=i.applyInner(u),s=!0}r&&(r[o]={state:i,n:t.length})}}if(!s)return{state:i,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ga(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let s=i[r];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new lA(this)}static create(e){let t=new Th(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new ga(t);for(let r=0;r<t.fields.length;r++)i[t.fields[r].name]=t.fields[r].init(e,i);return i}reconfigure(e){let t=new Th(this.schema,e.plugins),i=t.fields,r=new ga(t);for(let s=0;s<i.length;s++){let o=i[s].name;r[o]=this.hasOwnProperty(o)?this[o]:i[s].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],s=r.spec.state;s&&s.toJSON&&(t[i]=s.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,i){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Th(e.schema,e.plugins),s=new ga(r);return r.fields.forEach(o=>{if(o.name=="doc")s.doc=Ms.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=ct.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=c.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function uk(n,e,t){for(let i in n){let r=n[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=uk(r,e,{})),t[i]=r}return t}class pn{constructor(e){this.spec=e,this.props={},e.props&&uk(e.props,this,this.props),this.key=e.key?e.key.key:dk("plugin")}getState(e){return e[this.key]}}const Dh=Object.create(null);function dk(n){return n in Dh?n+"$"+ ++Dh[n]:(Dh[n]=0,n+"$")}class Nn{constructor(e="key"){this.key=dk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const $n=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Aa=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Wp=null;const Br=function(n,e,t){let i=Wp||(Wp=document.createRange());return i.setEnd(n,t??n.nodeValue.length),i.setStart(n,e||0),i},uA=function(){Wp=null},Eo=function(n,e,t,i){return t&&(Qb(n,e,t,i,-1)||Qb(n,e,t,i,1))},dA=/^(img|br|input|textarea|hr)$/i;function Qb(n,e,t,i,r){for(var s;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Ii(n))){let o=n.parentNode;if(!o||o.nodeType!=1||vc(n)||dA.test(n.nodeName)||n.contentEditable=="false")return!1;e=$n(n)+(r<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(r<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=r;else return!1;else n=o,e=r<0?Ii(n):0}else return!1}}function Ii(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function fA(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ii(n)}else if(n.parentNode&&!vc(n))e=$n(n),n=n.parentNode;else return null}}function hA(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!vc(n))e=$n(n)+1,n=n.parentNode;else return null}}function pA(n,e,t){for(let i=e==0,r=e==Ii(n);i||r;){if(n==t)return!0;let s=$n(n);if(n=n.parentNode,!n)return!1;i=i&&s==0,r=r&&s==Ii(n)}}function vc(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const cf=function(n){return n.focusNode&&Eo(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function io(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function mA(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function gA(n,e,t){if(n.caretPositionFromPoint)try{let i=n.caretPositionFromPoint(e,t);if(i)return{node:i.offsetNode,offset:Math.min(Ii(i.offsetNode),i.offset)}}catch{}if(n.caretRangeFromPoint){let i=n.caretRangeFromPoint(e,t);if(i)return{node:i.startContainer,offset:Math.min(Ii(i.startContainer),i.startOffset)}}}const vr=typeof navigator<"u"?navigator:null,e0=typeof document<"u"?document:null,Bs=vr&&vr.userAgent||"",Vp=/Edge\/(\d+)/.exec(Bs),fk=/MSIE \d/.exec(Bs),Yp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bs),mi=!!(fk||Yp||Vp),Cs=fk?document.documentMode:Yp?+Yp[1]:Vp?+Vp[1]:0,Zi=!mi&&/gecko\/(\d+)/i.test(Bs);Zi&&+(/Firefox\/(\d+)/.exec(Bs)||[0,0])[1];const Up=!mi&&/Chrome\/(\d+)/.exec(Bs),qn=!!Up,hk=Up?+Up[1]:0,ti=!mi&&!!vr&&/Apple Computer/.test(vr.vendor),Pa=ti&&(/Mobile\/\w+/.test(Bs)||!!vr&&vr.maxTouchPoints>2),Ri=Pa||(vr?/Mac/.test(vr.platform):!1),yA=vr?/Win/.test(vr.platform):!1,$r=/Android \d/.test(Bs),wc=!!e0&&"webkitFontSmoothing"in e0.documentElement.style,bA=wc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function vA(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Dr(n,e){return typeof n=="number"?n:n[e]}function wA(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,i=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*i}}function t0(n,e,t){let i=n.someProp("scrollThreshold")||0,r=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=Aa(o);continue}let a=o,l=a==s.body,c=l?vA(s):wA(a),u=0,d=0;if(e.top<c.top+Dr(i,"top")?d=-(c.top-e.top+Dr(r,"top")):e.bottom>c.bottom-Dr(i,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Dr(r,"top")-c.top:e.bottom-c.bottom+Dr(r,"bottom")),e.left<c.left+Dr(i,"left")?u=-(c.left-e.left+Dr(r,"left")):e.right>c.right-Dr(i,"right")&&(u=e.right-c.right+Dr(r,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let p=a.scrollLeft,m=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-p,y=a.scrollTop-m;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}let f=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:Aa(o)}}function xA(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),i,r;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){i=a,r=l.top;break}}return{refDOM:i,refTop:r,stack:pk(n.dom)}}function pk(n){let e=[],t=n.ownerDocument;for(let i=n;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=t);i=Aa(i));return e}function kA({refDOM:n,refTop:e,stack:t}){let i=n?n.getBoundingClientRect().top:0;mk(t,i==0?0:i-e)}function mk(n,e){for(let t=0;t<n.length;t++){let{dom:i,top:r,left:s}=n[t];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}let na=null;function _A(n){if(n.setActive)return n.setActive();if(na)return n.focus(na);let e=pk(n);n.focus(na==null?{get preventScroll(){return na={preventScroll:!0},!0}}:void 0),na||(na=!1,mk(e,0))}function gk(n,e){let t,i=2e8,r,s=0,o=e.top,a=e.top,l,c;for(let u=n.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Br(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<i){t=u,i=g,r=g&&t.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!t&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=d+1)}}return!t&&l&&(t=l,r=c,i=0),t&&t.nodeType==3?SA(t,r):!t||i&&t.nodeType==1?{node:n,offset:s}:gk(t,r)}function SA(n,e){let t=n.nodeValue.length,i=document.createRange();for(let r=0;r<t;r++){i.setEnd(n,r+1),i.setStart(n,r);let s=ds(i,1);if(s.top!=s.bottom&&Km(e,s))return{node:n,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function Km(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function MA(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function CA(n,e,t){let{node:i,offset:r}=gk(e,t),s=-1;if(i.nodeType==1&&!i.firstChild){let o=i.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(i,r,s)}function EA(n,e,t,i){let r=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>i.left||l.top>i.top?r=a.posBefore:(!o&&l.right<i.left||l.bottom<i.top)&&(r=a.posAfter),o=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return r>-1?r:n.docView.posFromDOM(e,t,-1)}function yk(n,e,t){let i=n.childNodes.length;if(i&&t.top<t.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-t.top)/(t.bottom-t.top))-2)),s=r;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Km(e,c))return yk(o,e,c)}}if((s=(s+1)%i)==r)break}return n}function OA(n,e){let t=n.dom.ownerDocument,i,r=0,s=gA(t,e.left,e.top);s&&({node:i,offset:r}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=n.dom.getBoundingClientRect();if(!Km(e,c)||(o=yk(n.dom,e,c),!o))return null}if(ti)for(let c=o;i&&c;c=Aa(c))c.draggable&&(i=void 0);if(o=MA(o,e),i){if(Zi&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let u=i.childNodes[r],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&r++}let c;wc&&r&&i.nodeType==1&&(c=i.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,i==n.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(a=EA(n,i,r,e))}a==null&&(a=CA(n,o,e));let l=n.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function n0(n){return n.top<n.bottom||n.left<n.right}function ds(n,e){let t=n.getClientRects();if(t.length){let i=t[e<0?0:t.length-1];if(n0(i))return i}return Array.prototype.find.call(t,n0)||n.getBoundingClientRect()}const TA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bk(n,e,t){let{node:i,offset:r,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=wc||Zi;if(i.nodeType==3)if(o&&(TA.test(i.nodeValue)||(t<0?!r:r==i.nodeValue.length))){let l=ds(Br(i,r,r),t);if(Zi&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let c=ds(Br(i,r-1,r-1),-1);if(c.top==l.top){let u=ds(Br(i,r,r+1),-1);if(u.top!=l.top)return ol(u,u.left<c.left)}}return l}else{let l=r,c=r,u=t<0?1:-1;return t<0&&!r?(c++,u=-1):t>=0&&r==i.nodeValue.length?(l--,u=1):t<0?l--:c++,ol(ds(Br(i,l,c),u),u<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(t<0||r==Ii(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return Ah(l.getBoundingClientRect(),!1)}if(s==null&&r<Ii(i)){let l=i.childNodes[r];if(l.nodeType==1)return Ah(l.getBoundingClientRect(),!0)}return Ah(i.getBoundingClientRect(),t>=0)}if(s==null&&r&&(t<0||r==Ii(i))){let l=i.childNodes[r-1],c=l.nodeType==3?Br(l,Ii(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return ol(ds(c,1),!1)}if(s==null&&r<Ii(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Br(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return ol(ds(c,-1),!0)}return ol(ds(i.nodeType==3?Br(i):i,-t),t>=0)}function ol(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Ah(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function vk(n,e,t){let i=n.state,r=n.root.activeElement;i!=e&&n.updateState(e),r!=n.dom&&n.focus();try{return t()}finally{i!=e&&n.updateState(i),r!=n.dom&&r&&r.focus()}}function DA(n,e,t){let i=e.selection,r=t=="up"?i.$from:i.$to;return vk(n,e,()=>{let{node:s}=n.docView.domFromPos(r.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=bk(n,r.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Br(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const AA=/[\u0590-\u08ac]/;function PA(n,e,t){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,s=!r,o=r==i.parent.content.size,a=n.domSelection();return a?!AA.test(i.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:vk(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=n.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",t,"character");let p=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:m,focusOffset:g}=n.domSelectionRange(),y=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),y}):i.pos==i.start()||i.pos==i.end()}let i0=null,r0=null,s0=!1;function RA(n,e,t){return i0==e&&r0==t?s0:(i0=e,r0=t,s0=t=="up"||t=="down"?DA(n,e,t):PA(n,e,t))}const Fi=0,o0=1,ao=2,wr=3;class xc{constructor(e,t,i,r){this.parent=e,this.children=t,this.dom=i,this.contentDOM=r,this.dirty=Fi,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,i=this.posAtStart;;t++){let r=this.children[t];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>$n(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let i=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),o;if(s&&(!t||s.node))if(i&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))i=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let i=t;i;i=i.parent)if(i==this)return t}posFromDOM(e,t,i){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,t,i)}return-1}descAt(e){for(let t=0,i=0;t<this.children.length;t++){let r=this.children[t],s=i+r.size;if(i==e&&s!=i){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let a=r.children[o];if(a.size){r=a;break}}return r}if(e<s)return r.descAt(e-i-r.border);i=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.size;if(a>e||o instanceof xk){r=e-s;break}s=a}if(r)return this.children[i].domFromPos(r-this.children[i].border,t);for(let s;i&&!(s=this.children[i-1]).size&&s instanceof wk&&s.side>=0;i--);if(t<=0){let s,o=!0;for(;s=i?this.children[i-1]:null,!(!s||s.dom.parentNode==this.contentDOM);i--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?$n(s.dom)+1:0}}else{let s,o=!0;for(;s=i<this.children.length?this.children[i]:null,!(!s||s.dom.parentNode==this.contentDOM);i++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?$n(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let o=i,a=0;;a++){let l=this.children[a],c=o+l.size;if(r==-1&&e<=c){let u=o+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=$n(f.dom)+1;break}e-=f.size}r==-1&&(r=0)}if(r>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=$n(d.dom);break}t+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:i}=this.domFromPos(e,0);if(t.nodeType!=1||i==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[i]}setSelection(e,t,i,r=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],y=m+g.size;if(s>m&&o<y)return g.setSelection(e-m-g.border,t-m-g.border,i,r);m=y}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=i.root.getSelection(),u=i.domSelectionRange(),d=!1;if((Zi||ti)&&e==t){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let g=p,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:$n(y)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=p.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Zi&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(r=!0)}if(!(r||d&&ti)&&Eo(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Eo(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==t)&&!d){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>t){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let i=0,r=0;r<this.children.length;r++){let s=this.children[r],o=i+s.size;if(i==o?e<=o&&t>=i:e<o&&t>i){let a=i+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==i||t==o?ao:o0,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=wr:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ao:wr}i=o}this.dirty=ao}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let i=e==1?ao:o0;t.dirty<i&&(t.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class wk extends xc{constructor(e,t,i,r){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(i,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Fi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class NA extends xc{constructor(e,t,i,r){super(e,[],t,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Oo extends xc{constructor(e,t,i,r,s){super(e,[],i,r),this.mark=t,this.spec=s}static create(e,t,i,r){let s=r.nodeViews[t.type.name],o=s&&s(t,r,i);return(!o||!o.dom)&&(o=Po.renderSpec(document,t.type.spec.toDOM(t,i),null,t.attrs)),new Oo(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&wr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=wr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Fi){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Fi}}slice(e,t,i){let r=Oo.create(this.parent,this.mark,!0,i),s=this.children,o=this.size;t<o&&(s=Kp(s,t,o,i)),e>0&&(s=Kp(s,0,e,i));for(let a=0;a<s.length;a++)s[a].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Es extends xc{constructor(e,t,i,r,s,o,a,l,c){super(e,[],s,o),this.node=t,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=a}static create(e,t,i,r,s,o){let a=s.nodeViews[t.type.name],l,c=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},i,r),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Po.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let f=u;return u=Sk(u,i,t),c?l=new IA(e,t,i,r,u,d||null,f,c,s,o+1):t.isText?new uf(e,t,i,r,u,f,s):new Es(e,t,i,r,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let i=this.children[t];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>te.empty)}return e}matchesNode(e,t,i){return this.dirty==Fi&&e.eq(this.node)&&Gu(t,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let i=this.node.inlineContent,r=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new FA(this,o&&o.node,e);zA(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,i,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Wt.none:this.node.child(u).marks,i,e),l.placeWidget(c,e,r)},(c,u,d,f)=>{l.syncToMarks(c.marks,i,e);let p;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f,r)||l.addNode(c,u,d,e,r),r+=c.nodeSize}),l.syncToMarks([],i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ao)&&(o&&this.protectLocalComposition(e,o),kk(this.contentDOM,this.children,e),Pa&&jA(this.dom))}localCompositionInfo(e,t){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof it)||i<t||r>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=$A(this.node.content,o,i-t,r-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:i,text:r}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new NA(this,s,t,r);e.input.compositionNodes.push(o),this.children=Kp(this.children,i,i+r.length,e,o)}update(e,t,i,r){return this.dirty==wr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,i,r),!0)}updateInner(e,t,i,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Fi}updateOuterDeco(e){if(Gu(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=_k(this.dom,this.nodeDOM,qp(this.outerDeco,this.node,t),qp(e,this.node,t)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function a0(n,e,t,i,r){Sk(i,e,n);let s=new Es(void 0,n,e,t,i,i,i,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class uf extends Es{constructor(e,t,i,r,s,o,a){super(e,t,i,r,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,i,r){return this.dirty==wr||this.dirty!=Fi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Fi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Fi,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,i){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,i){let r=this.node.cut(e,t),s=document.createTextNode(r.text);return new uf(this.parent,r,this.outerDeco,this.innerDeco,s,s,i)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=wr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class xk extends xc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Fi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class IA extends Es{constructor(e,t,i,r,s,o,a,l,c,u){super(e,t,i,r,s,o,a,c,u),this.spec=l}update(e,t,i,r){if(this.dirty==wr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,i);return s&&this.updateInner(e,t,i,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,i,r){this.spec.setSelection?this.spec.setSelection(e,t,i.root):super.setSelection(e,t,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function kk(n,e,t){let i=n.firstChild,r=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=i;)i=l0(i),r=!0;i=i.nextSibling}else r=!0,n.insertBefore(a,i);if(o instanceof Oo){let l=i?i.previousSibling:n.lastChild;kk(o.contentDOM,o.children,t),i=l?l.nextSibling:n.firstChild}}for(;i;)i=l0(i),r=!0;r&&t.trackWrites==n&&(t.trackWrites=null)}const Tl=function(n){n&&(this.nodeName=n)};Tl.prototype=Object.create(null);const lo=[new Tl];function qp(n,e,t){if(n.length==0)return lo;let i=t?lo[0]:new Tl,r=[i];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&r.push(i=new Tl(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&r.length==1&&r.push(i=new Tl(e.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return r}function _k(n,e,t,i){if(t==lo&&i==lo)return e;let r=e;for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&r!=n&&(l=r.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=lo[0]),r=l}LA(r,a||lo[0],o)}return r}function LA(n,e,t){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in t)&&n.removeAttribute(i);for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&t[i]!=e[i]&&n.setAttribute(i,t[i]);if(e.class!=t.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.remove(i[s]);for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.add(r[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)n.style.removeProperty(r[1])}t.style&&(n.style.cssText+=t.style)}}function Sk(n,e,t){return _k(n,n,lo,qp(e,t,n.nodeType!=1))}function Gu(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function l0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class FA{constructor(e,t,i){this.lock=t,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=BA(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let i=e;i<t;i++)this.top.children[i].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,i){let r=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;r<o&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=Fi,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Oo.create(this.top,e[s],t,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,i,r){let s=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,i))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,i)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,i,r,s){let o=this.top.children[r];return o.dirty==wr&&o.dom==o.contentDOM&&(o.dirty=ao),o.update(e,t,i,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=t}}updateNextNode(e,t,i,r,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Es){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=wr&&Gu(t,l.outerDeco));if(!f&&l.update(e,t,i,r))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,t,i,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ao,d.updateChildren(r,o+1),d.dirty=Fi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,i,r,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Gu(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=Es.create(this.top,t,i,r,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,i,r,s){let o=Es.create(this.top,e,t,i,r,s);o.contentDOM&&o.updateChildren(r,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new wk(this.top,e,t,i);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Oo;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof uf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ti||qn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new xk(this.top,[],i,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function BA(n,e){let t=e,i=t.children.length,r=n.childCount,s=new Map,o=[];e:for(;r>0;){let a;for(;;)if(i){let c=t.children[i-1];if(c instanceof Oo)t=c,i=c.children.length;else{a=c,i--;break}}else{if(t==e)break e;i=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(r-1))break;--r,s.set(a,r),o.push(a)}}return{index:r,matched:s,matches:o.reverse()}}function HA(n,e){return n.type.side-e.type.side}function zA(n,e,t,i){let r=e.locals(n),s=0;if(r.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);i(u,r,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<r.length&&r[o].to==s;){let y=r[o++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(HA);for(let y=0;y<d.length;y++)t(d[y],c,!!l)}else t(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<n.childCount)p=c,f=n.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=s&&a.splice(y--,1);for(;o<r.length&&r[o].from<=s&&r[o].to>s;)a.push(r[o++]);let m=s+f.nodeSize;if(f.isText){let y=m;o<r.length&&r[o].from<y&&(y=r[o].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<m&&(l=f.cut(y-s),f=f.cut(0,y-s),m=y,p=-1)}else for(;o<r.length&&r[o].to<m;)o++;let g=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();i(f,g,e.forChild(s,f),p),s=m}}function jA(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function $A(n,e,t,i){for(let r=0,s=0;r<n.childCount&&s<=i;){let o=n.child(r++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;r<n.childCount;){let c=n.child(r++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=t){if(s>=i&&l.slice(i-e.length-a,i-a)==e)return i-e.length;let c=a<i?l.lastIndexOf(e,i-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}function Kp(n,e,t,i,r){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],c=a,u=a+=l.size;c>=t||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,i)),r&&(s.push(r),r=void 0),u>t&&s.push(l.slice(t-c,l.size,i)))}return s}function Jm(n,e=null){let t=n.domSelectionRange(),i=n.state.doc;if(!t.focusNode)return null;let r=n.docView.nearestDesc(t.focusNode),s=r&&r.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=i.resolve(o),l,c;if(cf(t)){for(l=o;r&&!r.node;)r=r.parent;let d=r.node;if(r&&d.isAtom&&Ue.isSelectable(d)&&r.parent&&!(d.isInline&&pA(t.focusNode,t.focusOffset,r.dom))){let f=r.posBefore;c=new Ue(o==f?a:i.resolve(f))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let d=o,f=o;for(let p=0;p<t.rangeCount;p++){let m=t.getRangeAt(p);d=Math.min(d,n.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,n.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=f==n.state.selection.anchor?[f,d]:[d,f],a=i.resolve(o)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=i.resolve(l);if(!c){let d=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;c=Gm(n,u,a,d)}return c}function Mk(n){return n.editable?n.hasFocus():Ek(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Kr(n,e=!1){let t=n.state.selection;if(Ck(n,t),!!Mk(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&qn){let i=n.domSelectionRange(),r=n.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Eo(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)VA(n);else{let{anchor:i,head:r}=t,s,o;c0&&!(t instanceof it)&&(t.$from.parent.inlineContent||(s=u0(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=u0(n,t.to))),n.docView.setSelection(i,r,n,e),c0&&(s&&d0(s),o&&d0(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&WA(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const c0=ti||qn&&hk<63;function u0(n,e){let{node:t,offset:i}=n.docView.domFromPos(e,0),r=i<t.childNodes.length?t.childNodes[i]:null,s=i?t.childNodes[i-1]:null;if(ti&&r&&r.contentEditable=="false")return Ph(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Ph(r);if(s)return Ph(s)}}function Ph(n){return n.contentEditable="true",ti&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function d0(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function WA(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),i=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=i||t.anchorOffset!=r)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Mk(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function VA(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let i=n.cursorWrapper.dom,r=i.nodeName=="IMG";r?t.setStart(i.parentNode,$n(i)+1):t.setStart(i,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!r&&!n.state.selection.visible&&mi&&Cs<=11&&(i.disabled=!0,i.disabled=!1)}function Ck(n,e){if(e instanceof Ue){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(f0(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else f0(n)}function f0(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Gm(n,e,t,i){return n.someProp("createSelectionBetween",r=>r(n,e,t))||it.between(e,t,i)}function h0(n){return n.editable&&!n.hasFocus()?!1:Ek(n)}function Ek(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function YA(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Eo(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Jp(n,e){let{$anchor:t,$head:i}=n.selection,r=e>0?t.max(i):t.min(i),s=r.parent.inlineContent?r.depth?n.doc.resolve(e>0?r.after():r.before()):null:r;return s&&ct.findFrom(s,e)}function fs(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function p0(n,e,t){let i=n.state.selection;if(i instanceof it)if(t.indexOf("s")>-1){let{$head:r}=i,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return fs(n,new it(i.$anchor,o))}else if(i.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let r=Jp(n.state,e);return r&&r instanceof Ue?fs(n,r):!1}else if(!(Ri&&t.indexOf("m")>-1)){let r=i.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Ue.isSelectable(s)?fs(n,new Ue(e<0?n.state.doc.resolve(r.pos-s.nodeSize):r)):wc?fs(n,new it(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Ue&&i.node.isInline)return fs(n,new it(e>0?i.$to:i.$from));{let r=Jp(n.state,e);return r?fs(n,r):!1}}}function Xu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Dl(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function ia(n,e){return e<0?UA(n):qA(n)}function UA(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let r,s,o=!1;for(Zi&&t.nodeType==1&&i<Xu(t)&&Dl(t.childNodes[i],-1)&&(o=!0);;)if(i>0){if(t.nodeType!=1)break;{let a=t.childNodes[i-1];if(Dl(a,-1))r=t,s=--i;else if(a.nodeType==3)t=a,i=t.nodeValue.length;else break}}else{if(Ok(t))break;{let a=t.previousSibling;for(;a&&Dl(a,-1);)r=t.parentNode,s=$n(a),a=a.previousSibling;if(a)t=a,i=Xu(t);else{if(t=t.parentNode,t==n.dom)break;i=0}}}o?Gp(n,t,i):r&&Gp(n,r,s)}function qA(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let r=Xu(t),s,o;for(;;)if(i<r){if(t.nodeType!=1)break;let a=t.childNodes[i];if(Dl(a,1))s=t,o=++i;else break}else{if(Ok(t))break;{let a=t.nextSibling;for(;a&&Dl(a,1);)s=a.parentNode,o=$n(a)+1,a=a.nextSibling;if(a)t=a,i=0,r=Xu(t);else{if(t=t.parentNode,t==n.dom)break;i=r=0}}}s&&Gp(n,s,o)}function Ok(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function KA(n,e){for(;n&&e==n.childNodes.length&&!vc(n);)e=$n(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function JA(n,e){for(;n&&!e&&!vc(n);)e=$n(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Gp(n,e,t){if(e.nodeType!=3){let s,o;(o=KA(e,t))?(e=o,t=0):(s=JA(e,t))&&(e=s,t=s.nodeValue.length)}let i=n.domSelection();if(!i)return;if(cf(i)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),i.removeAllRanges(),i.addRange(s)}else i.extend&&i.extend(e,t);n.domObserver.setCurSelection();let{state:r}=n;setTimeout(()=>{n.state==r&&Kr(n)},50)}function m0(n,e){let t=n.state.doc.resolve(e);if(!(qn||yA)&&t.parent.inlineContent){let r=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function g0(n,e,t){let i=n.state.selection;if(i instanceof it&&!i.empty||t.indexOf("s")>-1||Ri&&t.indexOf("m")>-1)return!1;let{$from:r,$to:s}=i;if(!r.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=Jp(n.state,e);if(o&&o instanceof Ue)return fs(n,o)}if(!r.parent.inlineContent){let o=e<0?r:s,a=i instanceof _i?ct.near(o,e):ct.findFrom(o,e);return a?fs(n,a):!1}return!1}function y0(n,e){if(!(n.state.selection instanceof it))return!0;let{$head:t,$anchor:i,empty:r}=n.state.selection;if(!t.sameParent(i))return!0;if(!r)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function b0(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function GA(n){if(!ti||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;b0(n,i,"true"),setTimeout(()=>b0(n,i,"false"),20)}return!1}function XA(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ZA(n,e){let t=e.keyCode,i=XA(e);if(t==8||Ri&&t==72&&i=="c")return y0(n,-1)||ia(n,-1);if(t==46&&!e.shiftKey||Ri&&t==68&&i=="c")return y0(n,1)||ia(n,1);if(t==13||t==27)return!0;if(t==37||Ri&&t==66&&i=="c"){let r=t==37?m0(n,n.state.selection.from)=="ltr"?-1:1:-1;return p0(n,r,i)||ia(n,r)}else if(t==39||Ri&&t==70&&i=="c"){let r=t==39?m0(n,n.state.selection.from)=="ltr"?1:-1:1;return p0(n,r,i)||ia(n,r)}else{if(t==38||Ri&&t==80&&i=="c")return g0(n,-1,i)||ia(n,-1);if(t==40||Ri&&t==78&&i=="c")return GA(n)||g0(n,1,i)||ia(n,1);if(i==(Ri?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Xm(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:i,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,s--;let p=i.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),i=p.content}let o=n.someProp("clipboardSerializer")||Po.fromSchema(n.state.schema),a=Nk(),l=a.createElement("div");l.appendChild(o.serializeFragment(i,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Rk[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${s}${d?` -${d}`:""} ${JSON.stringify(t)}`);let f=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function Tk(n,e,t,i,r){let s=r.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(i||s||!t);if(l){if(n.someProp("transformPastedText",f=>{e=f(e,s||i,n)}),s)return e?new ve(te.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ve.empty;let d=n.someProp("clipboardTextParser",f=>f(e,r,i,n));if(d)a=d;else{let f=r.marks(),{schema:p}=n.state,m=Po.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=o.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(p.text(g,f)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),o=nP(t),wc&&iP(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||El.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!QA.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=rP(v0(a,+u[1],+u[2]),u[4]);else if(a=ve.maxOpen(eP(a.content,r),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=v0(a,d,f)}return n.someProp("transformPasted",d=>{a=d(a,n)}),a}const QA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function eP(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let l=r.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&Ak(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Pk(o[o.length-1],s.length));let u=Dk(a,l);o.push(u),r=r.matchType(u.type),s=l}}),o)return te.from(o)}return n}function Dk(n,e,t=0){for(let i=e.length-1;i>=t;i--)n=e[i].create(null,te.from(n));return n}function Ak(n,e,t,i,r){if(r<n.length&&r<e.length&&n[r]==e[r]){let s=Ak(n,e,t,i.lastChild,r+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(r==n.length-1?t.type:n[r+1]))return i.copy(i.content.append(te.from(Dk(t,n,r+1))))}}function Pk(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Pk(n.lastChild,e-1)),i=n.contentMatchAt(n.childCount).fillBefore(te.empty,!0);return n.copy(t.append(i))}function Xp(n,e,t,i,r,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),r<i-1&&(a=Xp(a,e,t,i,r+1,s)),r>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=r).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(te.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function v0(n,e,t){return e<n.openStart&&(n=new ve(Xp(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ve(Xp(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Rk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let w0=null;function Nk(){return w0||(w0=document.implementation.createHTMLDocument("title"))}let Rh=null;function tP(n){let e=window.trustedTypes;return e?(Rh||(Rh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Rh.createHTML(n)):n}function nP(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Nk().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),r;if((r=i&&Rk[i[1].toLowerCase()])&&(n=r.map(s=>"<"+s+">").join("")+n+r.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=tP(n),r)for(let s=0;s<r.length;s++)t=t.querySelector(r[s])||t;return t}function iP(n){let e=n.querySelectorAll(qn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let i=e[t];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function rP(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return n}let{content:r,openStart:s,openEnd:o}=n;for(let a=i.length-2;a>=0;a-=2){let l=t.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;r=te.from(l.create(i[a+1],r)),s++,o++}return new ve(r,s,o)}const ni={},ii={},sP={touchstart:!0,touchmove:!0};class oP{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function aP(n){for(let e in ni){let t=ni[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>{cP(n,i)&&!Zm(n,i)&&(n.editable||!(i.type in ii))&&t(n,i)},sP[e]?{passive:!0}:void 0)}ti&&n.dom.addEventListener("input",()=>null),Zp(n)}function vs(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function lP(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Zp(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>Zm(n,i))})}function Zm(n,e){return n.someProp("handleDOMEvents",t=>{let i=t[e.type];return i?i(n,e)||e.defaultPrevented:!1})}function cP(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function uP(n,e){!Zm(n,e)&&ni[e.type]&&(n.editable||!(e.type in ii))&&ni[e.type](n,e)}ii.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Lk(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!($r&&qn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Pa&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",r=>r(n,io(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,t))||ZA(n,t)?t.preventDefault():vs(n,"key")};ii.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};ii.keypress=(n,e)=>{let t=e;if(Lk(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ri&&t.metaKey)return;if(n.someProp("handleKeyPress",r=>r(n,t))){t.preventDefault();return}let i=n.state.selection;if(!(i instanceof it)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!n.someProp("handleTextInput",o=>o(n,i.$from.pos,i.$to.pos,r,s))&&n.dispatch(s()),t.preventDefault()}};function df(n){return{left:n.clientX,top:n.clientY}}function dP(n,e){let t=e.x-n.clientX,i=e.y-n.clientY;return t*t+i*i<100}function Qm(n,e,t,i,r){if(i==-1)return!1;let s=n.state.doc.resolve(i);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),r,!0):a(n,t,s.node(o),s.before(o),r,!1)))return!0;return!1}function wa(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let i=n.state.tr.setSelection(e);i.setMeta("pointer",!0),n.dispatch(i)}function fP(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),i=t.nodeAfter;return i&&i.isAtom&&Ue.isSelectable(i)?(wa(n,new Ue(t)),!0):!1}function hP(n,e){if(e==-1)return!1;let t=n.state.selection,i,r;t instanceof Ue&&(i=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Ue.isSelectable(a)){i&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?r=s.before(t.$from.depth):r=s.before(o);break}}return r!=null?(wa(n,Ue.create(n.state.doc,r)),!0):!1}function pP(n,e,t,i,r){return Qm(n,"handleClickOn",e,t,i)||n.someProp("handleClick",s=>s(n,e,i))||(r?hP(n,t):fP(n,t))}function mP(n,e,t,i){return Qm(n,"handleDoubleClickOn",e,t,i)||n.someProp("handleDoubleClick",r=>r(n,e,i))}function gP(n,e,t,i){return Qm(n,"handleTripleClickOn",e,t,i)||n.someProp("handleTripleClick",r=>r(n,e,i))||yP(n,t,i)}function yP(n,e,t){if(t.button!=0)return!1;let i=n.state.doc;if(e==-1)return i.inlineContent?(wa(n,it.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let s=r.depth+1;s>0;s--){let o=s>r.depth?r.nodeAfter:r.node(s),a=r.before(s);if(o.inlineContent)wa(n,it.create(i,a+1,a+1+o.content.size));else if(Ue.isSelectable(o))wa(n,Ue.create(i,a));else continue;return!0}}function eg(n){return Zu(n)}const Ik=Ri?"metaKey":"ctrlKey";ni.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let i=eg(n),r=Date.now(),s="singleClick";r-n.input.lastClick.time<500&&dP(t,n.input.lastClick)&&!t[Ik]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(df(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new bP(n,o,t,!!i)):(s=="doubleClick"?mP:gP)(n,o.pos,o.inside,t)?t.preventDefault():vs(n,"pointer"))};class bP{constructor(e,t,i,r){this.view=e,this.pos=t,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[Ik],this.allowDefault=i.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);s=u.parent,o=u.depth?u.before():0}const a=r?null:i.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(i.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Ue&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Zi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),vs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Kr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(df(e))),this.updateAllowDefault(e),this.allowDefault||!t?vs(this.view,"pointer"):pP(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ti&&this.mightDrag&&!this.mightDrag.node.isAtom||qn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(wa(this.view,ct.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):vs(this.view,"pointer")}move(e){this.updateAllowDefault(e),vs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ni.touchstart=n=>{n.input.lastTouch=Date.now(),eg(n),vs(n,"pointer")};ni.touchmove=n=>{n.input.lastTouch=Date.now(),vs(n,"pointer")};ni.contextmenu=n=>eg(n);function Lk(n,e){return n.composing?!0:ti&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const vP=$r?5e3:-1;ii.compositionstart=ii.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof it&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Zu(n,!0),n.markCursor=null;else if(Zu(n,!e.selection.empty),Zi&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let i=n.domSelectionRange();for(let r=i.focusNode,s=i.focusOffset;r&&r.nodeType==1&&s!=0;){let o=s<0?r.lastChild:r.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else r=o,s=-1}}n.input.composing=!0}Fk(n,vP)};ii.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Fk(n,20))};function Fk(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Zu(n),e))}function Bk(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=xP());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function wP(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=fA(e.focusNode,e.focusOffset),i=hA(e.focusNode,e.focusOffset);if(t&&i&&t!=i){let r=i.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||i==s)return s;if(!r||!r.isText(i.nodeValue))return i;if(n.input.compositionNode==i){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return i}}return t||i}function xP(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Zu(n,e=!1){if(!($r&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Bk(n),e||n.docView&&n.docView.dirty){let t=Jm(n),i=n.state.selection;return t&&!t.eq(i)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function kP(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),n.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Jl=mi&&Cs<15||Pa&&bA<604;ni.copy=ii.cut=(n,e)=>{let t=e,i=n.state.selection,r=t.type=="cut";if(i.empty)return;let s=Jl?null:t.clipboardData,o=i.content(),{dom:a,text:l}=Xm(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):kP(n,a),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _P(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function SP(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),t?Gl(n,i.value,null,r,e):Gl(n,i.textContent,i.innerHTML,r,e)},50)}function Gl(n,e,t,i,r){let s=Tk(n,e,t,i,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,r,s||ve.empty)))return!0;if(!s)return!1;let o=_P(s),a=o?n.state.tr.replaceSelectionWith(o,i):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Hk(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ii.paste=(n,e)=>{let t=e;if(n.composing&&!$r)return;let i=Jl?null:t.clipboardData,r=n.input.shiftKey&&n.input.lastKeyCode!=45;i&&Gl(n,Hk(i),i.getData("text/html"),r,t)?t.preventDefault():SP(n,t)};class zk{constructor(e,t,i){this.slice=e,this.move=t,this.node=i}}const MP=Ri?"altKey":"ctrlKey";function jk(n,e){let t=n.someProp("dragCopies",i=>!i(e));return t??!e[MP]}ni.dragstart=(n,e)=>{let t=e,i=n.input.mouseDown;if(i&&i.done(),!t.dataTransfer)return;let r=n.state.selection,s=r.empty?null:n.posAtCoords(df(t)),o;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof Ue?r.to-1:r.to))){if(i&&i.mightDrag)o=Ue.create(n.state.doc,i.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(o=Ue.create(n.state.doc,d.posBefore))}}let a=(o||n.state.selection).content(),{dom:l,text:c,slice:u}=Xm(n,a);(!t.dataTransfer.files.length||!qn||hk>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Jl?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Jl||t.dataTransfer.setData("text/plain",c),n.dragging=new zk(u,jk(n,t),o)};ni.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};ii.dragover=ii.dragenter=(n,e)=>e.preventDefault();ii.drop=(n,e)=>{let t=e,i=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let r=n.posAtCoords(df(t));if(!r)return;let s=n.state.doc.resolve(r.pos),o=i&&i.slice;o?n.someProp("transformPasted",m=>{o=m(o,n)}):o=Tk(n,Hk(t.dataTransfer),Jl?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(i&&jk(n,t));if(n.someProp("handleDrop",m=>m(n,t,o||ve.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?rk(n.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=n.state.tr;if(a){let{node:m}=i;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&Ue.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Ue(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,y,v,x)=>m=x),c.setSelection(Gm(n,p,c.doc.resolve(m)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};ni.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Kr(n)},20))};ni.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};ni.beforeinput=(n,e)=>{if(qn&&$r&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,io(8,"Backspace")))))return;let{$cursor:r}=n.state.selection;r&&r.pos>0&&n.dispatch(n.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let n in ii)ni[n]=ii[n];function Xl(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Qu{constructor(e,t){this.toDOM=e,this.spec=t||yo,this.side=this.spec.side||0}map(e,t,i,r){let{pos:s,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new ei(s-i,s-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Qu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Xl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Os{constructor(e,t){this.attrs=e,this.spec=t||yo}map(e,t,i,r){let s=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-i,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-i;return s>=o?null:new ei(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Os&&Xl(this.attrs,e.attrs)&&Xl(this.spec,e.spec)}static is(e){return e.type instanceof Os}destroy(){}}class tg{constructor(e,t){this.attrs=e,this.spec=t||yo}map(e,t,i,r){let s=e.mapResult(t.from+r,1);if(s.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=s.pos?null:new ei(s.pos-i,o.pos-i,this)}valid(e,t){let{index:i,offset:r}=e.content.findIndex(t.from),s;return r==t.from&&!(s=e.child(i)).isText&&r+s.nodeSize==t.to}eq(e){return this==e||e instanceof tg&&Xl(this.attrs,e.attrs)&&Xl(this.spec,e.spec)}destroy(){}}class ei{constructor(e,t,i){this.from=e,this.to=t,this.type=i}copy(e,t){return new ei(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,i){return this.type.map(e,this,t,i)}static widget(e,t,i){return new ei(e,e,new Qu(t,i))}static inline(e,t,i,r){return new ei(e,t,new Os(i,r))}static node(e,t,i,r){return new ei(e,t,new tg(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Os}get widget(){return this.type instanceof Qu}}const ca=[],yo={};class cn{constructor(e,t){this.local=e.length?e:ca,this.children=t.length?t:ca}static create(e,t){return t.length?ed(t,e,0,yo):Vn}find(e,t,i){let r=[];return this.findInner(e??0,t??1e9,r,0,i),r}findInner(e,t,i,r,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&i.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,i,r+a,s)}}map(e,t,i){return this==Vn||e.maps.length==0?this:this.mapInner(e,t,0,0,i||yo)}mapInner(e,t,i,r,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,i,r);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?CP(this.children,o||[],e,t,i,r,s):o?new cn(o.sort(bo),ca):Vn}add(e,t){return t.length?this==Vn?cn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,i){let r,s=0;e.forEach((a,l)=>{let c=l+i,u;if(u=Wk(t,a,c)){for(r||(r=this.children.slice());s<r.length&&r[s]<l;)s+=3;r[s]==l?r[s+2]=r[s+2].addInner(a,u,c+1):r.splice(s,0,l,l+a.nodeSize,ed(u,a,c+1,yo)),s+=3}});let o=$k(s?Vk(t):t,-i);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new cn(o.length?this.local.concat(o).sort(bo):this.local,r||this.children)}remove(e){return e.length==0||this==Vn?this:this.removeInner(e,0)}removeInner(e,t){let i=this.children,r=this.local;for(let s=0;s<i.length;s+=3){let o,a=i[s]+t,l=i[s+1]+t;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;i==this.children&&(i=this.children.slice());let c=i[s+2].removeInner(o,a+1);c!=Vn?i[s+2]=c:(i.splice(s,3),s-=3)}if(r.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<r.length;a++)r[a].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new cn(r,i):Vn}forChild(e,t){if(this==Vn)return this;if(t.isLeaf)return cn.empty;let i,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(i=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Os){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){let a=new cn(r.sort(bo),ca);return i?new ms([a,i]):a}return i||Vn}eq(e){if(this==e)return!0;if(!(e instanceof cn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ng(this.localsInner(e))}localsInner(e){if(this==Vn)return ca;if(e.inlineContent||!this.local.some(Os.is))return this.local;let t=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Os||t.push(this.local[i]);return t}forEachSet(e){e(this)}}cn.empty=new cn([],[]);cn.removeOverlap=ng;const Vn=cn.empty;class ms{constructor(e){this.members=e}map(e,t){const i=this.members.map(r=>r.map(e,t,yo));return ms.from(i)}forChild(e,t){if(t.isLeaf)return cn.empty;let i=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,t);s!=Vn&&(s instanceof ms?i=i.concat(s.members):i.push(s))}return ms.from(i)}eq(e){if(!(e instanceof ms)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,i=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!t)t=s;else{i&&(t=t.slice(),i=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?ng(i?t:t.sort(bo)):ca}static from(e){switch(e.length){case 0:return Vn;case 1:return e[0];default:return new ms(e.every(t=>t instanceof cn)?e:e.reduce((t,i)=>t.concat(i instanceof cn?i:i.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function CP(n,e,t,i,r,s,o){let a=n.slice();for(let c=0,u=s;c<t.maps.length;c++){let d=0;t.maps[c].forEach((f,p,m,g)=>{let y=g-m-(p-f);for(let v=0;v<a.length;v+=3){let x=a[v+1];if(x<0||f>x+u-d)continue;let S=a[v]+u-d;p>=S?a[v+1]=f<=S?-2:-1:f>=u&&y&&(a[v]+=y,a[v+1]+=y)}d+=y}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+s),d=u-r;if(d<0||d>=i.content.size){l=!0;continue}let f=t.map(n[c+1]+s,-1),p=f-r,{index:m,offset:g}=i.content.findIndex(d),y=i.maybeChild(m);if(y&&g==d&&g+y.nodeSize==p){let v=a[c+2].mapInner(t,y,u+1,n[c]+s+1,o);v!=Vn?(a[c]=d,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=EP(a,n,e,t,r,s,o),u=ed(c,i,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new cn(e.sort(bo),a)}function $k(n,e){if(!e||!n.length)return n;let t=[];for(let i=0;i<n.length;i++){let r=n[i];t.push(new ei(r.from+e,r.to+e,r.type))}return t}function EP(n,e,t,i,r,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(i,r,c);d?t.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+s+1);return t}function Wk(n,e,t){if(e.isLeaf)return null;let i=t+e.nodeSize,r=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<i&&((r||(r=[])).push(o),n[s]=null);return r}function Vk(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function ed(n,e,t,i){let r=[],s=!1;e.forEach((a,l)=>{let c=Wk(n,a,l+t);if(c){s=!0;let u=ed(c,a,t+l+1,i);u!=Vn&&r.push(l,l+a.nodeSize,u)}});let o=$k(s?Vk(n):n,-t).sort(bo);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(i.onRemove&&i.onRemove(o[a].spec),o.splice(a--,1));return o.length||r.length?new cn(o,r):Vn}function bo(n,e){return n.from-e.from||n.to-e.to}function ng(n){let e=n;for(let t=0;t<e.length-1;t++){let i=e[t];if(i.from!=i.to)for(let r=t+1;r<e.length;r++){let s=e[r];if(s.from==i.from){s.to!=i.to&&(e==n&&(e=n.slice()),e[r]=s.copy(s.from,i.to),x0(e,r+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==n&&(e=n.slice()),e[t]=i.copy(i.from,s.from),x0(e,r,i.copy(s.from,i.to)));break}}}return e}function x0(n,e,t){for(;e<n.length&&bo(t,n[e])>0;)e++;n.splice(e,0,t)}function Nh(n){let e=[];return n.someProp("decorations",t=>{let i=t(n.state);i&&i!=Vn&&e.push(i)}),n.cursorWrapper&&e.push(cn.create(n.state.doc,[n.cursorWrapper.deco])),ms.from(e)}const OP={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},TP=mi&&Cs<=11;class DP{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class AP{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new DP,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);mi&&Cs<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),TP&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,OP)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(h0(this.view)){if(this.suppressingSelectionUpdates)return Kr(this.view);if(mi&&Cs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Eo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,i;for(let s=e.focusNode;s;s=Aa(s))t.add(s);for(let s=e.anchorNode;s;s=Aa(s))if(t.has(s)){i=s;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&h0(e)&&!this.ignoreSelectionChange(i),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let d=this.registerMutation(t[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Zi&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||NP(e,d)!=p)&&f.remove()}}}let c=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&cf(i)&&(c=Jm(e))&&c.eq(ct.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Kr(e),this.currentSelection.set(i),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,o),PP(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Kr(e),this.currentSelection.set(i))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,s=e.nextSibling;if(mi&&Cs<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(r=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=r&&r.parentNode==e.target?$n(r)+1:0,a=i.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?$n(s):e.target.childNodes.length,c=i.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let k0=new WeakMap,_0=!1;function PP(n){if(!k0.has(n)&&(k0.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Zi,_0)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_0=!0}}function S0(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Eo(o.node,o.offset,r,s)&&([t,i,r,s]=[r,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}}function RP(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return S0(n,r)}let t;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",i,!0),t?S0(n,t):null}function NP(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let i=n.docView.nearestDesc(t,!0);if(i&&i.node.isBlock)return t}return null}function IP(n,e,t){let{node:i,fromOffset:r,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],cf(l)||c.push({node:l.focusNode,offset:l.focusOffset})),qn&&n.input.lastKeyCode===8)for(let y=s;y>r;y--){let v=i.childNodes[y-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){s=y;break}if(!x||x.size)break}let d=n.state.doc,f=n.someProp("domParser")||El.fromSchema(n.state.schema),p=d.resolve(o),m=null,g=f.parse(i,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:LP,context:p});if(c&&c[0].pos!=null){let y=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=y),m={anchor:y+o,head:v+o}}return{doc:g,sel:m,from:o,to:a}}function LP(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(ti&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||ti&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const FP=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function BP(n,e,t,i,r){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let P=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,B=Jm(n,P);if(B&&!n.state.selection.eq(B)){if(qn&&$r&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",ee=>ee(n,io(13,"Enter"))))return;let Y=n.state.tr.setSelection(B);P=="pointer"?Y.setMeta("pointer",!0):P=="key"&&Y.scrollIntoView(),s&&Y.setMeta("composition",s),n.dispatch(Y)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=IP(n,e,t),u=n.state.doc,d=u.slice(c.from,c.to),f,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,p="end"):(f=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let m=jP(d.content,c.doc.content,c.from,f,p);if(m&&n.input.domChangeCount++,(Pa&&n.input.lastIOSEnter>Date.now()-225||$r)&&r.some(P=>P.nodeType==1&&!FP.test(P.nodeName))&&(!m||m.endA>=m.endB)&&n.someProp("handleKeyDown",P=>P(n,io(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!m)if(i&&l instanceof it&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=M0(n,n.state.doc,c.sel);if(P&&!P.eq(n.state.selection)){let B=n.state.tr.setSelection(P);s&&B.setMeta("composition",s),n.dispatch(B)}}return}n.state.selection.from<n.state.selection.to&&m.start==m.endB&&n.state.selection instanceof it&&(m.start>n.state.selection.from&&m.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?m.start=n.state.selection.from:m.endA<n.state.selection.to&&m.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(m.endB+=n.state.selection.to-m.endA,m.endA=n.state.selection.to)),mi&&Cs<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),y=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),x=g.sameParent(y)&&g.parent.inlineContent&&v.end()>=m.endA,S;if((Pa&&n.input.lastIOSEnter>Date.now()-225&&(!x||r.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!x&&g.pos<c.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(g.pos,y.pos,"",""))&&(S=ct.findFrom(c.doc.resolve(g.pos+1),1,!0))&&S.head>g.pos)&&n.someProp("handleKeyDown",P=>P(n,io(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>m.start&&zP(u,m.start,m.endA,g,y)&&n.someProp("handleKeyDown",P=>P(n,io(8,"Backspace")))){$r&&qn&&n.domObserver.suppressSelectionUpdates();return}qn&&m.endB==m.start&&(n.input.lastChromeDelete=Date.now()),$r&&!x&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,y=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(P){return P(n,io(13,"Enter"))})},20));let O=m.start,T=m.endA,A=P=>{let B=P||n.state.tr.replace(O,T,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let Y=M0(n,B.doc,c.sel);Y&&!(qn&&n.composing&&Y.empty&&(m.start!=m.endB||n.input.lastChromeDelete<Date.now()-100)&&(Y.head==O||Y.head==B.mapping.map(T)-1)||mi&&Y.empty&&Y.head==O)&&B.setSelection(Y)}return s&&B.setMeta("composition",s),B.scrollIntoView()},D;if(x){if(g.pos==y.pos){mi&&Cs<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Kr(n),20));let P=A(n.state.tr.delete(O,T)),B=u.resolve(m.start).marksAcross(u.resolve(m.endA));B&&P.ensureMarks(B),n.dispatch(P)}else if(m.endA==m.endB&&(D=HP(g.parent.content.cut(g.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start())))){let P=A(n.state.tr);D.type=="add"?P.addMark(O,T,D.mark):P.removeMark(O,T,D.mark),n.dispatch(P)}else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let P=g.parent.textBetween(g.parentOffset,y.parentOffset),B=()=>A(n.state.tr.insertText(P,O,T));n.someProp("handleTextInput",Y=>Y(n,O,T,P,B))||n.dispatch(B())}}else n.dispatch(A())}function M0(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Gm(n,e.resolve(t.anchor),e.resolve(t.head))}function HP(n,e){let t=n.firstChild.marks,i=e.firstChild.marks,r=t,s=i,o,a,l;for(let u=0;u<i.length;u++)r=i[u].removeFromSet(r);for(let u=0;u<t.length;u++)s=t[u].removeFromSet(s);if(r.length==1&&s.length==0)a=r[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(r.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(te.from(c).eq(n))return{mark:a,type:o}}function zP(n,e,t,i,r){if(t-e<=r.pos-i.pos||Ih(i,!0,!1)<r.pos)return!1;let s=n.resolve(e);if(!i.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(Ih(s,!0,!0));return!o.parent.isTextblock||o.pos>t||Ih(o,!0,!1)<t?!1:i.parent.content.cut(i.parentOffset).eq(o.parent.content)}function Ih(n,e,t){let i=n.depth,r=e?n.end():n.pos;for(;i>0&&(e||n.indexAfter(i)==n.node(i).childCount);)i--,r++,e=!1;if(t){let s=n.node(i).maybeChild(n.indexAfter(i));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function jP(n,e,t,i,r){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(r=="end"){let l=Math.max(0,s-Math.min(o,a));i-=o+l-s}if(o<s&&n.size<e.size){let l=i<=s&&i>=o?s-i:0;s-=l,s&&s<e.size&&C0(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=i<=s&&i>=a?s-i:0;s-=l,s&&s<n.size&&C0(n.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function C0(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Yk{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new oP,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(A0),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=T0(this),O0(this),this.nodeViews=D0(this),this.docView=a0(this.state.doc,E0(this),Nh(this),this.dom,this),this.domObserver=new AP(this,(i,r,s,o)=>BP(this,i,r,s,o)),this.domObserver.start(),aP(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Zp(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(A0),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let i in this._props)t[i]=this._props[i];t.state=this.state;for(let i in e)t[i]=e[i];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var i;let r=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(Bk(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=D0(this);WP(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Zp(this),this.editable=T0(this),O0(this);let l=Nh(this),c=E0(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(r.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&xA(this);if(o){this.domObserver.stop();let p=d&&(mi||qn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&$P(r.selection,e.selection);if(d){let m=qn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=wP(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=a0(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&YA(this))?Kr(this,p):(Ck(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&kA(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ue){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&t0(this,t.getBoundingClientRect(),e)}else t0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let i=this.directPlugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let i=this.state.plugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let i=this.pluginViews[t];i.update&&i.update(this,e)}}updateDraggedNode(e,t){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let s=i.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==i.node&&(r=s)}this.dragging=new zk(e.slice,e.move,r<0?void 0:Ue.create(this.state.doc,r))}someProp(e,t){let i=this._props&&this._props[e],r;if(i!=null&&(r=t?t(i):i))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(r=t?t(a):a))return r}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(r=t?t(a):a))return r}}hasFocus(){if(mi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_A(this.dom),Kr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return OA(this,e)}coordsAtPos(e,t=1){return bk(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,i=-1){let r=this.docView.posFromDOM(e,t,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return RA(this,t||this.state,e)}pasteHTML(e,t){return Gl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Gl(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Xm(this,e)}destroy(){this.docView&&(lP(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Nh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,uA())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return uP(this,e)}domSelectionRange(){let e=this.domSelection();return e?ti&&this.root.nodeType===11&&mA(this.dom.ownerDocument)==this.dom&&RP(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Yk.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function E0(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let i in t)i=="class"?e.class+=" "+t[i]:i=="style"?e.style=(e.style?e.style+";":"")+t[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(t[i]))}),e.translate||(e.translate="no"),[ei.node(0,n.state.doc.content.size,e)]}function O0(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:ei.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function T0(n){return!n.someProp("editable",e=>e(n.state)===!1)}function $P(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function D0(n){let e=Object.create(null);function t(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function WP(n,e){let t=0,i=0;for(let r in n){if(n[r]!=e[r])return!0;t++}for(let r in e)i++;return t!=i}function A0(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ns={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},td={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},VP=typeof navigator<"u"&&/Mac/.test(navigator.platform),YP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wn=0;Wn<10;Wn++)Ns[48+Wn]=Ns[96+Wn]=String(Wn);for(var Wn=1;Wn<=24;Wn++)Ns[Wn+111]="F"+Wn;for(var Wn=65;Wn<=90;Wn++)Ns[Wn]=String.fromCharCode(Wn+32),td[Wn]=String.fromCharCode(Wn);for(var Lh in Ns)td.hasOwnProperty(Lh)||(td[Lh]=Ns[Lh]);function UP(n){var e=VP&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||YP&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?td:Ns)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const qP=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),KP=typeof navigator<"u"&&/Win/.test(navigator.platform);function JP(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let i,r,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))qP?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(t="Alt-"+t),r&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function GP(n){let e=Object.create(null);for(let t in n)e[JP(t)]=n[t];return e}function Fh(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function XP(n){return new pn({props:{handleKeyDown:Uk(n)}})}function Uk(n){let e=GP(n);return function(t,i){let r=UP(i),s,o=e[Fh(r,i)];if(o&&o(t.state,t.dispatch,t))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let a=e[Fh(r,i,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(KP&&i.ctrlKey&&i.altKey)&&(s=Ns[i.keyCode])&&s!=r){let a=e[Fh(s,i)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const ig=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function qk(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Kk=(n,e,t)=>{let i=qk(n,t);if(!i)return!1;let r=rg(i);if(!r){let o=i.blockRange(),a=o&&za(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=r.nodeBefore;if(i_(n,r,e,-1))return!0;if(i.parent.content.size==0&&(Ra(s,"end")||Ue.isSelectable(s)))for(let o=i.depth;;o--){let a=af(n.doc,i.before(o),i.after(o),ve.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(Ra(s,"end")?ct.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Ue.create(l.doc,r.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||i.node(o-1).childCount>1)break}return s.isAtom&&r.depth==i.depth-1?(e&&e(n.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},ZP=(n,e,t)=>{let i=qk(n,t);if(!i)return!1;let r=rg(i);return r?Jk(n,r,e):!1},QP=(n,e,t)=>{let i=Xk(n,t);if(!i)return!1;let r=sg(i);return r?Jk(n,r,e):!1};function Jk(n,e,t){let i=e.nodeBefore,r=i,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=af(n.doc,s,l,ve.empty);if(!c||c.from!=s||c instanceof Dn&&c.slice.size>=l-s)return!1;if(t){let u=n.tr.step(c);u.setSelection(it.create(u.doc,s)),t(u.scrollIntoView())}return!0}function Ra(n,e,t=!1){for(let i=n;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(t&&i.childCount!=1)return!1}return!1}const Gk=(n,e,t)=>{let{$head:i,empty:r}=n.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):i.parentOffset>0)return!1;s=rg(i)}let o=s&&s.nodeBefore;return!o||!Ue.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ue.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function rg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Xk(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Zk=(n,e,t)=>{let i=Xk(n,t);if(!i)return!1;let r=sg(i);if(!r)return!1;let s=r.nodeAfter;if(i_(n,r,e,1))return!0;if(i.parent.content.size==0&&(Ra(s,"start")||Ue.isSelectable(s))){let o=af(n.doc,i.before(),i.after(),ve.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(Ra(s,"start")?ct.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):Ue.create(a.doc,a.mapping.map(r.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&r.depth==i.depth-1?(e&&e(n.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},Qk=(n,e,t)=>{let{$head:i,empty:r}=n.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;s=sg(i)}let o=s&&s.nodeAfter;return!o||!Ue.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ue.create(n.doc,s.pos)).scrollIntoView()),!0)};function sg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const eR=(n,e)=>{let t=n.selection,i=t instanceof Ue,r;if(i){if(t.node.isTextblock||!Fs(n.doc,t.from))return!1;r=t.from}else if(r=of(n.doc,t.from,-1),r==null)return!1;if(e){let s=n.tr.join(r);i&&s.setSelection(Ue.create(s.doc,r-n.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},tR=(n,e)=>{let t=n.selection,i;if(t instanceof Ue){if(t.node.isTextblock||!Fs(n.doc,t.to))return!1;i=t.to}else if(i=of(n.doc,t.to,1),i==null)return!1;return e&&e(n.tr.join(i).scrollIntoView()),!0},nR=(n,e)=>{let{$from:t,$to:i}=n.selection,r=t.blockRange(i),s=r&&za(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)},e_=(n,e)=>{let{$head:t,$anchor:i}=n.selection;return!t.parent.type.spec.code||!t.sameParent(i)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function og(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const iR=(n,e)=>{let{$head:t,$anchor:i}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(i))return!1;let r=t.node(-1),s=t.indexAfter(-1),o=og(r.contentMatchAt(s));if(!o||!r.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ct.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},t_=(n,e)=>{let t=n.selection,{$from:i,$to:r}=t;if(t instanceof _i||i.parent.inlineContent||r.parent.inlineContent)return!1;let s=og(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(it.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},n_=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(qr(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let i=t.blockRange(),r=i&&za(i);return r==null?!1:(e&&e(n.tr.lift(i,r).scrollIntoView()),!0)};function rR(n){return(e,t)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof Ue&&e.selection.node.isBlock)return!i.parentOffset||!qr(e.doc,i.pos)?!1:(t&&t(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let p=i.depth;;p--)if(i.node(p).isBlock){l=i.end(p)==i.pos+(i.depth-p),c=i.start(p)==i.pos-(i.depth-p),a=og(i.node(p-1).contentMatchAt(i.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof it||e.selection instanceof _i)&&u.deleteSelection();let d=u.mapping.map(i.pos),f=qr(u.doc,d,s.length,s);if(f||(s[0]=a?{type:a}:null,f=qr(u.doc,d,s.length,s)),!f)return!1;if(u.split(d,s.length,s),!l&&c&&i.node(o).type!=a){let p=u.mapping.map(i.before(o)),m=u.doc.resolve(p);a&&i.node(o-1).canReplaceWith(m.index(),m.index()+1,a)&&u.setNodeMarkup(u.mapping.map(i.before(o)),a)}return t&&t(u.scrollIntoView()),!0}}const sR=rR(),oR=(n,e)=>{let{$from:t,to:i}=n.selection,r,s=t.sharedDepth(i);return s==0?!1:(r=t.before(s),e&&e(n.tr.setSelection(Ue.create(n.doc,r))),!0)};function aR(n,e,t){let i=e.nodeBefore,r=e.nodeAfter,s=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||Fs(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function i_(n,e,t,i){let r=e.nodeBefore,s=e.nodeAfter,o,a,l=r.type.spec.isolating||s.type.spec.isolating;if(!l&&aR(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let p=e.pos+s.nodeSize,m=te.empty;for(let v=o.length-1;v>=0;v--)m=te.from(o[v].create(null,m));m=te.from(r.copy(m));let g=n.tr.step(new An(e.pos-1,p,e.pos,p,new ve(m,1,0),o.length,!0)),y=g.doc.resolve(p+2*o.length);y.nodeAfter&&y.nodeAfter.type==r.type&&Fs(g.doc,y.pos)&&g.join(y.pos),t(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||i>0&&l?null:ct.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&za(d);if(f!=null&&f>=e.depth)return t&&t(n.tr.lift(d,f).scrollIntoView()),!0;if(c&&Ra(s,"start",!0)&&Ra(r,"end")){let p=r,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=s,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(t){let v=te.empty;for(let S=m.length-1;S>=0;S--)v=te.from(m[S].copy(v));let x=n.tr.step(new An(e.pos-m.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new ve(v,m.length,0),0,!0));t(x.scrollIntoView())}return!0}}return!1}function r_(n){return function(e,t){let i=e.selection,r=n<0?i.$from:i.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(t&&t(e.tr.setSelection(it.create(e.doc,n<0?r.start(s):r.end(s)))),!0):!1}}const lR=r_(-1),cR=r_(1);function uR(n,e=null){return function(t,i){let{$from:r,$to:s}=t.selection,o=r.blockRange(s),a=o&&Um(o,n,e);return a?(i&&i(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function P0(n,e=null){return function(t,i){let r=!1;for(let s=0;s<t.selection.ranges.length&&!r;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)r=!0;else{let u=t.doc.resolve(c),d=u.index();r=u.parent.canReplaceWith(d,d+1,n)}})}if(!r)return!1;if(i){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,n,e)}i(s.scrollIntoView())}return!0}}function ag(...n){return function(e,t,i){for(let r=0;r<n.length;r++)if(n[r](e,t,i))return!0;return!1}}ag(ig,Kk,Gk);ag(ig,Zk,Qk);ag(e_,t_,n_,sR);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function dR(n,e=null){return function(t,i){let{$from:r,$to:s}=t.selection,o=r.blockRange(s);if(!o)return!1;let a=i?t.tr:null;return fR(a,o,n,e)?(i&&i(a.scrollIntoView()),!0):!1}}function fR(n,e,t,i=null){let r=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Ku(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Ku(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let a=Um(s,t,i,e);return a?(n&&hR(n,e,a,r,t),!0):!1}function hR(n,e,t,i,r){let s=te.empty;for(let u=t.length-1;u>=0;u--)s=te.from(t[u].type.create(t[u].attrs,s));n.step(new An(e.start-(i?2:0),e.end,e.start,e.end,new ve(s,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==r&&(o=u+1);let a=t.length-o,l=e.start+t.length-(i?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&qr(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function pR(n){return function(e,t){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,o=>o.childCount>0&&o.firstChild.type==n);return s?t?i.node(s.depth-1).type==n?mR(e,t,n,s):gR(e,t,s):!0:!1}}function mR(n,e,t,i){let r=n.tr,s=i.end,o=i.$to.end(i.depth);s<o&&(r.step(new An(s-1,o,s,o,new ve(te.from(t.create(null,i.parent.copy())),1,0),1,!0)),i=new Ku(r.doc.resolve(i.$from.pos),r.doc.resolve(o),i.depth));const a=za(i);if(a==null)return!1;r.lift(i,a);let l=r.doc.resolve(r.mapping.map(s,-1)-1);return Fs(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),e(r.scrollIntoView()),!0}function gR(n,e,t){let i=n.tr,r=t.parent;for(let p=t.end,m=t.endIndex-1,g=t.startIndex;m>g;m--)p-=r.child(m).nodeSize,i.delete(p-1,p+1);let s=i.doc.resolve(t.start),o=s.nodeAfter;if(i.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==r.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?te.empty:te.from(r))))return!1;let d=s.pos,f=d+o.nodeSize;return i.step(new An(d-(a?1:0),f+(l?1:0),d+1,f-1,new ve((a?te.empty:te.from(r.copy(te.empty))).append(l?te.empty:te.from(r.copy(te.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}function yR(n){return function(e,t){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,c=>c.childCount>0&&c.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=te.from(c?n.create():null),d=new ve(te.from(n.create(null,te.from(a.type.create(null,u)))),c?3:1,0),f=s.start,p=s.end;t(e.tr.step(new An(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}var bR=Object.defineProperty,s_=(n,e)=>{for(var t in e)bR(n,t,{get:e[t],enumerable:!0})};function ff(n){const{state:e,transaction:t}=n;let{selection:i}=t,{doc:r}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return r},get tr(){return i=t.selection,r=t.doc,s=t.storedMarks,t}}}var hf=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:i}=e,{tr:r}=t,s=this.buildProps(r);return Object.fromEntries(Object.entries(n).map(([o,a])=>[o,(...c)=>{const u=a(...c)(s);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(r),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:i,state:r}=this,{view:s}=i,o=[],a=!!n,l=n||r.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(t).map(([d,f])=>[d,(...m)=>{const g=this.buildProps(l,e),y=f(...m)(g);return o.push(y),u}])),run:c};return u}createCan(n){const{rawCommands:e,state:t}=this,i=!1,r=n||t.tr,s=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(n,e=!0){const{rawCommands:t,editor:i,state:r}=this,{view:s}=i,o={tr:n,editor:i,view:s,state:ff({state:r,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},vR=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(i=>i.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(i=>i!==e):delete this.callbacks[n]),this}once(n,e){const t=(...i)=>{this.off(n,t),e.apply(this,i)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}};function o_(n,e){const t=new ck(n);return e.forEach(i=>{i.steps.forEach(r=>{t.step(r)})}),t}var a_=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const i=e[t];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?n.removeChild(i):i.nodeType===1&&a_(i)}return n};function nu(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return a_(t)}function Zl(n,e,t){if(n instanceof Ms||n instanceof te)return n;t={slice:!0,parseOptions:{},...t};const i=typeof n=="object"&&n!==null,r=typeof n=="string";if(i)try{if(Array.isArray(n)&&n.length>0)return te.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Zl("",e,t)}if(r){if(t.errorOnInvalidContent){let o=!1,a="";const l=new qx({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?El.fromSchema(l).parseSlice(nu(n),t.parseOptions):El.fromSchema(l).parse(nu(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=El.fromSchema(e);return t.slice?s.parseSlice(nu(n),t.parseOptions).content:s.parse(nu(n),t.parseOptions)}return Zl("",e,t)}function Qp(n,e,t={},i={}){return Zl(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:i.errorOnInvalidContent})}function wR(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function xR(n,e,t){const i=[];return n.nodesBetween(e.from,e.to,(r,s)=>{t(r)&&i.push({node:r,pos:s})}),i}function kR(n,e){for(let t=n.depth;t>0;t-=1){const i=n.node(t);if(e(i))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:i}}}function pf(n){return e=>kR(e.$from,n)}function We(n,e,t){return n.config[e]===void 0&&n.parent?We(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?We(n.parent,e,t):null}):n.config[e]}function lg(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},i=We(e,"addExtensions",t);return i?[e,...lg(i())]:e}).flat(10)}function cg(n,e){const t=Po.fromSchema(e).serializeFragment(n),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(t),r.innerHTML}function l_(n){return typeof n=="function"}function Lt(n,e=void 0,...t){return l_(n)?e?n.bind(e)(...t):n(...t):n}function _R(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Ql(n){const e=n.filter(r=>r.type==="extension"),t=n.filter(r=>r.type==="node"),i=n.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:i}}function c_(n){const e=[],{nodeExtensions:t,markExtensions:i}=Ql(n),r=[...t,...i],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:r},l=We(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...s,...p}})})})})}),r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=We(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function _n(...n){return n.filter(e=>!!e).reduce((e,t)=>{const i={...e};return Object.entries(t).forEach(([r,s])=>{if(!i[r]){i[r]=s;return}if(r==="class"){const a=s?String(s).split(" "):[],l=i[r]?i[r].split(" "):[],c=a.filter(u=>!l.includes(u));i[r]=[...l,...c].join(" ")}else if(r==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=i[r]?i[r].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i[r]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else i[r]=s}),i},{})}function nd(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,i)=>_n(t,i),{})}function SR(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function R0(n,e){return"style"in n?n:{...n,getAttrs:t=>{const i=n.getAttrs?n.getAttrs(t):n.attrs;if(i===!1)return!1;const r=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):SR(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...i,...r}}}}function N0(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&_R(t)?!1:t!=null))}function MR(n,e){var t;const i=c_(n),{nodeExtensions:r,markExtensions:s}=Ql(n),o=(t=r.find(c=>We(c,"topNode")))==null?void 0:t.name,a=Object.fromEntries(r.map(c=>{const u=i.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=n.reduce((v,x)=>{const S=We(x,"extendNodeSchema",d);return{...v,...S?S(c):{}}},{}),p=N0({...f,content:Lt(We(c,"content",d)),marks:Lt(We(c,"marks",d)),group:Lt(We(c,"group",d)),inline:Lt(We(c,"inline",d)),atom:Lt(We(c,"atom",d)),selectable:Lt(We(c,"selectable",d)),draggable:Lt(We(c,"draggable",d)),code:Lt(We(c,"code",d)),whitespace:Lt(We(c,"whitespace",d)),linebreakReplacement:Lt(We(c,"linebreakReplacement",d)),defining:Lt(We(c,"defining",d)),isolating:Lt(We(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var x,S;return[v.name,{default:(x=v==null?void 0:v.attribute)==null?void 0:x.default,validate:(S=v==null?void 0:v.attribute)==null?void 0:S.validate}]}))}),m=Lt(We(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>R0(v,u)));const g=We(c,"renderHTML",d);g&&(p.toDOM=v=>g({node:v,HTMLAttributes:nd(v,u)}));const y=We(c,"renderText",d);return y&&(p.toText=y),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=i.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=n.reduce((y,v)=>{const x=We(v,"extendMarkSchema",d);return{...y,...x?x(c):{}}},{}),p=N0({...f,inclusive:Lt(We(c,"inclusive",d)),excludes:Lt(We(c,"excludes",d)),group:Lt(We(c,"group",d)),spanning:Lt(We(c,"spanning",d)),code:Lt(We(c,"code",d)),attrs:Object.fromEntries(u.map(y=>{var v,x;return[y.name,{default:(v=y==null?void 0:y.attribute)==null?void 0:v.default,validate:(x=y==null?void 0:y.attribute)==null?void 0:x.validate}]}))}),m=Lt(We(c,"parseHTML",d));m&&(p.parseDOM=m.map(y=>R0(y,u)));const g=We(c,"renderHTML",d);return g&&(p.toDOM=y=>g({mark:y,HTMLAttributes:nd(y,u)})),[c.name,p]}));return new qx({topNode:o,nodes:a,marks:l})}function CR(n){const e=n.filter((t,i)=>n.indexOf(t)!==i);return Array.from(new Set(e))}function ug(n){return n.sort((t,i)=>{const r=We(t,"priority")||100,s=We(i,"priority")||100;return r>s?-1:r<s?1:0})}function u_(n){const e=ug(lg(n)),t=CR(e.map(i=>i.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function d_(n,e,t){const{from:i,to:r}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(i,r,(l,c,u,d)=>{var f;l.isBlock&&c>i&&(a+=s);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(i,c)-c,r-c))}),a}function ER(n,e){const t={from:0,to:n.content.size};return d_(n,t,e)}function f_(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function Qr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}function h_(n,e){const t=Qr(e,n.schema),{from:i,to:r,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(i,r,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function Sn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function OR(n,e){const t=Sn(e,n.schema),{from:i,to:r}=n.selection,s=[];n.doc.nodesBetween(i,r,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function mf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function p_(n,e){const t=mf(typeof e=="string"?e:e.name,n.schema);return t==="node"?OR(n,e):t==="mark"?h_(n,e):{}}function TR(n,e=JSON.stringify){const t={};return n.filter(i=>{const r=e(i);return Object.prototype.hasOwnProperty.call(t,r)?!1:t[r]=!0})}function DR(n){const e=TR(n);return e.length===1?e:e.filter((t,i)=>!e.filter((s,o)=>o!==i).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function m_(n){const{mapping:e,steps:t}=n,i=[];return e.maps.forEach((r,s)=>{const o=[];if(r.ranges.length)r.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);i.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),DR(i)}function dg(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function id(n,e,t={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>t.strict?e[r]===n[r]:dg(e[r])?e[r].test(n[r]):e[r]===n[r]):!0}function g_(n,e,t={}){return n.find(i=>i.type===e&&id(Object.fromEntries(Object.keys(t).map(r=>[r,i.attrs[r]])),t))}function I0(n,e,t={}){return!!g_(n,e,t)}function fg(n,e,t){var i;if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=n.parent.childBefore(n.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e)||(t=t||((i=r.node.marks[0])==null?void 0:i.attrs),!g_([...r.node.marks],e,t)))return;let o=r.index,a=n.start()+r.offset,l=o+1,c=a+r.node.nodeSize;for(;o>0&&I0([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;l<n.parent.childCount&&I0([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function hg(n,e,t){const i=[];return n===e?t.resolve(n).marks().forEach(r=>{const s=t.resolve(n),o=fg(s,r.type);o&&i.push({mark:r,...o})}):t.nodesBetween(n,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(o=>({from:s,to:s+r.nodeSize,mark:o})))}),i}var AR=(n,e,t,i=20)=>{const r=n.doc.resolve(t);let s=i,o=null;for(;s>0&&o===null;){const a=r.node(s);(a==null?void 0:a.type.name)===e?o=a:s-=1}return[o,s]};function Bh(n,e){return e.nodes[n]||e.marks[n]||null}function Nu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([i])=>{const r=n.find(s=>s.type===e&&s.name===i);return r?r.attribute.keepOnSplit:!1}))}var PR=(n,e=500)=>{let t="";const i=n.parentOffset;return n.parent.nodesBetween(Math.max(0,i-e),i,(r,s,o,a)=>{var l,c;const u=((c=(l=r.type.spec).toText)==null?void 0:c.call(l,{node:r,pos:s,parent:o,index:a}))||r.textContent||"%leaf%";t+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,i-s))}),t};function em(n,e,t={}){const{empty:i,ranges:r}=n.selection,s=e?Qr(e,n.schema):null;if(i)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>id(d.attrs,t,{strict:!1}));let o=0;const a=[];if(r.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;n.doc.nodesBetween(p,m,(g,y)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(p,y),x=Math.min(m,y+g.nodeSize),S=x-v;o+=S,a.push(...g.marks.map(O=>({mark:O,from:v,to:x})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>id(d.mark.attrs,t,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function Is(n,e,t={}){const{from:i,to:r,empty:s}=n.selection,o=e?Sn(e,n.schema):null,a=[];n.doc.nodesBetween(i,r,(d,f)=>{if(d.isText)return;const p=Math.max(i,f),m=Math.min(r,f+d.nodeSize);a.push({node:d,from:p,to:m})});const l=r-i,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>id(d.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}function RR(n,e,t={}){if(!e)return Is(n,null,t)||em(n,null,t);const i=mf(e,n.schema);return i==="node"?Is(n,e,t):i==="mark"?em(n,e,t):!1}var NR=(n,e)=>{const{$from:t,$to:i,$anchor:r}=n.selection;if(e){const s=pf(a=>a.type.name===e)(n.selection);if(!s)return!1;const o=n.doc.resolve(s.pos+1);return r.pos+1===o.end()}return!(i.parentOffset<i.parent.nodeSize-2||t.pos!==i.pos)},IR=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function L0(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function F0(n,e){const{nodeExtensions:t}=Ql(e),i=t.find(o=>o.name===n);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},s=Lt(We(i,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function gf(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var i;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((i=n.text)!=null?i:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let r=!0;return n.content.forEach(s=>{r!==!1&&(gf(s,{ignoreWhitespace:t,checkChildren:e})||(r=!1))}),r}return!1}function y_(n){return n instanceof Ue}function b_(n){return n instanceof it}function co(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function v_(n,e=null){if(!e)return null;const t=ct.atStart(n),i=ct.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return i;const r=t.from,s=i.to;return e==="all"?it.create(n,co(0,r,s),co(n.content.size,r,s)):it.create(n,co(e,r,s),co(e,r,s))}function LR(n,e,t){const i=n.steps.length-1;if(i<e)return;const r=n.steps[i];if(!(r instanceof Dn||r instanceof An))return;const s=n.mapping.maps[i];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),n.setSelection(ct.near(n.doc.resolve(o),t))}var yf=class{constructor(n){this.find=n.find,this.handler=n.handler}},FR=(n,e)=>{if(dg(e))return e.exec(n);const t=e(n);if(!t)return null;const i=[t.text];return i.index=t.index,i.input=n,i.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(t.replaceWith)),i};function iu(n){var e;const{editor:t,from:i,to:r,text:s,rules:o,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(i);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=PR(c)+s;return o.forEach(f=>{if(u)return;const p=FR(d,f.find);if(!p)return;const m=l.state.tr,g=ff({state:l.state,transaction:m}),y={from:i-(p[0].length-s.length),to:r},{commands:v,chain:x,can:S}=new hf({editor:t,state:g});f.handler({state:g,range:y,match:p,commands:v,chain:x,can:S})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:i,to:r,text:s}),l.dispatch(m),u=!0)}),u}function BR(n){const{editor:e,rules:t}=n,i=new pn({state:{init(){return null},apply(r,s,o){const a=r.getMeta(i);if(a)return a;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=cg(te.from(u),o.schema);const{from:d}=l,f=d+u.length;iu({editor:e,from:d,to:f,text:u,rules:t,plugin:i})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,o,a){return iu({editor:e,from:s,to:o,text:a,rules:t,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&iu({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:i})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?iu({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:i}):!1}},isInputRules:!0});return i}function HR(n){return Object.prototype.toString.call(n).slice(8,-1)}function ru(n){return HR(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function w_(n,e){const t={...n};return ru(n)&&ru(e)&&Object.keys(e).forEach(i=>{ru(e[i])&&ru(n[i])?t[i]=w_(n[i],e[i]):t[i]=e[i]}),t}var pg=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...Lt(We(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Lt(We(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>w_(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},Ro=class x_ extends pg{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new x_(t)}static handleExit({editor:e,mark:t}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&i.removeStoredMark(l),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function zR(n){return typeof n=="number"}var jR=class{constructor(n){this.find=n.find,this.handler=n.handler}},$R=(n,e,t)=>{if(dg(e))return[...n.matchAll(e)];const i=e(n,t);return i?i.map(r=>{const s=[r.text];return s.index=r.index,s.input=n,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function WR(n){const{editor:e,state:t,from:i,to:r,rule:s,pasteEvent:o,dropEvent:a}=n,{commands:l,chain:c,can:u}=new hf({editor:e,state:t}),d=[];return t.doc.nodesBetween(i,r,(p,m)=>{var g,y,v,x,S;if((y=(g=p.type)==null?void 0:g.spec)!=null&&y.code||!(p.isText||p.isTextblock||p.isInline))return;const O=(S=(x=(v=p.content)==null?void 0:v.size)!=null?x:p.nodeSize)!=null?S:0,T=Math.max(i,m),A=Math.min(r,m+O);if(T>=A)return;const D=p.isText?p.text||"":p.textBetween(T-m,A-m,void 0,"");$R(D,s.find,o).forEach(B=>{if(B.index===void 0)return;const Y=T+B.index+1,ee=Y+B[0].length,U={from:t.tr.mapping.map(Y),to:t.tr.mapping.map(ee)},me=s.handler({state:t,range:U,match:B,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(me)})}),d.every(p=>p!==null)}var su=null,VR=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function YR(n){const{editor:e,rules:t}=n;let i=null,r=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:p,pasteEvt:m})=>{const g=u.tr,y=ff({state:u,transaction:g});if(!(!WR({editor:e,state:y,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:m,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(u=>new pn({view(d){const f=m=>{var g;i=(g=d.dom.parentElement)!=null&&g.contains(m.target)?d.dom.parentElement:null,i&&(su=e)},p=()=>{su&&(su=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(s=i===d.dom.parentElement,a=f,!s){const p=su;p!=null&&p.isEditable&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,f)=>{var p;const m=(p=f.clipboardData)==null?void 0:p.getData("text/html");return o=f,r=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!r,y=m.getMeta("uiEvent")==="drop"&&!s,v=m.getMeta("applyPasteRules"),x=!!v;if(!g&&!y&&!x)return;if(x){let{text:T}=v;typeof T=="string"?T=T:T=cg(te.from(T),p.schema);const{from:A}=v,D=A+T.length,P=VR(T);return l({rule:u,state:p,from:A,to:{b:D},pasteEvt:P})}const S=f.doc.content.findDiffStart(p.doc.content),O=f.doc.content.findDiffEnd(p.doc.content);if(!(!zR(S)||!O||S===O.b))return l({rule:u,state:p,from:S,to:O,pasteEvt:o})}}))}var bf=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.extensions=u_(n),this.schema=MR(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Bh(e.name,this.schema)},i=We(e,"addCommands",t);return i?{...n,...i()}:n},{})}get plugins(){const{editor:n}=this;return ug([...this.extensions].reverse()).map(i=>{const r={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:n,type:Bh(i.name,this.schema)},s=[],o=We(i,"addKeyboardShortcuts",r);let a={};if(i.type==="mark"&&We(i,"exitable",r)&&(a.ArrowRight=()=>Ro.handleExit({editor:n,mark:i})),o){const f=Object.fromEntries(Object.entries(o()).map(([p,m])=>[p,()=>m({editor:n})]));a={...a,...f}}const l=XP(a);s.push(l);const c=We(i,"addInputRules",r);if(L0(i,n.options.enableInputRules)&&c){const f=c();if(f&&f.length){const p=BR({editor:n,rules:f}),m=Array.isArray(p)?p:[p];s.push(...m)}}const u=We(i,"addPasteRules",r);if(L0(i,n.options.enablePasteRules)&&u){const f=u();if(f&&f.length){const p=YR({editor:n,rules:f});s.push(...p)}}const d=We(i,"addProseMirrorPlugins",r);if(d){const f=d();s.push(...f)}return s}).flat()}get attributes(){return c_(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=Ql(this.extensions);return Object.fromEntries(e.filter(t=>!!We(t,"addNodeView")).map(t=>{const i=this.attributes.filter(a=>a.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:Sn(t.name,this.schema)},s=We(t,"addNodeView",r);if(!s)return[];const o=(a,l,c,u,d)=>{const f=nd(a,i);return s()({node:a,view:l,getPos:c,decorations:u,innerDecorations:d,editor:n,extension:t,HTMLAttributes:f})};return[t.name,o]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=Ql(this.extensions);return Object.fromEntries(e.filter(t=>!!We(t,"addMarkView")).map(t=>{const i=this.attributes.filter(a=>a.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:Qr(t.name,this.schema)},s=We(t,"addMarkView",r);if(!s)return[];const o=(a,l,c)=>{const u=nd(a,i);return s()({mark:a,view:l,inline:c,editor:n,extension:t,HTMLAttributes:u,updateAttributes:d=>{aI(a,n,d)}})};return[t.name,o]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Bh(e.name,this.schema)};e.type==="mark"&&((t=Lt(We(e,"keepOnSplit",i)))==null||t)&&this.splittableMarks.push(e.name);const r=We(e,"onBeforeCreate",i),s=We(e,"onCreate",i),o=We(e,"onUpdate",i),a=We(e,"onSelectionUpdate",i),l=We(e,"onTransaction",i),c=We(e,"onFocus",i),u=We(e,"onBlur",i),d=We(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};bf.resolve=u_;bf.sort=ug;bf.flatten=lg;var UR={};s_(UR,{ClipboardTextSerializer:()=>__,Commands:()=>C_,Delete:()=>E_,Drop:()=>O_,Editable:()=>T_,FocusEvents:()=>A_,Keymap:()=>P_,Paste:()=>R_,Tabindex:()=>N_,focusEventsPluginKey:()=>D_});var wn=class k_ extends pg{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new k_(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},__=wn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pn({key:new Nn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:i,selection:r}=e,{ranges:s}=r,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=f_(t);return d_(i,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),S_={};s_(S_,{blur:()=>qR,clearContent:()=>KR,clearNodes:()=>JR,command:()=>GR,createParagraphNear:()=>XR,cut:()=>ZR,deleteCurrentNode:()=>QR,deleteNode:()=>eN,deleteRange:()=>tN,deleteSelection:()=>nN,enter:()=>iN,exitCode:()=>rN,extendMarkRange:()=>sN,first:()=>oN,focus:()=>lN,forEach:()=>cN,insertContent:()=>uN,insertContentAt:()=>fN,joinBackward:()=>mN,joinDown:()=>pN,joinForward:()=>gN,joinItemBackward:()=>yN,joinItemForward:()=>bN,joinTextblockBackward:()=>vN,joinTextblockForward:()=>wN,joinUp:()=>hN,keyboardShortcut:()=>kN,lift:()=>_N,liftEmptyBlock:()=>SN,liftListItem:()=>MN,newlineInCode:()=>CN,resetAttributes:()=>EN,scrollIntoView:()=>ON,selectAll:()=>TN,selectNodeBackward:()=>DN,selectNodeForward:()=>AN,selectParentNode:()=>PN,selectTextblockEnd:()=>RN,selectTextblockStart:()=>NN,setContent:()=>IN,setMark:()=>FN,setMeta:()=>BN,setNode:()=>HN,setNodeSelection:()=>zN,setTextSelection:()=>jN,sinkListItem:()=>$N,splitBlock:()=>WN,splitListItem:()=>VN,toggleList:()=>YN,toggleMark:()=>UN,toggleNode:()=>qN,toggleWrap:()=>KN,undoInputRule:()=>JN,unsetAllMarks:()=>GN,unsetMark:()=>XN,updateAttributes:()=>ZN,wrapIn:()=>QN,wrapInList:()=>eI});var qR=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())==null||t.removeAllRanges())}),!0),KR=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),JR=()=>({state:n,tr:e,dispatch:t})=>{const{selection:i}=e,{ranges:r}=i;return t&&r.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const m=za(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},GR=n=>e=>n(e),XR=()=>({state:n,dispatch:e})=>t_(n,e),ZR=(n,e)=>({editor:t,tr:i})=>{const{state:r}=t,s=r.doc.slice(n.from,n.to);i.deleteRange(n.from,n.to);const o=i.mapping.map(e);return i.insert(o,s.content),i.setSelection(new it(i.doc.resolve(Math.max(o-1,0)))),!0},QR=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,i=t.$anchor.node();if(i.content.size>0)return!1;const r=n.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===i.type){if(e){const a=r.before(s),l=r.after(s);n.delete(a,l).scrollIntoView()}return!0}return!1},eN=n=>({tr:e,state:t,dispatch:i})=>{const r=Sn(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r){if(i){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},tN=n=>({tr:e,dispatch:t})=>{const{from:i,to:r}=n;return t&&e.delete(i,r),!0},nN=()=>({state:n,dispatch:e})=>ig(n,e),iN=()=>({commands:n})=>n.keyboardShortcut("Enter"),rN=()=>({state:n,dispatch:e})=>iR(n,e),sN=(n,e={})=>({tr:t,state:i,dispatch:r})=>{const s=Qr(n,i.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:u}=a;if(r){const d=fg(l,s,e);if(d&&d.from<=c&&d.to>=u){const f=it.create(o,d.from,d.to);t.setSelection(f)}}return!0},oN=n=>e=>{const t=typeof n=="function"?n(e):n;for(let i=0;i<t.length;i+=1)if(t[i](e))return!0;return!1};function aN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function mg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var lN=(n=null,e={})=>({editor:t,view:i,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(mg()||aN())&&i.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(i.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!b_(t.state.selection))return o(),!0;const a=v_(r.doc,n)||t.state.selection,l=t.state.selection.eq(a);return s&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},cN=(n,e)=>t=>n.every((i,r)=>e(i,{...t,index:r})),uN=(n,e)=>({tr:t,commands:i})=>i.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),dN=n=>!("type"in n),fN=(n,e,t)=>({tr:i,dispatch:r,editor:s})=>{var o;if(r){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const{selection:l}=s.state,c=v=>{s.emit("contentError",{editor:s,error:v,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Zl(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(v){c(v)}try{a=Zl(e,s.schema,{parseOptions:u,errorOnInvalidContent:(o=t.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(v){return c(v),!1}let{from:d,to:f}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,m=!0;if((dN(a)?a:[a]).forEach(v=>{v.check(),p=p?v.isText&&v.marks.length===0:!1,m=m?v.isBlock:!1}),d===f&&m){const{parent:v}=i.doc.resolve(d);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(d-=1,f+=1)}let y;if(p){if(Array.isArray(e))y=e.map(v=>v.text||"").join("");else if(e instanceof te){let v="";e.forEach(x=>{x.text&&(v+=x.text)}),y=v}else typeof e=="object"&&e&&e.text?y=e.text:y=e;i.insertText(y,d,f)}else{y=a;const v=l.$from.parentOffset===0,x=l.$from.node().isText||l.$from.node().isTextblock,S=l.$from.node().content.size>0;v&&x&&S&&(d=Math.max(0,d-1)),i.replaceWith(d,f,y)}t.updateSelection&&LR(i,i.steps.length-1,-1),t.applyInputRules&&i.setMeta("applyInputRules",{from:d,text:y}),t.applyPasteRules&&i.setMeta("applyPasteRules",{from:d,text:y})}return!0},hN=()=>({state:n,dispatch:e})=>eR(n,e),pN=()=>({state:n,dispatch:e})=>tR(n,e),mN=()=>({state:n,dispatch:e})=>Kk(n,e),gN=()=>({state:n,dispatch:e})=>Zk(n,e),yN=()=>({state:n,dispatch:e,tr:t})=>{try{const i=of(n.doc,n.selection.$from.pos,-1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},bN=()=>({state:n,dispatch:e,tr:t})=>{try{const i=of(n.doc,n.selection.$from.pos,1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},vN=()=>({state:n,dispatch:e})=>ZP(n,e),wN=()=>({state:n,dispatch:e})=>QP(n,e);function M_(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function xN(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let i,r,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))mg()||M_()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return i&&(t=`Alt-${t}`),r&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}var kN=n=>({editor:e,view:t,tr:i,dispatch:r})=>{const s=xN(n).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(i.mapping);u&&r&&i.maybeStep(u)}),!0},_N=(n,e={})=>({state:t,dispatch:i})=>{const r=Sn(n,t.schema);return Is(t,r,e)?nR(t,i):!1},SN=()=>({state:n,dispatch:e})=>n_(n,e),MN=n=>({state:e,dispatch:t})=>{const i=Sn(n,e.schema);return pR(i)(e,t)},CN=()=>({state:n,dispatch:e})=>e_(n,e);function B0(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((i,r)=>(t.includes(r)||(i[r]=n[r]),i),{})}var EN=(n,e)=>({tr:t,state:i,dispatch:r})=>{let s=null,o=null;const a=mf(typeof n=="string"?n:n.name,i.schema);return a?(a==="node"&&(s=Sn(n,i.schema)),a==="mark"&&(o=Qr(n,i.schema)),r&&t.selection.ranges.forEach(l=>{i.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&t.setNodeMarkup(u,void 0,B0(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&t.addMark(u,u+c.nodeSize,o.create(B0(d.attrs,e)))})})}),!0):!1},ON=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),TN=()=>({tr:n,dispatch:e})=>{if(e){const t=new _i(n.doc);n.setSelection(t)}return!0},DN=()=>({state:n,dispatch:e})=>Gk(n,e),AN=()=>({state:n,dispatch:e})=>Qk(n,e),PN=()=>({state:n,dispatch:e})=>oR(n,e),RN=()=>({state:n,dispatch:e})=>cR(n,e),NN=()=>({state:n,dispatch:e})=>lR(n,e),IN=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:i={}}={})=>({editor:r,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(i.preserveWhitespace!=="full"){const c=Qp(n,r.schema,i,{errorOnInvalidContent:e??r.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!t),!0}return o&&s.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:l.content.size},n,{parseOptions:i,errorOnInvalidContent:e??r.options.enableContentCheck})};function LN(n,e,t){var i;const{selection:r}=e;let s=null;if(b_(r)&&(s=r.$cursor),s){const a=(i=n.storedMarks)!=null?i:s.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=r;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(t),m=!!t.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(t));c=p&&m}return!c}),c})}var FN=(n,e={})=>({tr:t,state:i,dispatch:r})=>{const{selection:s}=t,{empty:o,ranges:a}=s,l=Qr(n,i.schema);if(r)if(o){const c=h_(i,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;i.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),g=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&t.addMark(m,g,l.create({...v.attrs,...e}))}):t.addMark(m,g,l.create(e))})});return LN(i,t,l)},BN=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),HN=(n,e={})=>({state:t,dispatch:i,chain:r})=>{const s=Sn(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:a})=>P0(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>P0(s,{...o,...e})(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},zN=n=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,r=co(n,0,i.content.size),s=Ue.create(i,r);e.setSelection(s)}return!0},jN=n=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,{from:r,to:s}=typeof n=="number"?{from:n,to:n}:n,o=it.atStart(i).from,a=it.atEnd(i).to,l=co(r,o,a),c=co(s,o,a),u=it.create(i,l,c);e.setSelection(u)}return!0},$N=n=>({state:e,dispatch:t})=>{const i=Sn(n,e.schema);return yR(i)(e,t)};function H0(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const i=t.filter(r=>e==null?void 0:e.includes(r.type.name));n.tr.ensureMarks(i)}}var WN=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:i,editor:r})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=r.extensionManager.attributes,u=Nu(c,a.node().type.name,a.node().attrs);if(s instanceof Ue&&s.node.isBlock)return!a.parentOffset||!qr(o,a.pos)?!1:(i&&(n&&H0(t,r.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:wR(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=qr(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&qr(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),i){if(m&&(s instanceof it&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),y=e.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}n&&H0(t,r.extensionManager.splittableMarks),e.scrollIntoView()}return m},VN=(n,e={})=>({tr:t,state:i,dispatch:r,editor:s})=>{var o;const a=Sn(n,i.schema),{$from:l,$to:c}=i.selection,u=i.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let v=te.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=te.from(l.node(P).copy(v));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,O={...Nu(f,l.node().type.name,l.node().attrs),...e},T=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(O))||void 0;v=v.append(te.from(a.createAndFill(null,T)||void 0));const A=l.before(l.depth-(x-1));t.replace(A,l.after(-S),new ve(v,4-x,0));let D=-1;t.doc.nodesBetween(A,t.doc.content.size,(P,B)=>{if(D>-1)return!1;P.isTextblock&&P.content.size===0&&(D=B+1)}),D>-1&&t.setSelection(it.near(t.doc.resolve(D))),t.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Nu(f,d.type.name,d.attrs),...e},g={...Nu(f,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const y=p?[{type:a,attrs:m},{type:p,attrs:g}]:[{type:a,attrs:m}];if(!qr(t.doc,l.pos,2))return!1;if(r){const{selection:v,storedMarks:x}=i,{splittableMarks:S}=s.extensionManager,O=x||v.$to.parentOffset&&v.$from.marks();if(t.split(l.pos,2,y).scrollIntoView(),!O||!r)return!0;const T=O.filter(A=>S.includes(A.type.name));t.ensureMarks(T)}return!0},Hh=(n,e)=>{const t=pf(o=>o.type===e)(n.selection);if(!t)return!0;const i=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(i===void 0)return!0;const r=n.doc.nodeAt(i);return t.node.type===(r==null?void 0:r.type)&&Fs(n.doc,t.pos)&&n.join(t.pos),!0},zh=(n,e)=>{const t=pf(o=>o.type===e)(n.selection);if(!t)return!0;const i=n.doc.resolve(t.start).after(t.depth);if(i===void 0)return!0;const r=n.doc.nodeAt(i);return t.node.type===(r==null?void 0:r.type)&&Fs(n.doc,i)&&n.join(i),!0},YN=(n,e,t,i={})=>({editor:r,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=r.extensionManager,p=Sn(n,o.schema),m=Sn(e,o.schema),{selection:g,storedMarks:y}=o,{$from:v,$to:x}=g,S=v.blockRange(x),O=y||g.$to.parentOffset&&g.$from.marks();if(!S)return!1;const T=pf(A=>F0(A.type.name,d))(g);if(S.depth>=1&&T&&S.depth-T.depth<=1){if(T.node.type===p)return c.liftListItem(m);if(F0(T.node.type.name,d)&&p.validContent(T.node.content)&&a)return l().command(()=>(s.setNodeMarkup(T.pos,p),!0)).command(()=>Hh(s,p)).command(()=>zh(s,p)).run()}return!t||!O||!a?l().command(()=>u().wrapInList(p,i)?!0:c.clearNodes()).wrapInList(p,i).command(()=>Hh(s,p)).command(()=>zh(s,p)).run():l().command(()=>{const A=u().wrapInList(p,i),D=O.filter(P=>f.includes(P.type.name));return s.ensureMarks(D),A?!0:c.clearNodes()}).wrapInList(p,i).command(()=>Hh(s,p)).command(()=>zh(s,p)).run()},UN=(n,e={},t={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:s=!1}=t,o=Qr(n,i.schema);return em(i,o,e)?r.unsetMark(o,{extendEmptyMarkRange:s}):r.setMark(o,e)},qN=(n,e,t={})=>({state:i,commands:r})=>{const s=Sn(n,i.schema),o=Sn(e,i.schema),a=Is(i,s,t);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?r.setNode(o,l):r.setNode(s,{...l,...t})},KN=(n,e={})=>({state:t,commands:i})=>{const r=Sn(n,t.schema);return Is(t,r,e)?i.lift(r):i.wrapIn(r,e)},JN=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let i=0;i<t.length;i+=1){const r=t[i];let s;if(r.spec.isInputRules&&(s=r.getState(n))){if(e){const o=n.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},GN=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:i,ranges:r}=t;return i||e&&r.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},XN=(n,e={})=>({tr:t,state:i,dispatch:r})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Qr(n,i.schema),{$from:c,empty:u,ranges:d}=a;if(!r)return!0;if(u&&o){let{from:f,to:p}=a;const m=(s=c.marks().find(y=>y.type===l))==null?void 0:s.attrs,g=fg(c,l,m);g&&(f=g.from,p=g.to),t.removeMark(f,p,l)}else d.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,l)});return t.removeStoredMark(l),!0},ZN=(n,e={})=>({tr:t,state:i,dispatch:r})=>{let s=null,o=null;const a=mf(typeof n=="string"?n:n.name,i.schema);return a?(a==="node"&&(s=Sn(n,i.schema)),a==="mark"&&(o=Qr(n,i.schema)),r&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,p,m;t.selection.empty?i.doc.nodesBetween(c,u,(g,y)=>{s&&s===g.type&&(p=Math.max(y,c),m=Math.min(y+g.nodeSize,u),d=y,f=g)}):i.doc.nodesBetween(c,u,(g,y)=>{y<c&&s&&s===g.type&&(p=Math.max(y,c),m=Math.min(y+g.nodeSize,u),d=y,f=g),y>=c&&y<=u&&(s&&s===g.type&&t.setNodeMarkup(y,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(v=>{if(o===v.type){const x=Math.max(y,c),S=Math.min(y+g.nodeSize,u);t.addMark(x,S,o.create({...v.attrs,...e}))}}))}),f&&(d!==void 0&&t.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&t.addMark(p,m,o.create({...g.attrs,...e}))}))}),!0):!1},QN=(n,e={})=>({state:t,dispatch:i})=>{const r=Sn(n,t.schema);return uR(r,e)(t,i)},eI=(n,e={})=>({state:t,dispatch:i})=>{const r=Sn(n,t.schema);return dR(r,e)(t,i)},C_=wn.create({name:"commands",addCommands(){return{...S_}}}),E_=wn.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,i,r;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,n))!=null?c:n.getMeta("y-sync$"))return;const u=o_(n.before,[n,...e]);m_(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,g)=>{const y=g+m.nodeSize-2,v=p.oldRange.from<=g&&y<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:y,newFrom:u.mapping.map(g),newTo:u.mapping.map(y),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:n,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var g,y;if(p instanceof Gi){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),S=f.invert().map(v,-1),O=f.invert().map(x),T=(g=u.doc.nodeAt(v-1))==null?void 0:g.marks.some(D=>D.eq(p.mark)),A=(y=u.doc.nodeAt(x))==null?void 0:y.marks.some(D=>D.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:S,to:O},newRange:{from:v,to:x},partial:!!(A||T),editor:this.editor,transaction:n,combinedTransform:u})}})};(r=(i=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:i.async)==null||r?setTimeout(s,0):s()}}),O_=wn.create({name:"drop",addProseMirrorPlugins(){return[new pn({key:new Nn("tiptapDrop"),props:{handleDrop:(n,e,t,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:i})}}})]}}),T_=wn.create({name:"editable",addProseMirrorPlugins(){return[new pn({key:new Nn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),D_=new Nn("focusEvents"),A_=wn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new pn({key:D_,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const i=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,t)=>{n.isFocused=!1;const i=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),P_=wn.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=m.parent.type.spec.isolating,y=d.pos-d.parentOffset,v=g&&m.parent.childCount===1?y===d.pos:ct.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},s={...i,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return mg()||M_()?s:r},addProseMirrorPlugins(){return[new pn({key:new Nn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(g=>g.getMeta("composition")))return;const i=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),r=n.some(g=>g.getMeta("preventClearDocument"));if(!i||r)return;const{empty:s,from:o,to:a}=e.selection,l=ct.atStart(e.doc).from,c=ct.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!gf(t.doc))return;const f=t.tr,p=ff({state:t,transaction:f}),{commands:m}=new hf({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),R_=wn.create({name:"paste",addProseMirrorPlugins(){return[new pn({key:new Nn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),N_=wn.create({name:"tabindex",addProseMirrorPlugins(){return[new pn({key:new Nn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),tI=class ua{constructor(e,t,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:t,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new ua(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ua(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ua(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,i)=>{const r=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+i+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!r&&a.depth<=this.depth)return;const l=new ua(a,this.editor,r,r?t:null);r&&(l.actualDepth=this.depth+1),e.push(new ua(a,this.editor,r,r?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(t).length>0){const s=r.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==t[l])break}}else i=r;r=r.parent}return i}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(t);return this.children.forEach(o=>{i&&r.length>0||(o.node.type.name===e&&s.every(l=>t[l]===o.node.attrs[l])&&r.push(o),!(i&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,t,i))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},nI=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function iI(n,e,t){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(r),r}var rI=class extends vR{constructor(n={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:r,moved:s})=>this.options.onDrop(i,r,s)),this.on("paste",({event:i,slice:r})=>this.options.onPaste(i,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=v_(e,this.options.autofocus);this.editorState=ga.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n!=null&&n.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=iI(nI,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.editorState=this.state.apply(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=l_(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],i=this.state.reconfigure({plugins:t});return this.view.updateState(i),i}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(r=>{const s=typeof r=="string"?`${r}$`:r.key;t=t.filter(o=>!o.key.startsWith(s))}),e.length===t.length)return;const i=this.state.reconfigure({plugins:t});return this.view.updateState(i),i}createExtensionManager(){var n,e;const i=[...this.options.enableCoreExtensions?[T_,__.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),C_,A_,P_,N_,O_,R_,E_].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new bf(i,this)}createCommandManager(){this.commandManager=new hf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=Qp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=Qp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new Yk(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews(),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),i=!this.state.selection.eq(e.selection),r=t.includes(n),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:n});const o=t.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o==null?void 0:o.getMeta("focus"),l=o==null?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(n.getMeta("preventUpdate")||!t.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return p_(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,i=typeof n=="string"?e:n;return RR(this.state,t,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cg(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return ER(this.state.doc,{blockSeparator:e,textSerializers:{...f_(this.schema),...t}})}get isEmpty(){return gf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new tI(e,this)}get $doc(){return this.$pos(0)}};function Na(n){return new yf({find:n.find,handler:({state:e,range:t,match:i})=>{const r=Lt(n.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:s}=e,o=i[i.length-1],a=i[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),u=c+o.length;if(hg(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===n.type&&g!==p.mark.type)).filter(p=>p.to>c).length)return null;u<t.to&&s.delete(u,t.to),c>t.from&&s.delete(t.from+l,c);const f=t.from+l+o.length;s.addMark(t.from+l,f,n.type.create(r||{})),s.removeStoredMark(n.type)}}})}function sI(n){return new yf({find:n.find,handler:({state:e,range:t,match:i})=>{const r=Lt(n.getAttributes,void 0,i)||{},{tr:s}=e,o=t.from;let a=t.to;const l=n.type.create(r);if(i[1]){const c=i[0].lastIndexOf(i[1]);let u=o+c;u>a?u=a:a=u+i[1].length;const d=i[0][i[0].length-1];s.insertText(d,o+i[0].length-1),s.replaceWith(u,a,l)}else if(i[0]){const c=n.type.isInline?o:o-1;s.insert(c,n.type.create(r)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function tm(n){return new yf({find:n.find,handler:({state:e,range:t,match:i})=>{const r=e.doc.resolve(t.from),s=Lt(n.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function Ia(n){return new yf({find:n.find,handler:({state:e,range:t,match:i,chain:r})=>{const s=Lt(n.getAttributes,void 0,i)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&Um(l,n.type,s);if(!c)return null;if(o.wrap(l,c),n.keepMarks&&n.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=n.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(y=>p.includes(y.type.name));o.ensureMarks(g)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(d,s).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===n.type&&Fs(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(i,u))&&o.join(t.from-1)}})}function oI(n,e){const{selection:t}=n,{$from:i}=t;if(t instanceof Ue){const s=i.index();return i.parent.canReplaceWith(s,s+1,e)}let r=i.depth;for(;r>=0;){const s=i.index(r);if(i.node(r).contentMatchAt(s).matchType(e))return!0;r-=1}return!1}function aI(n,e,t={}){const{state:i}=e,{doc:r,tr:s}=i,o=n;r.descendants((a,l)=>{const c=s.mapping.map(l),u=s.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(p=>{if(p!==o)return!1;d=p}),!d)return;let f=!1;if(Object.keys(t).forEach(p=>{t[p]!==d.attrs[p]&&(f=!0)}),f){const p=n.type.create({...n.attrs,...t});s.removeMark(c,u,n.type),s.addMark(c,u,p)}}),s.docChanged&&e.view.dispatch(s)}var Si=class I_ extends pg{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new I_(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function To(n){return new jR({find:n.find,handler:({state:e,range:t,match:i,pasteEvent:r})=>{const s=Lt(n.getAttributes,void 0,i,r);if(s===!1||s===null)return null;const{tr:o}=e,a=i[i.length-1],l=i[0];let c=t.to;if(a){const u=l.search(/\S/),d=t.from+l.indexOf(a),f=d+a.length;if(hg(t.from,t.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===n.type&&y!==m.mark.type)).filter(m=>m.to>d).length)return null;f<t.to&&o.delete(f,t.to),d>t.from&&o.delete(t.from+u,d),c=t.from+u+a.length,o.addMark(t.from+u,c,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}var rd=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...i}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,i,t]},lI=/^\s*>\s$/,cI=Si.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return rd("blockquote",{..._n(this.options.HTMLAttributes,n),children:rd("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ia({find:lI,type:this.type})]}}),uI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,dI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,fI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,hI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,pI=Ro.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return rd("strong",{..._n(this.options.HTMLAttributes,n),children:rd("slot",{})})},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Na({find:uI,type:this.type}),Na({find:fI,type:this.type})]},addPasteRules(){return[To({find:dI,type:this.type}),To({find:hI,type:this.type})]}}),mI=/(^|[^`])`([^`]+)`(?!`)/,gI=/(^|[^`])`([^`]+)`(?!`)/g,yI=Ro.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Na({find:mI,type:this.type})]},addPasteRules(){return[To({find:gI,type:this.type})]}}),bI=/^```([a-z]+)?[\s\n]$/,vI=/^~~~([a-z]+)?[\s\n]$/,wI=Si.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",_n(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:i,empty:r}=t;if(!r||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,o=i.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:a})=>(a.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:i}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();return a===void 0?!1:i.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(ct.near(i.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[tm({find:bI,type:this.type,getAttributes:n=>({language:n[1]})}),tm({find:vI,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new pn({key:new Nn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,s=r==null?void 0:r.mode;if(!t||!s)return!1;const{tr:o,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(it.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),xI=Si.create({name:"doc",topNode:!0,content:"block+"}),kI=Si.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",_n(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:i})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:r,storedMarks:s}=t;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=i.extensionManager,l=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),_I=Si.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,_n(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>tm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),SI=Si.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",_n(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!oI(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:i}=t,r=n();return y_(t)?r.insertContentAt(i.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:s,dispatch:o})=>{var a;if(o){const{$to:l}=s.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?s.setSelection(it.create(s.doc,l.pos+1)):l.nodeAfter.isBlock?s.setSelection(Ue.create(s.doc,l.pos)):s.setSelection(it.create(s.doc,l.pos));else{const u=(a=l.parent.type.contentMatch.defaultType)==null?void 0:a.create();u&&(s.insert(c,u),s.setSelection(it.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[sI({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),MI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,CI=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,EI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,OI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,TI=Ro.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Na({find:MI,type:this.type}),Na({find:EI,type:this.type})]},addPasteRules(){return[To({find:CI,type:this.type}),To({find:OI,type:this.type})]}});const DI="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",AI="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",nm="numeric",im="ascii",rm="alpha",Al="asciinumeric",vl="alphanumeric",sm="domain",L_="emoji",PI="scheme",RI="slashscheme",jh="whitespace";function NI(n,e){return n in e||(e[n]=[]),e[n]}function uo(n,e,t){e[nm]&&(e[Al]=!0,e[vl]=!0),e[im]&&(e[Al]=!0,e[rm]=!0),e[Al]&&(e[vl]=!0),e[rm]&&(e[vl]=!0),e[vl]&&(e[sm]=!0),e[L_]&&(e[sm]=!0);for(const i in e){const r=NI(i,t);r.indexOf(n)<0&&r.push(n)}}function II(n,e){const t={};for(const i in e)e[i].indexOf(n)>=0&&(t[i]=!0);return t}function ui(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}ui.groups={};ui.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,i){for(let r=0;r<n.length;r++)this.tt(n[r],e,t,i)},tr(n,e,t,i){i=i||ui.groups;let r;return e&&e.j?r=e:(r=new ui(e),t&&i&&uo(e,t,i)),this.jr.push([n,r]),r},ts(n,e,t,i){let r=this;const s=n.length;if(!s)return r;for(let o=0;o<s-1;o++)r=r.tt(n[o]);return r.tt(n[s-1],e,t,i)},tt(n,e,t,i){i=i||ui.groups;const r=this;if(e&&e.j)return r.j[n]=e,e;const s=e;let o,a=r.go(n);if(a?(o=new ui,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new ui,s){if(i)if(o.t&&typeof o.t=="string"){const l=Object.assign(II(o.t,i),t);uo(s,l,i)}else t&&uo(s,t,i);o.t=s}return r.j[n]=o,o}};const ut=(n,e,t,i,r)=>n.ta(e,t,i,r),fn=(n,e,t,i,r)=>n.tr(e,t,i,r),z0=(n,e,t,i,r)=>n.ts(e,t,i,r),re=(n,e,t,i,r)=>n.tt(e,t,i,r),Ir="WORD",om="UWORD",F_="ASCIINUMERICAL",B_="ALPHANUMERICAL",ec="LOCALHOST",am="TLD",lm="UTLD",Iu="SCHEME",da="SLASH_SCHEME",gg="NUM",cm="WS",yg="NL",Pl="OPENBRACE",Rl="CLOSEBRACE",sd="OPENBRACKET",od="CLOSEBRACKET",ad="OPENPAREN",ld="CLOSEPAREN",cd="OPENANGLEBRACKET",ud="CLOSEANGLEBRACKET",dd="FULLWIDTHLEFTPAREN",fd="FULLWIDTHRIGHTPAREN",hd="LEFTCORNERBRACKET",pd="RIGHTCORNERBRACKET",md="LEFTWHITECORNERBRACKET",gd="RIGHTWHITECORNERBRACKET",yd="FULLWIDTHLESSTHAN",bd="FULLWIDTHGREATERTHAN",vd="AMPERSAND",wd="APOSTROPHE",xd="ASTERISK",hs="AT",kd="BACKSLASH",_d="BACKTICK",Sd="CARET",gs="COLON",bg="COMMA",Md="DOLLAR",fr="DOT",Cd="EQUALS",vg="EXCLAMATION",Di="HYPHEN",Nl="PERCENT",Ed="PIPE",Od="PLUS",Td="POUND",Il="QUERY",wg="QUOTE",H_="FULLWIDTHMIDDLEDOT",xg="SEMI",hr="SLASH",Ll="TILDE",Dd="UNDERSCORE",z_="EMOJI",Ad="SYM";var j_=Object.freeze({__proto__:null,ALPHANUMERICAL:B_,AMPERSAND:vd,APOSTROPHE:wd,ASCIINUMERICAL:F_,ASTERISK:xd,AT:hs,BACKSLASH:kd,BACKTICK:_d,CARET:Sd,CLOSEANGLEBRACKET:ud,CLOSEBRACE:Rl,CLOSEBRACKET:od,CLOSEPAREN:ld,COLON:gs,COMMA:bg,DOLLAR:Md,DOT:fr,EMOJI:z_,EQUALS:Cd,EXCLAMATION:vg,FULLWIDTHGREATERTHAN:bd,FULLWIDTHLEFTPAREN:dd,FULLWIDTHLESSTHAN:yd,FULLWIDTHMIDDLEDOT:H_,FULLWIDTHRIGHTPAREN:fd,HYPHEN:Di,LEFTCORNERBRACKET:hd,LEFTWHITECORNERBRACKET:md,LOCALHOST:ec,NL:yg,NUM:gg,OPENANGLEBRACKET:cd,OPENBRACE:Pl,OPENBRACKET:sd,OPENPAREN:ad,PERCENT:Nl,PIPE:Ed,PLUS:Od,POUND:Td,QUERY:Il,QUOTE:wg,RIGHTCORNERBRACKET:pd,RIGHTWHITECORNERBRACKET:gd,SCHEME:Iu,SEMI:xg,SLASH:hr,SLASH_SCHEME:da,SYM:Ad,TILDE:Ll,TLD:am,UNDERSCORE:Dd,UTLD:lm,UWORD:om,WORD:Ir,WS:cm});const Ar=/[a-z]/,al=new RegExp("\\p{L}","u"),$h=new RegExp("\\p{Emoji}","u"),Pr=/\d/,Wh=/\s/,j0="\r",Vh=`
`,LI="",FI="",Yh="";let ou=null,au=null;function BI(n=[]){const e={};ui.groups=e;const t=new ui;ou==null&&(ou=$0(DI)),au==null&&(au=$0(AI)),re(t,"'",wd),re(t,"{",Pl),re(t,"}",Rl),re(t,"[",sd),re(t,"]",od),re(t,"(",ad),re(t,")",ld),re(t,"<",cd),re(t,">",ud),re(t,"",dd),re(t,"",fd),re(t,"",hd),re(t,"",pd),re(t,"",md),re(t,"",gd),re(t,"",yd),re(t,"",bd),re(t,"&",vd),re(t,"*",xd),re(t,"@",hs),re(t,"`",_d),re(t,"^",Sd),re(t,":",gs),re(t,",",bg),re(t,"$",Md),re(t,".",fr),re(t,"=",Cd),re(t,"!",vg),re(t,"-",Di),re(t,"%",Nl),re(t,"|",Ed),re(t,"+",Od),re(t,"#",Td),re(t,"?",Il),re(t,'"',wg),re(t,"/",hr),re(t,";",xg),re(t,"~",Ll),re(t,"_",Dd),re(t,"\\",kd),re(t,"",H_);const i=fn(t,Pr,gg,{[nm]:!0});fn(i,Pr,i);const r=fn(i,Ar,F_,{[Al]:!0}),s=fn(i,al,B_,{[vl]:!0}),o=fn(t,Ar,Ir,{[im]:!0});fn(o,Pr,r),fn(o,Ar,o),fn(r,Pr,r),fn(r,Ar,r);const a=fn(t,al,om,{[rm]:!0});fn(a,Ar),fn(a,Pr,s),fn(a,al,a),fn(s,Pr,s),fn(s,Ar),fn(s,al,s);const l=re(t,Vh,yg,{[jh]:!0}),c=re(t,j0,cm,{[jh]:!0}),u=fn(t,Wh,cm,{[jh]:!0});re(t,Yh,u),re(c,Vh,l),re(c,Yh,u),fn(c,Wh,u),re(u,j0),re(u,Vh),fn(u,Wh,u),re(u,Yh,u);const d=fn(t,$h,z_,{[L_]:!0});re(d,"#"),fn(d,$h,d),re(d,LI,d);const f=re(d,FI);re(f,"#"),fn(f,$h,d);const p=[[Ar,o],[Pr,r]],m=[[Ar,null],[al,a],[Pr,s]];for(let g=0;g<ou.length;g++)us(t,ou[g],am,Ir,p);for(let g=0;g<au.length;g++)us(t,au[g],lm,om,m);uo(am,{tld:!0,ascii:!0},e),uo(lm,{utld:!0,alpha:!0},e),us(t,"file",Iu,Ir,p),us(t,"mailto",Iu,Ir,p),us(t,"http",da,Ir,p),us(t,"https",da,Ir,p),us(t,"ftp",da,Ir,p),us(t,"ftps",da,Ir,p),uo(Iu,{scheme:!0,ascii:!0},e),uo(da,{slashscheme:!0,ascii:!0},e),n=n.sort((g,y)=>g[0]>y[0]?1:-1);for(let g=0;g<n.length;g++){const y=n[g][0],x=n[g][1]?{[PI]:!0}:{[RI]:!0};y.indexOf("-")>=0?x[sm]=!0:Ar.test(y)?Pr.test(y)?x[Al]=!0:x[im]=!0:x[nm]=!0,z0(t,y,y,x)}return z0(t,"localhost",ec,{ascii:!0}),t.jd=new ui(Ad),{start:t,tokens:Object.assign({groups:e},j_)}}function $_(n,e){const t=HI(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=t.length,r=[];let s=0,o=0;for(;o<i;){let a=n,l=null,c=0,u=null,d=-1,f=-1;for(;o<i&&(l=a.go(t[o]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=t[o].length,f++),c+=t[o].length,s+=t[o].length,o++;s-=d,o-=f,c-=d,r.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return r}function HI(n){const e=[],t=n.length;let i=0;for(;i<t;){let r=n.charCodeAt(i),s,o=r<55296||r>56319||i+1===t||(s=n.charCodeAt(i+1))<56320||s>57343?n[i]:n.slice(i,i+2);e.push(o),i+=o.length}return e}function us(n,e,t,i,r){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];n.j[l]?s=n.j[l]:(s=new ui(i),s.jr=r.slice(),n.j[l]=s),n=s}return s=new ui(t),s.jr=r.slice(),n.j[e[o-1]]=s,s}function $0(n){const e=[],t=[];let i=0,r="0123456789";for(;i<n.length;){let s=0;for(;r.indexOf(n[i+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(n.substring(i,i+s),10);o>0;o--)t.pop();i+=s}else t.push(n[i]),i++}return e}const tc={defaultProtocol:"http",events:null,format:W0,formatHref:W0,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function kg(n,e=null){let t=Object.assign({},tc);n&&(t=Object.assign(t,n instanceof kg?n.o:n));const i=t.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=r}kg.prototype={o:tc,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const i=e!=null;let r=this.o[n];return r&&(typeof r=="object"?(r=t.t in r?r[t.t]:tc[n],typeof r=="function"&&i&&(r=r(e,t))):typeof r=="function"&&i&&(r=r(e,t.t,t)),r)},getObj(n,e,t){let i=this.o[n];return typeof i=="function"&&e!=null&&(i=i(e,t.t,t)),i},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function W0(n){return n}function W_(n,e){this.t="token",this.v=n,this.tk=e}W_.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),i=n.get("format",e,this);return t&&i.length>t?i.substring(0,t)+"":i},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=tc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),i=n.get("formatHref",t,this),r=n.get("tagName",t,e),s=this.toFormattedString(n),o={},a=n.get("className",t,e),l=n.get("target",t,e),c=n.get("rel",t,e),u=n.getObj("attributes",t,e),d=n.getObj("events",t,e);return o.href=i,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:r,attributes:o,content:s,eventListeners:d}}};function vf(n,e){class t extends W_{constructor(r,s){super(r,s),this.t=n}}for(const i in e)t.prototype[i]=e[i];return t.t=n,t}const V0=vf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Y0=vf("text"),zI=vf("nl"),lu=vf("url",{isLink:!0,toHref(n=tc.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==ec&&n[1].t===gs}}),Oi=n=>new ui(n);function jI({groups:n}){const e=n.domain.concat([vd,xd,hs,kd,_d,Sd,Md,Cd,Di,gg,Nl,Ed,Od,Td,hr,Ad,Ll,Dd]),t=[wd,gs,bg,fr,vg,Nl,Il,wg,xg,cd,ud,Pl,Rl,od,sd,ad,ld,dd,fd,hd,pd,md,gd,yd,bd],i=[vd,wd,xd,kd,_d,Sd,Md,Cd,Di,Pl,Rl,Nl,Ed,Od,Td,Il,hr,Ad,Ll,Dd],r=Oi(),s=re(r,Ll);ut(s,i,s),ut(s,n.domain,s);const o=Oi(),a=Oi(),l=Oi();ut(r,n.domain,o),ut(r,n.scheme,a),ut(r,n.slashscheme,l),ut(o,i,s),ut(o,n.domain,o);const c=re(o,hs);re(s,hs,c),re(a,hs,c),re(l,hs,c);const u=re(s,fr);ut(u,i,s),ut(u,n.domain,s);const d=Oi();ut(c,n.domain,d),ut(d,n.domain,d);const f=re(d,fr);ut(f,n.domain,d);const p=Oi(V0);ut(f,n.tld,p),ut(f,n.utld,p),re(c,ec,p);const m=re(d,Di);re(m,Di,m),ut(m,n.domain,d),ut(p,n.domain,d),re(p,fr,f),re(p,Di,m);const g=re(p,gs);ut(g,n.numeric,V0);const y=re(o,Di),v=re(o,fr);re(y,Di,y),ut(y,n.domain,o),ut(v,i,s),ut(v,n.domain,o);const x=Oi(lu);ut(v,n.tld,x),ut(v,n.utld,x),ut(x,n.domain,o),ut(x,i,s),re(x,fr,v),re(x,Di,y),re(x,hs,c);const S=re(x,gs),O=Oi(lu);ut(S,n.numeric,O);const T=Oi(lu),A=Oi();ut(T,e,T),ut(T,t,A),ut(A,e,T),ut(A,t,A),re(x,hr,T),re(O,hr,T);const D=re(a,gs),P=re(l,gs),B=re(P,hr),Y=re(B,hr);ut(a,n.domain,o),re(a,fr,v),re(a,Di,y),ut(l,n.domain,o),re(l,fr,v),re(l,Di,y),ut(D,n.domain,T),re(D,hr,T),re(D,Il,T),ut(Y,n.domain,T),ut(Y,e,T),re(Y,hr,T);const ee=[[Pl,Rl],[sd,od],[ad,ld],[cd,ud],[dd,fd],[hd,pd],[md,gd],[yd,bd]];for(let U=0;U<ee.length;U++){const[me,Ze]=ee[U],Te=re(T,me);re(A,me,Te),re(Te,Ze,T);const qe=Oi(lu);ut(Te,e,qe);const Ke=Oi();ut(Te,t),ut(qe,e,qe),ut(qe,t,Ke),ut(Ke,e,qe),ut(Ke,t,Ke),re(qe,Ze,T),re(Ke,Ze,T)}return re(r,ec,x),re(r,yg,zI),{start:r,tokens:j_}}function $I(n,e,t){let i=t.length,r=0,s=[],o=[];for(;r<i;){let a=n,l=null,c=null,u=0,d=null,f=-1;for(;r<i&&!(l=a.go(t[r].t));)o.push(t[r++]);for(;r<i&&(c=l||a.go(t[r].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,r++,u++;if(f<0)r-=u,r<i&&(o.push(t[r]),r++);else{o.length>0&&(s.push(Uh(Y0,e,o)),o=[]),r-=f,u-=f;const p=d.t,m=t.slice(r-u,r);s.push(Uh(p,e,m))}}return o.length>0&&s.push(Uh(Y0,e,o)),s}function Uh(n,e,t){const i=t[0].s,r=t[t.length-1].e,s=e.slice(i,r);return new n(s,t)}const WI=typeof console<"u"&&console&&console.warn||(()=>{}),VI="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Xt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function YI(){return ui.groups={},Xt.scanner=null,Xt.parser=null,Xt.tokenQueue=[],Xt.pluginQueue=[],Xt.customSchemes=[],Xt.initialized=!1,Xt}function U0(n,e=!1){if(Xt.initialized&&WI(`linkifyjs: already initialized - will not register custom scheme "${n}" ${VI}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Xt.customSchemes.push([n,e])}function UI(){Xt.scanner=BI(Xt.customSchemes);for(let n=0;n<Xt.tokenQueue.length;n++)Xt.tokenQueue[n][1]({scanner:Xt.scanner});Xt.parser=jI(Xt.scanner.tokens);for(let n=0;n<Xt.pluginQueue.length;n++)Xt.pluginQueue[n][1]({scanner:Xt.scanner,parser:Xt.parser});return Xt.initialized=!0,Xt}function _g(n){return Xt.initialized||UI(),$I(Xt.parser.start,n,$_(Xt.scanner.start,n))}_g.scan=$_;function V_(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const i=new kg(t),r=_g(n),s=[];for(let o=0;o<r.length;o++){const a=r[o];a.isLink&&(!e||a.t===e)&&i.check(a)&&s.push(a.toFormattedObject(i))}return s}var Sg="[\0- -\u2029]",qI=new RegExp(Sg),KI=new RegExp(`${Sg}$`),JI=new RegExp(Sg,"g");function GI(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function XI(n){return new pn({key:new Nn("autolink"),appendTransaction:(e,t,i)=>{const r=e.some(c=>c.docChanged)&&!t.doc.eq(i.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!r||s)return;const{tr:o}=i,a=o_(t.doc,[...e]);if(m_(a).forEach(({newRange:c})=>{const u=xR(i.doc,c,p=>p.isTextblock);let d,f;if(u.length>1)d=u[0],f=i.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const p=i.doc.textBetween(c.from,c.to," "," ");if(!KI.test(p))return;d=u[0],f=i.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const p=f.split(qI).filter(Boolean);if(p.length<=0)return!1;const m=p[p.length-1],g=d.pos+f.lastIndexOf(m);if(!m)return!1;const y=_g(m).map(v=>v.toObject(n.defaultProtocol));if(!GI(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>i.schema.marks.code?!i.doc.rangeHasMark(v.from,v.to,i.schema.marks.code):!0).filter(v=>n.validate(v.value)).filter(v=>n.shouldAutoLink(v.value)).forEach(v=>{hg(v.from,v.to,i.doc).some(x=>x.mark.type===n.type)||o.addMark(v.from,v.to,n.type.create({href:v.href}))})}}),!!o.steps.length)return o}})}function ZI(n){return new pn({key:new Nn("handleClickLink"),props:{handleClick:(e,t,i)=>{var r,s;if(i.button!==0||!e.editable)return!1;let o=null;if(i.target instanceof HTMLAnchorElement)o=i.target;else{let u=i.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;o=d.find(f=>f.nodeName==="A")}if(!o)return!1;const a=p_(e.state,n.type.name),l=(r=o==null?void 0:o.href)!=null?r:a.href,c=(s=o==null?void 0:o.target)!=null?s:a.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),o&&l?(window.open(l,c),!0):!1}}})}function QI(n){return new pn({key:new Nn("handlePasteLink"),props:{handlePaste:(e,t,i)=>{const{state:r}=e,{selection:s}=r,{empty:o}=s;if(o)return!1;let a="";i.content.forEach(c=>{a+=c.textContent});const l=V_(a,{defaultProtocol:n.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:n.editor.commands.setMark(n.type,{href:l.href})}}})}function Js(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const r=typeof i=="string"?i:i.scheme;r&&t.push(r)}),!n||n.replace(JI,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var eL=Ro.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){U0(n);return}U0(n.scheme,n.optionalSlashes)})},onDestroy(){YI()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Js(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Js(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Js(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",_n(this.options.HTMLAttributes,n),0]:["a",_n(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:i=>!!Js(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:i=>!!Js(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[To({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:i}=this.options,r=V_(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Js(o,t),protocols:t,defaultProtocol:i}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(XI({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:r=>!!Js(r,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(ZI({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(QI({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),tL=Object.defineProperty,nL=(n,e)=>{for(var t in e)tL(n,t,{get:e[t],enumerable:!0})},iL="listItem",q0="textStyle",K0=/^\s*([-+*])\s$/,Y_=Si.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(iL,this.editor.getAttributes(q0)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ia({find:K0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ia({find:K0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(q0),editor:this.editor})),[n]}}),U_=Si.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",_n(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),rL={};nL(rL,{findListItemPos:()=>kc,getNextListDepth:()=>Mg,handleBackspace:()=>um,handleDelete:()=>dm,hasListBefore:()=>q_,hasListItemAfter:()=>sL,hasListItemBefore:()=>K_,listItemHasSubList:()=>J_,nextListIsDeeper:()=>G_,nextListIsHigher:()=>X_});var kc=(n,e)=>{const{$from:t}=e.selection,i=Sn(n,e.schema);let r=null,s=t.depth,o=t.pos,a=null;for(;s>0&&a===null;)r=t.node(s),r.type===i?a=s:(s-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},Mg=(n,e)=>{const t=kc(n,e);if(!t)return!1;const[,i]=AR(e,n,t.$pos.pos+4);return i},q_=(n,e,t)=>{const{$anchor:i}=n.selection,r=Math.max(0,i.pos-2),s=n.doc.resolve(r).node();return!(!s||!t.includes(s.type.name))},K_=(n,e)=>{var t;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-2);return!(r.index()===0||((t=r.nodeBefore)==null?void 0:t.type.name)!==n)},J_=(n,e,t)=>{if(!t)return!1;const i=Sn(n,e.schema);let r=!1;return t.descendants(s=>{s.type===i&&(r=!0)}),r},um=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!Is(n.state,e)&&q_(n.state,e,t)){const{$anchor:a}=n.state.selection,l=n.state.doc.resolve(a.before()-1),c=[];l.node().descendants((f,p)=>{f.type.name===e&&c.push({node:f,pos:p})});const u=c.at(-1);if(!u)return!1;const d=n.state.doc.resolve(l.start()+u.pos+1);return n.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!Is(n.state,e)||!IR(n.state))return!1;const i=kc(e,n.state);if(!i)return!1;const s=n.state.doc.resolve(i.$pos.pos-2).node(i.depth),o=J_(e,n.state,s);return K_(e,n.state)&&!o?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},G_=(n,e)=>{const t=Mg(n,e),i=kc(n,e);return!i||!t?!1:t>i.depth},X_=(n,e)=>{const t=Mg(n,e),i=kc(n,e);return!i||!t?!1:t<i.depth},dm=(n,e)=>{if(!Is(n.state,e)||!NR(n.state,e))return!1;const{selection:t}=n.state,{$from:i,$to:r}=t;return!t.empty&&i.sameParent(r)?!1:G_(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():X_(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},sL=(n,e)=>{var t;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-i.parentOffset-2);return!(r.index()===r.parent.childCount-1||((t=r.nodeAfter)==null?void 0:t.type.name)!==n)},Z_=wn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&dm(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&dm(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:i})=>{n.state.schema.nodes[t]!==void 0&&um(n,t,i)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:i})=>{n.state.schema.nodes[t]!==void 0&&um(n,t,i)&&(e=!0)}),e}}}}),oL="listItem",J0="textStyle",G0=/^(\d+)\.\s$/,Q_=Si.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",_n(this.options.HTMLAttributes,t),0]:["ol",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oL,this.editor.getAttributes(J0)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ia({find:G0,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ia({find:G0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(J0)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),aL=/^\s*(\[([( |x])?\])\s$/,lL=Si.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",_n(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:i})=>{const r=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(n),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;i.isEditable&&typeof t=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=t();if(typeof p!="number")return!1;const m=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{r.setAttribute(u,d)}),r.dataset.checked=n.attrs.checked,a.checked=n.attrs.checked,s.append(a,o),r.append(s,l),Object.entries(e).forEach(([u,d])=>{r.setAttribute(u,d)}),{dom:r,contentDOM:l,update:u=>u.type!==this.type?!1:(r.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Ia({find:aL,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),cL=Si.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",_n(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});wn.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(Y_.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(U_.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(Z_.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(Q_.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(lL.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(cL.configure(this.options.taskList)),n}});var uL=Si.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),dL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,fL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,hL=Ro.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Na({find:dL,type:this.type})]},addPasteRules(){return[To({find:fL,type:this.type})]}}),pL=Si.create({name:"text",group:"inline"}),eS=Ro.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",_n(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),mL=eS;function gL(n={}){return new pn({view(e){return new yL(e,n)}})}class yL{constructor(e,t){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=t.width)!==null&&i!==void 0?i:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=o=>{this[r](o)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,i,r=this.editorView.dom,s=r.getBoundingClientRect(),o=s.width/r.offsetWidth,a=s.height/r.offsetHeight;if(t){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let m=p.getBoundingClientRect(),g=d?m.bottom:m.top;d&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;i={left:m.left,right:m.right,top:g-y,bottom:g+y}}}}if(!i){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*o;i={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,p=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*p}this.element.style.left=(i.left-c)/o+"px",this.element.style.top=(i.top-u)/a+"px",this.element.style.width=(i.right-i.left)/o+"px",this.element.style.height=(i.bottom-i.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=i&&i.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=rk(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class hn extends ct{constructor(e){super(e,e)}map(e,t){let i=e.resolve(t.map(this.head));return hn.valid(i)?new hn(i):ct.near(i)}content(){return ve.empty}eq(e){return e instanceof hn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new hn(e.resolve(t.pos))}getBookmark(){return new Cg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!bL(e)||!vL(e))return!1;let i=t.type.spec.allowGapCursor;if(i!=null)return i;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,i=!1){e:for(;;){if(!i&&hn.valid(e))return e;let r=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=t;let l=e.doc.resolve(r);if(hn.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ue.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*t),i=!1;continue e}break}s=o,r+=t;let a=e.doc.resolve(r);if(hn.valid(a))return a}return null}}}hn.prototype.visible=!1;hn.findFrom=hn.findGapCursorFrom;ct.jsonID("gapcursor",hn);class Cg{constructor(e){this.pos=e}map(e){return new Cg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return hn.valid(t)?new hn(t):ct.near(t)}}function bL(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),i=n.node(e);if(t==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(t-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function vL(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),i=n.node(e);if(t==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(t);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function wL(){return new pn({props:{decorations:SL,createSelectionBetween(n,e,t){return e.pos==t.pos&&hn.valid(t)?new hn(t):null},handleClick:kL,handleKeyDown:xL,handleDOMEvents:{beforeinput:_L}}})}const xL=Uk({ArrowLeft:cu("horiz",-1),ArrowRight:cu("horiz",1),ArrowUp:cu("vert",-1),ArrowDown:cu("vert",1)});function cu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,s){let o=i.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof it){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=i.doc.resolve(e>0?a.after():a.before())}let c=hn.findGapCursorFrom(a,e,l);return c?(r&&r(i.tr.setSelection(new hn(c))),!0):!1}}function kL(n,e,t){if(!n||!n.editable)return!1;let i=n.state.doc.resolve(e);if(!hn.valid(i))return!1;let r=n.posAtCoords({left:t.clientX,top:t.clientY});return r&&r.inside>-1&&Ue.isSelectable(n.state.doc.nodeAt(r.inside))?!1:(n.dispatch(n.state.tr.setSelection(new hn(i))),!0)}function _L(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof hn))return!1;let{$from:t}=n.state.selection,i=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!i)return!1;let r=te.empty;for(let o=i.length-1;o>=0;o--)r=te.from(i[o].createAndFill(null,r));let s=n.state.tr.replace(t.pos,t.pos,new ve(r,0,0));return s.setSelection(it.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function SL(n){if(!(n.selection instanceof hn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",cn.create(n.doc,[ei.widget(n.selection.head,e,{key:"gapcursor"})])}var Pd=200,Pn=function(){};Pn.prototype.append=function(e){return e.length?(e=Pn.from(e),!this.length&&e||e.length<Pd&&this.leafAppend(e)||this.length<Pd&&e.leafPrepend(this)||this.appendInner(e)):this};Pn.prototype.prepend=function(e){return e.length?Pn.from(e).append(this):this};Pn.prototype.appendInner=function(e){return new ML(this,e)};Pn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Pn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Pn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pn.prototype.forEach=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length),t<=i?this.forEachInner(e,t,i,0):this.forEachInvertedInner(e,t,i,0)};Pn.prototype.map=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(s,o){return r.push(e(s,o))},t,i),r};Pn.from=function(e){return e instanceof Pn?e:e&&e.length?new tS(e):Pn.empty};var tS=function(n){function e(i){n.call(this),this.values=i}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,o,a){for(var l=s;l<o;l++)if(r(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){for(var l=s-1;l>=o;l--)if(r(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Pd)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Pd)return new e(r.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Pn);Pn.empty=new tS([]);var ML=function(n){function e(t,i){n.call(this),this.left=t,this.right=i,this.length=t.length+i.length,this.depth=Math.max(t.depth,i.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,s,o){var a=this.left.length;if(r<a&&this.left.forEachInner(i,r,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(i,Math.max(r-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,s,o){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(i,r-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(i,Math.min(r,a),s,o)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(i,r):i>=s?this.right.slice(i-s,r-s):this.left.slice(i,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Pn);const CL=500;class Ji{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,s;t&&(r=this.remapping(i,this.items.length),s=r.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){r||(r=this.remapping(i,f+1),s=r.maps.length),s--,u.push(d);return}if(r){u.push(new pr(d.map));let p=d.step.map(r.slice(s)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new pr(m,void 0,void 0,c.length+u.length))),s--,m&&r.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=r?d.selection.map(r.slice(s)):d.selection,l=new Ji(this.items.slice(0,i).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,i,r){let s=[],o=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new pr(e.mapping.maps[u],d,t),p;(p=l&&l.merge(f))&&(f=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),t&&(o++,t=void 0),r||(l=f)}let c=o-i.depth;return c>OL&&(a=EL(a,c),o-=c),new Ji(a.append(s),o)}remapping(e,t){let i=new ql;return this.items.forEach((r,s)=>{let o=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,o)},e,t),i}addMaps(e){return this.eventCount==0?this:new Ji(this.items.append(e.map(t=>new pr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},r);let l=t;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=s.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),y=f.selection&&f.selection.map(s.slice(l+1,p));y&&a++,i.push(new pr(m,g,y))}else i.push(new pr(m))},r);let c=[];for(let f=t;f<o;f++)c.push(new pr(s.maps[f]));let u=this.items.slice(0,r).append(c).append(i),d=new Ji(u,a);return d.emptyItemCount()>CL&&(d=d.compress(this.items.length-i.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),i=t.maps.length,r=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)r.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(i)),c=l&&l.getMap();if(i--,c&&t.appendMap(c,i),l){let u=o.selection&&o.selection.map(t.slice(i));u&&s++;let d=new pr(c.invert(),l,u),f,p=r.length-1;(f=r.length&&r[p].merge(d))?r[p]=f:r.push(d)}}else o.map&&i--},this.items.length,0),new Ji(Pn.from(r.reverse()),s)}}Ji.empty=new Ji(Pn.empty,0);function EL(n,e){let t;return n.forEach((i,r)=>{if(i.selection&&e--==0)return t=r,!1}),n.slice(t)}class pr{constructor(e,t,i,r){this.map=e,this.step=t,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new pr(t.getMap().invert(),t,this.selection)}}}class ps{constructor(e,t,i,r,s){this.done=e,this.undone=t,this.prevRanges=i,this.prevTime=r,this.prevComposition=s}}const OL=20;function TL(n,e,t,i){let r=t.getMeta(vo),s;if(r)return r.historyState;t.getMeta(PL)&&(n=new ps(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(vo))return o.getMeta(vo).redo?new ps(n.done.addTransform(t,void 0,i,Lu(e)),n.undone,X0(t.mapping.maps),n.prevTime,n.prevComposition):new ps(n.done,n.undone.addTransform(t,void 0,i,Lu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-i.newGroupDelay||!DL(t,n.prevRanges)),c=o?qh(n.prevRanges,t.mapping):X0(t.mapping.maps);return new ps(n.done.addTransform(t,l?e.selection.getBookmark():void 0,i,Lu(e)),Ji.empty,c,t.time,a??n.prevComposition)}else return(s=t.getMeta("rebased"))?new ps(n.done.rebased(t,s),n.undone.rebased(t,s),qh(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ps(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),qh(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function DL(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((i,r)=>{for(let s=0;s<e.length;s+=2)i<=e[s+1]&&r>=e[s]&&(t=!0)}),t}function X0(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((i,r,s,o)=>e.push(s,o));return e}function qh(n,e){if(!n)return null;let t=[];for(let i=0;i<n.length;i+=2){let r=e.map(n[i],1),s=e.map(n[i+1],-1);r<=s&&t.push(r,s)}return t}function AL(n,e,t){let i=Lu(e),r=vo.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,i);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),r,i),l=new ps(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(vo,{redo:t,historyState:l})}let Kh=!1,Z0=null;function Lu(n){let e=n.plugins;if(Z0!=e){Kh=!1,Z0=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Kh=!0;break}}return Kh}const vo=new Nn("history"),PL=new Nn("closeHistory");function RL(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new pn({key:vo,state:{init(){return new ps(Ji.empty,Ji.empty,null,0,-1)},apply(e,t,i){return TL(t,i,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let i=t.inputType,r=i=="historyUndo"?iS:i=="historyRedo"?rS:null;return r?(t.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function nS(n,e){return(t,i)=>{let r=vo.getState(t);if(!r||(n?r.undone:r.done).eventCount==0)return!1;if(i){let s=AL(r,t,n);s&&i(e?s.scrollIntoView():s)}return!0}}const iS=nS(!1,!0),rS=nS(!0,!0);wn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc;if(((n==null?void 0:n.mode)||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new pn({key:new Nn("characterCount"),appendTransaction:(e,t,i)=>{if(n)return;const r=this.options.limit;if(r==null||r===0){n=!0;return}const s=this.storage.characters({node:i.doc});if(s>r){const o=s-r,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const c=i.tr.deleteRange(a,l);return n=!0,c}n=!0},filterTransaction:(e,t)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const r=this.storage.characters({node:t.doc}),s=this.storage.characters({node:e.doc});if(s<=i||r>i&&s>i&&s<=r)return!0;if(r>i&&s>i&&s>r||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-i,c=a-l,u=a;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>i)}})]}});var NL=wn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[gL(this.options)]}});wn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new pn({key:new Nn("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:i}=this.editor,{anchor:r}=e,s=[];if(!t||!i)return cn.create(n,[]);let o=0;this.options.mode==="deepest"&&n.descendants((l,c)=>{if(l.isText)return;if(!(r>=c&&r<=c+l.nodeSize-1))return!1;o+=1});let a=0;return n.descendants((l,c)=>{if(l.isText||!(r>=c&&r<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(ei.node(c,c+l.nodeSize,{class:this.options.className}))}),cn.create(n,s)}}})]}});var IL=wn.create({name:"gapCursor",addProseMirrorPlugins(){return[wL()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Lt(We(n,"allowGapCursor",t)))!=null?e:null}}}),LL=wn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new pn({key:new Nn("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,r=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((o,a)=>{const l=i>=a&&i<=a+o.nodeSize,c=!o.isLeaf&&gf(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=ei.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});r.push(d)}return this.options.includeChildren}),cn.create(n,r)}}})]}});wn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new pn({key:new Nn("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||y_(t.selection)||n.view.dragging?null:cn.create(t.doc,[ei.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function Q0({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||(e==null?void 0:e.type)===n}var FL=wn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const n=new Nn(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>(this.options.notAfter||[]).concat(this.options.node).includes(t.name));return[new pn({key:n,appendTransaction:(t,i,r)=>{const{doc:s,tr:o,schema:a}=r,l=n.getState(r),c=s.content.size,u=a.nodes[this.options.node];if(l)return o.insert(c,u.create())},state:{init:(t,i)=>{const r=i.tr.doc.lastChild;return!Q0({node:r,types:e})},apply:(t,i)=>{if(!t.docChanged)return i;const r=t.doc.lastChild;return!Q0({node:r,types:e})}}})]}}),BL=wn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>iS(n,e),redo:()=>({state:n,dispatch:e})=>rS(n,e)}},addProseMirrorPlugins(){return[RL(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),HL=wn.create({name:"starterKit",addExtensions(){var n,e,t,i;const r=[];return this.options.bold!==!1&&r.push(pI.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(cI.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(Y_.configure(this.options.bulletList)),this.options.code!==!1&&r.push(yI.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(wI.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(xI.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(NL.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(IL.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(kI.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(_I.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(BL.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(SI.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(TI.configure(this.options.italic)),this.options.listItem!==!1&&r.push(U_.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(Z_.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&r.push(eL.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(Q_.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(uL.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(hL.configure(this.options.strike)),this.options.text!==!1&&r.push(pL.configure(this.options.text)),this.options.underline!==!1&&r.push(eS.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&r.push(FL.configure((i=this.options)==null?void 0:i.trailingNode)),r}}),zL=HL,jL=LL,$L=wn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),WL=$L;class VL{constructor(e,t={}){this.element=e,this.options={content:"",placeholder:"Escribe tu contenido aqu...",height:400,...t},this.editor=null,this.init()}init(){this.editor=new rI({element:this.element,extensions:[zL,jL.configure({placeholder:this.options.placeholder}),WL.configure({types:["heading","paragraph"]}),mL],content:this.options.content,onUpdate:({editor:e})=>{this.triggerChangeEvent(e.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none"}}}),this.element.style.minHeight=`${this.options.height}px`,this.element.style.border="1px solid #d1d5db",this.element.style.borderRadius="0.5rem",this.element.style.padding="1rem",this.element.style.fontSize="14px",this.element.style.lineHeight="1.6"}getContent(){return this.editor?this.editor.getHTML():""}setContent(e){this.editor&&this.editor.commands.setContent(e)}insertContent(e){this.editor&&this.editor.commands.insertContent(e)}destroy(){this.editor&&this.editor.destroy()}triggerChangeEvent(e){const t=new CustomEvent("tiptap:change",{detail:{content:e}});this.element.dispatchEvent(t)}}window.TiptapEditor=VL;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _c(n){return n+.5|0}const ws=(n,e,t)=>Math.max(Math.min(n,t),e);function wl(n){return ws(_c(n*2.55),0,255)}function Ts(n){return ws(_c(n*255),0,255)}function zr(n){return ws(_c(n/2.55)/100,0,1)}function ev(n){return ws(_c(n*100),0,100)}const Ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fm=[..."0123456789ABCDEF"],YL=n=>fm[n&15],UL=n=>fm[(n&240)>>4]+fm[n&15],uu=n=>(n&240)>>4===(n&15),qL=n=>uu(n.r)&&uu(n.g)&&uu(n.b)&&uu(n.a);function KL(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ti[n[1]]*17,g:255&Ti[n[2]]*17,b:255&Ti[n[3]]*17,a:e===5?Ti[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ti[n[1]]<<4|Ti[n[2]],g:Ti[n[3]]<<4|Ti[n[4]],b:Ti[n[5]]<<4|Ti[n[6]],a:e===9?Ti[n[7]]<<4|Ti[n[8]]:255})),t}const JL=(n,e)=>n<255?e(n):"";function GL(n){var e=qL(n)?YL:UL;return n?"#"+e(n.r)+e(n.g)+e(n.b)+JL(n.a,e):void 0}const XL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sS(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function ZL(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function QL(n,e,t){const i=sS(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function eF(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function Eg(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=eF(t,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function Og(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Ts)}function Tg(n,e,t){return Og(sS,n,e,t)}function tF(n,e,t){return Og(QL,n,e,t)}function nF(n,e,t){return Og(ZL,n,e,t)}function oS(n){return(n%360+360)%360}function iF(n){const e=XL.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?wl(+e[5]):Ts(+e[5]));const r=oS(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=tF(r,s,o):e[1]==="hsv"?i=nF(r,s,o):i=Tg(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function rF(n,e){var t=Eg(n);t[0]=oS(t[0]+e),t=Tg(t),n.r=t[0],n.g=t[1],n.b=t[2]}function sF(n){if(!n)return;const e=Eg(n),t=e[0],i=ev(e[1]),r=ev(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${zr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const tv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oF(){const n={},e=Object.keys(nv),t=Object.keys(tv);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<t.length;r++)s=t[r],a=a.replace(s,tv[s]);s=parseInt(nv[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let du;function aF(n){du||(du=oF(),du.transparent=[0,0,0,0]);const e=du[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const lF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cF(n){const e=lF.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?wl(o):ws(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?wl(i):ws(i,0,255)),r=255&(e[4]?wl(r):ws(r,0,255)),s=255&(e[6]?wl(s):ws(s,0,255)),{r:i,g:r,b:s,a:t}}}function uF(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${zr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Jh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ra=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function dF(n,e,t){const i=ra(zr(n.r)),r=ra(zr(n.g)),s=ra(zr(n.b));return{r:Ts(Jh(i+t*(ra(zr(e.r))-i))),g:Ts(Jh(r+t*(ra(zr(e.g))-r))),b:Ts(Jh(s+t*(ra(zr(e.b))-s))),a:n.a+t*(e.a-n.a)}}function fu(n,e,t){if(n){let i=Eg(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Tg(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function aS(n,e){return n&&Object.assign(e||{},n)}function iv(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ts(n[3]))):(e=aS(n,{r:0,g:0,b:0,a:1}),e.a=Ts(e.a)),e}function fF(n){return n.charAt(0)==="r"?cF(n):iF(n)}class nc{constructor(e){if(e instanceof nc)return e;const t=typeof e;let i;t==="object"?i=iv(e):t==="string"&&(i=KL(e)||aF(e)||fF(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=aS(this._rgb);return e&&(e.a=zr(e.a)),e}set rgb(e){this._rgb=iv(e)}rgbString(){return this._valid?uF(this._rgb):void 0}hexString(){return this._valid?GL(this._rgb):void 0}hslString(){return this._valid?sF(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=dF(this._rgb,e._rgb,t)),this}clone(){return new nc(this.rgb)}alpha(e){return this._rgb.a=Ts(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=_c(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fu(this._rgb,2,e),this}darken(e){return fu(this._rgb,2,-e),this}saturate(e){return fu(this._rgb,1,e),this}desaturate(e){return fu(this._rgb,1,-e),this}rotate(e){return rF(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Rr(){}const hF=(()=>{let n=0;return()=>n++})();function It(n){return n==null}function Cn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function vt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Gn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ur(n,e){return Gn(n)?n:e}function dt(n,e){return typeof n>"u"?e:n}const pF=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,lS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Zt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ft(n,e,t,i){let r,s,o;if(Cn(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(vt(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function Rd(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Nd(n){if(Cn(n))return n.map(Nd);if(vt(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Nd(n[t[r]]);return e}return n}function cS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function mF(n,e,t,i){if(!cS(n))return;const r=e[n],s=t[n];vt(r)&&vt(s)?ic(r,s,i):e[n]=Nd(s)}function ic(n,e,t){const i=Cn(e)?e:[e],r=i.length;if(!vt(n))return n;t=t||{};const s=t.merger||mF;let o;for(let a=0;a<r;++a){if(o=i[a],!vt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function Fl(n,e){return ic(n,e,{merger:gF})}function gF(n,e,t){if(!cS(n))return;const i=e[n],r=t[n];vt(i)&&vt(r)?Fl(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Nd(r))}const rv={"":n=>n,x:n=>n.x,y:n=>n.y};function yF(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function bF(n){const e=yF(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Do(n,e){return(rv[e]||(rv[e]=bF(e)))(n)}function Dg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const rc=n=>typeof n<"u",Ls=n=>typeof n=="function",sv=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function vF(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const $t=Math.PI,dn=2*$t,wF=dn+$t,Id=Number.POSITIVE_INFINITY,xF=$t/180,En=$t/2,Gs=$t/4,ov=$t*2/3,uS=Math.log10,br=Math.sign;function Bl(n,e,t){return Math.abs(n-e)<t}function av(n){const e=Math.round(n);n=Bl(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(uS(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function kF(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function _F(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function sc(n){return!_F(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function SF(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function MF(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Wr(n){return n*($t/180)}function CF(n){return n*(180/$t)}function lv(n){if(!Gn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function dS(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*$t&&(s+=dn),{angle:s,distance:r}}function hm(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function EF(n,e){return(n-e+wF)%dn-$t}function xi(n){return(n%dn+dn)%dn}function oc(n,e,t,i){const r=xi(n),s=xi(e),o=xi(t),a=xi(s-r),l=xi(o-r),c=xi(r-s),u=xi(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Kn(n,e,t){return Math.max(e,Math.min(t,n))}function OF(n){return Kn(n,-32768,32767)}function Vr(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Ag(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const fo=(n,e,t,i)=>Ag(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),TF=(n,e,t)=>Ag(n,t,i=>n[i][e]>=t);function DF(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const fS=["push","pop","shift","splice","unshift"];function AF(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),fS.forEach(t=>{const i="_onData"+Dg(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function cv(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(fS.forEach(s=>{delete n[s]}),delete n._chartjs)}function hS(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const pS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function mS(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,pS.call(window,()=>{i=!1,n.apply(e,t)}))}}function PF(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const gS=n=>n==="start"?"left":n==="end"?"right":"center",wi=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,RF=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function NF(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:d,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(r=Math.min(fo(l,u,d).lo,t?i:fo(e,u,o.getPixelForValue(d)).lo),c){const g=l.slice(0,r+1).reverse().findIndex(y=>!It(y[a.axis]));r-=Math.max(0,g)}r=Kn(r,0,i-1)}if(m){let g=Math.max(fo(l,o.axis,f,!0).hi+1,t?0:fo(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(g-1).findIndex(v=>!It(v[a.axis]));g+=Math.max(0,y)}s=Kn(g,r,i)-r}else s=i-r}return{start:r,count:s}}function IF(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const hu=n=>n===0||n===1,uv=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*dn/t)),dv=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*dn/t)+1,Hl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*En)+1,easeOutSine:n=>Math.sin(n*En),easeInOutSine:n=>-.5*(Math.cos($t*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>hu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>hu(n)?n:uv(n,.075,.3),easeOutElastic:n=>hu(n)?n:dv(n,.075,.3),easeInOutElastic(n){return hu(n)?n:n<.5?.5*uv(n*2,.1125,.45):.5+.5*dv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Hl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Hl.easeInBounce(n*2)*.5:Hl.easeOutBounce(n*2-1)*.5+.5};function Pg(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function fv(n){return Pg(n)?n:new nc(n)}function Gh(n){return Pg(n)?n:new nc(n).saturate(.5).darken(.1).hexString()}const LF=["x","y","borderWidth","radius","tension"],FF=["color","borderColor","backgroundColor"];function BF(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:FF},numbers:{type:"number",properties:LF}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function HF(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hv=new Map;function zF(n,e){e=e||{};const t=n+JSON.stringify(e);let i=hv.get(t);return i||(i=new Intl.NumberFormat(n,e),hv.set(t,i)),i}function Rg(n,e,t){return zF(e,t).format(n)}const jF={values(n){return Cn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=$F(n,t)}const o=uS(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Rg(n,i,l)}};function $F(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var yS={formatters:jF};function WF(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ao=Object.create(null),pm=Object.create(null);function zl(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function Xh(n,e,t){return typeof e=="string"?ic(zl(n,e),t):ic(zl(n,""),e)}class VF{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Gh(r.backgroundColor),this.hoverBorderColor=(i,r)=>Gh(r.borderColor),this.hoverColor=(i,r)=>Gh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Xh(this,e,t)}get(e){return zl(this,e)}describe(e,t){return Xh(pm,e,t)}override(e,t){return Xh(Ao,e,t)}route(e,t,i,r){const s=zl(this,e),o=zl(this,i),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[r];return vt(l)?Object.assign({},c,l):dt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var yn=new VF({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BF,HF,WF]);function YF(n){return!n||It(n.size)||It(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function pv(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function Xs(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function mv(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function mm(n,e,t,i){bS(n,e,t,i,null)}function bS(n,e,t,i,r){let s,o,a,l,c,u,d,f;const p=e.pointStyle,m=e.rotation,g=e.radius;let y=(m||0)*xF;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(y),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),p){default:r?n.ellipse(t,i,r/2,g,0,0,dn):n.arc(t,i,g,0,dn),n.closePath();break;case"triangle":u=r?r/2:g,n.moveTo(t+Math.sin(y)*u,i-Math.cos(y)*g),y+=ov,n.lineTo(t+Math.sin(y)*u,i-Math.cos(y)*g),y+=ov,n.lineTo(t+Math.sin(y)*u,i-Math.cos(y)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(y+Gs)*l,d=Math.cos(y+Gs)*(r?r/2-c:l),a=Math.sin(y+Gs)*l,f=Math.sin(y+Gs)*(r?r/2-c:l),n.arc(t-d,i-a,c,y-$t,y-En),n.arc(t+f,i-o,c,y-En,y),n.arc(t+d,i+a,c,y,y+En),n.arc(t-f,i+o,c,y+En,y+$t),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=r?r/2:l,n.rect(t-u,i-l,2*u,2*l);break}y+=Gs;case"rectRot":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+f,i-o),n.lineTo(t+d,i+a),n.lineTo(t-f,i+o),n.closePath();break;case"crossRot":y+=Gs;case"cross":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+d,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"star":d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+d,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o),y+=Gs,d=Math.cos(y)*(r?r/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+d,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"line":o=r?r/2:Math.cos(y)*g,a=Math.sin(y)*g,n.moveTo(t-o,i-a),n.lineTo(t+o,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(y)*(r?r/2:g),i+Math.sin(y)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ac(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function wf(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function xf(n){n.restore()}function UF(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function qF(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function KF(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),It(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function JF(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function GF(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ld(n,e,t,i,r,s={}){const o=Cn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=r.string,KF(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&GF(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),It(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,i,s.maxWidth)),n.fillText(c,t,i,s.maxWidth),JF(n,t,i,c,s),i+=Number(r.lineHeight);n.restore()}function Fd(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*$t,$t,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,$t,En,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,En,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-En,!0),n.lineTo(t+o.topLeft,i)}const XF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ZF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function QF(n,e){const t=(""+n).match(XF);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const e2=n=>+n||0;function Ng(n,e){const t={},i=vt(e),r=i?Object.keys(e):e,s=vt(n)?i?o=>dt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=e2(s(o));return t}function vS(n){return Ng(n,{top:"y",right:"x",bottom:"y",left:"x"})}function xa(n){return Ng(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Qi(n){const e=vS(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function fi(n,e){n=n||{},e=e||yn.font;let t=dt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=dt(n.style,e.style);i&&!(""+i).match(ZF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:dt(n.family,e.family),lineHeight:QF(dt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:dt(n.weight,e.weight),string:""};return r.string=YF(r),r}function pu(n,e,t,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function t2(n,e,t){const{min:i,max:r}=n,s=lS(e,(r-i)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function No(n,e){return Object.assign(Object.create(n),e)}function Ig(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=_S("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Ig([a,...n],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return xS(a,l,()=>c2(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return yv(a).includes(l)},ownKeys(a){return yv(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function La(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:wS(n,i),setContext:s=>La(n,s,t,i),override:s=>La(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return xS(s,o,()=>i2(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function wS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Ls(t)?t:()=>t,isIndexable:Ls(i)?i:()=>i}}const n2=(n,e)=>n?n+Dg(e):e,Lg=(n,e)=>vt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function i2(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let a=i[e];return Ls(a)&&o.isScriptable(e)&&(a=r2(e,a,n,t)),Cn(a)&&a.length&&(a=s2(e,a,n,o.isIndexable)),Lg(e,a)&&(a=La(a,r,s&&s[e],o)),a}function r2(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||i);return a.delete(n),Lg(n,l)&&(l=Fg(r._scopes,r,n,l)),l}function s2(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(vt(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Fg(c,r,n,u);e.push(La(d,s,o&&o[n],a))}}return e}function kS(n,e,t){return Ls(n)?n(e,t):n}const o2=(n,e)=>n===!0?e:typeof n=="string"?Do(e,n):void 0;function a2(n,e,t,i,r){for(const s of e){const o=o2(t,s);if(o){n.add(o);const a=kS(o._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function Fg(n,e,t,i){const r=e._rootScopes,s=kS(e._fallback,t,i),o=[...n,...r],a=new Set;a.add(i);let l=gv(a,o,t,s||t,i);return l===null||typeof s<"u"&&s!==t&&(l=gv(a,o,s,l,i),l===null)?!1:Ig(Array.from(a),[""],r,s,()=>l2(e,t,i))}function gv(n,e,t,i,r){for(;t;)t=a2(n,e,t,i,r);return t}function l2(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Cn(r)&&vt(t)?t:r||{}}function c2(n,e,t,i){let r;for(const s of e)if(r=_S(n2(s,n),t),typeof r<"u")return Lg(n,r)?Fg(t,i,n,r):r}function _S(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function yv(n){let e=n._keys;return e||(e=n._keys=u2(n._scopes)),e}function u2(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const d2=Number.EPSILON||1e-14,Fa=(n,e)=>e<n.length&&!n[e].skip&&n[e],SS=n=>n==="x"?"y":"x";function f2(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,a=hm(s,r),l=hm(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function h2(n,e,t){const i=n.length;let r,s,o,a,l,c=Fa(n,0);for(let u=0;u<i-1;++u)if(l=c,c=Fa(n,u+1),!(!l||!c)){if(Bl(e[u],0,d2)){t[u]=t[u+1]=0;continue}r=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=r*o*e[u],t[u+1]=s*o*e[u])}}function p2(n,e,t="x"){const i=SS(t),r=n.length;let s,o,a,l=Fa(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Fa(n,c+1),!a)continue;const u=a[t],d=a[i];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${i}`]=d+s*e[c])}}function m2(n,e="x"){const t=SS(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Fa(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=Fa(n,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?br(r[o-1])!==br(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}h2(n,r,s),p2(n,s,e)}function mu(n,e,t){return Math.max(Math.min(n,t),e)}function g2(n,e){let t,i,r,s,o,a=ac(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=a,a=t<i-1&&ac(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=mu(r.cp1x,e.left,e.right),r.cp1y=mu(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=mu(r.cp2x,e.left,e.right),r.cp2y=mu(r.cp2y,e.top,e.bottom)))}function y2(n,e,t,i,r){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")m2(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=f2(c,a,n[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&g2(n,t)}function Bg(){return typeof window<"u"&&typeof document<"u"}function Hg(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bd(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const kf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function b2(n,e){return kf(n).getPropertyValue(e)}const v2=["top","right","bottom","left"];function wo(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=v2[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const w2=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function x2(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(w2(r,s,n.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function eo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=kf(t),s=r.boxSizing==="border-box",o=wo(r,"padding"),a=wo(r,"border","width"),{x:l,y:c,box:u}=x2(n,t),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:m}=e;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/p*t.width/i),y:Math.round((c-f)/m*t.height/i)}}function k2(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&Hg(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),a=kf(s),l=wo(a,"border","width"),c=wo(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,i=Bd(a.maxWidth,s,"clientWidth"),r=Bd(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||Id,maxHeight:r||Id}}const gu=n=>Math.round(n*10)/10;function _2(n,e,t,i){const r=kf(n),s=wo(r,"margin"),o=Bd(r.maxWidth,n,"clientWidth")||Id,a=Bd(r.maxHeight,n,"clientHeight")||Id,l=k2(n,e,t);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=wo(r,"border","width"),p=wo(r,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=gu(Math.min(c,o,l.maxWidth)),u=gu(Math.min(u,a,l.maxHeight)),c&&!u&&(u=gu(c/2)),(e!==void 0||t!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=gu(Math.floor(u*i))),{width:c,height:u}}function bv(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const S2=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Bg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function vv(n,e){const t=b2(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function to(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function M2(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function C2(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=to(n,r,t),a=to(r,s,t),l=to(s,e,t),c=to(o,a,t),u=to(a,l,t);return to(c,u,t)}const E2=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},O2=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ka(n,e,t){return n?E2(e,t):O2()}function MS(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function CS(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function ES(n){return n==="angle"?{between:oc,compare:EF,normalize:xi}:{between:Vr,compare:(e,t)=>e-t,normalize:e=>e}}function wv({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function T2(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:a}=ES(i),l=e.length;let{start:c,end:u,loop:d}=n,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function OS(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=ES(i),{start:u,end:d,loop:f,style:p}=T2(n,e,t),m=[];let g=!1,y=null,v,x,S;const O=()=>l(r,S,v)&&a(r,S)!==0,T=()=>a(s,v)===0||l(s,S,v),A=()=>g||O(),D=()=>!g||T();for(let P=u,B=u;P<=d;++P)x=e[P%o],!x.skip&&(v=c(x[i]),v!==S&&(g=l(v,r,s),y===null&&A()&&(y=a(v,r)===0?P:B),y!==null&&D()&&(m.push(wv({start:y,end:P,loop:f,count:o,style:p})),y=null),B=P,S=v));return y!==null&&m.push(wv({start:y,end:d,loop:f,count:o,style:p})),m}function TS(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=OS(i[r],n.points,e);s.length&&t.push(...s)}return t}function D2(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function A2(n,e,t,i){const r=n.length,s=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function P2(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:a}=D2(t,r,s,i);if(i===!0)return xv(n,[{start:o,end:a,loop:s}],t,e);const l=a<o?a+r:a,c=!!n._fullLoop&&o===0&&a===r-1;return xv(n,A2(t,o,l,c),t,e)}function xv(n,e,t,i){return!i||!i.setContext||!t?e:R2(n,e,t,i)}function R2(n,e,t,i){const r=n._chart.getContext(),s=kv(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=s,d=e[0].start,f=d;function p(m,g,y,v){const x=a?-1:1;if(m!==g){for(m+=l;t[m%l].skip;)m-=x;for(;t[g%l].skip;)g+=x;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:y,style:v}),u=v,d=g%l)}}for(const m of e){d=a?d:m.start;let g=t[d%l],y;for(f=d+1;f<=m.end;f++){const v=t[f%l];y=kv(i.setContext(No(r,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),N2(y,u)&&p(d,f-1,m.loop,u),g=v,u=y}d<f-1&&p(d,f-1,m.loop,u)}return c}function kv(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function N2(n,e){if(!e)return!1;const t=[],i=function(r,s){return Pg(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function yu(n,e,t){return n.options.clip?n[t]:e[t]}function I2(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:yu(t,e,"left"),right:yu(t,e,"right"),top:yu(i,e,"top"),bottom:yu(i,e,"bottom")}:e}function DS(n,e){const t=e._clip;if(t.disabled)return!1;const i=I2(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class L2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=pS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Lr=new L2;const _v="transparent",F2={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=fv(n||_v),r=i.valid&&fv(e||_v);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class B2{constructor(e,t,i,r){const s=t[i];r=pu([e.to,r,s,e.from]);const o=pu([e.from,s,r]);this._active=!0,this._fn=e.fn||F2[e.type||typeof o],this._easing=Hl[e.easing]||Hl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=pu([e.to,t,r,e.from]),this._from=pu([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||t<i),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=s;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class AS{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!vt(e))return;const t=Object.keys(yn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!vt(s))return;const o={};for(const a of t)o[a]=s[a];(Cn(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){const i=t.options,r=z2(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&H2(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,t));continue}const u=t[c];let d=s[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new B2(f,e,c,u),r.push(d)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Lr.add(this._chart,i),!0}}function H2(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function z2(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Sv(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function j2(n,e,t){if(t===!1)return!1;const i=Sv(n,t),r=Sv(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function $2(n){let e,t,i,r;return vt(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function PS(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Mv(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===t){if(u=!0,i.all)continue;break}c=n.values[l],Gn(c)&&(s||e===0||br(e)===br(c))&&(e+=c)}return!u&&!i.all?0:e}function W2(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:n[u]};return a}function Zh(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function V2(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Y2(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function U2(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Cv(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Ev(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=V2(s,o,i),d=e.length;let f;for(let p=0;p<d;++p){const m=e[p],{[l]:g,[c]:y}=m,v=m._stacks||(m._stacks={});f=v[c]=U2(r,u,g),f[a]=y,f._top=Cv(f,o,!0,i.type),f._bottom=Cv(f,o,!1,i.type);const x=f._visualValues||(f._visualValues={});x[a]=y}}function Qh(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function q2(n,e){return No(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function K2(n,e,t){return No(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ll(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const ep=n=>n==="reset"||n==="none",Ov=(n,e)=>e?n:Object.assign({},n),J2=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:PS(t,!0),values:null};class xo{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Zh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ll(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(d,f,p,m)=>d==="x"?f:d==="r"?m:p,s=t.xAxisID=dt(i.xAxisID,Qh(e,"x")),o=t.yAxisID=dt(i.yAxisID,Qh(e,"y")),a=t.rAxisID=dt(i.rAxisID,Qh(e,"r")),l=t.indexAxis,c=t.iAxisID=r(l,s,o,a),u=t.vAxisID=r(l,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cv(this._data,this),e._stacked&&ll(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(vt(t)){const r=this._cachedMeta;this._data=W2(t,r)}else if(i!==t){if(i){cv(i,this);const r=this._cachedMeta;ll(r),r._parsed=[]}t&&Object.isExtensible(t)&&AF(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=Zh(t.vScale,t),t.stack!==i.stack&&(r=!0,ll(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Ev(this,t._parsed),t._stacked=Zh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&t===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{Cn(r[e])?f=this.parseArrayData(i,r,e,t):vt(r[e])?f=this.parseObjectData(i,r,e,t):f=this.parsePrimitiveData(i,r,e,t);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<t;++u)i._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);i._sorted=l}o&&Ev(this,f)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(r);let f,p,m;for(f=0,p=r;f<p;++f)m=f+i,d[f]={[a]:u||s.parse(c[m],m),[l]:o.parse(t[m],m)};return d}parseArrayData(e,t,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=t[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,t,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,f,p;for(u=0,d=r;u<d;++u)f=u+i,p=t[f],c[u]={x:s.parse(Do(p,a),f),y:o.parse(Do(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:PS(r,!0),values:t._stacks[e.axis]._visualValues};return Mv(a,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let o=s===null?NaN:s;const a=r&&i._stacks[t.axis];r&&a&&(r.values=a,o=Mv(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=J2(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Y2(a);let f,p;function m(){p=r[f];const g=p[a.axis];return!Gn(p[e.axis])||u>g||d<g}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],Gn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=$2(dt(this.options.clip,j2(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=K2(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=q2(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],l=this.enableOptionSharing&&rc(i);if(a)return Ov(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(yn.elements[e]),m=()=>this.getContext(i,r,t),g=c.resolveNamedOptions(f,p,m,d);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(Ov(g,l))),g}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,t),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,i,t))}const c=new AS(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ep(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,r){ep(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!ep(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&ll(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Pe(xo,"defaults",{}),Pe(xo,"datasetElementType",null),Pe(xo,"dataElementType",null);function G2(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=hS(i.sort((r,s)=>r-s))}return n._cache.$bar}function X2(n){const e=n.iScale,t=G2(e,n.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(rc(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function Z2(n,e,t,i){const r=t.barThickness;let s,o;return It(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function Q2(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:t.barPercentage,start:c}}function eB(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function RS(n,e,t,i){return Cn(n)?eB(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Tv(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,f;for(c=t,u=t+i;c<u;++c)f=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(RS(f,d,s,c));return l}function tp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function tB(n,e,t){return n!==0?br(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nB(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function iB(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=nB(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=c:(t._bottom||0)===i?r=u:(s[Dv(u,o,a,l)]=!0,r=c)),s[Dv(r,o,a,l)]=!0,n.borderSkipped=s}function Dv(n,e,t,i){return i?(n=rB(n,e,t),n=Av(n,t,e)):n=Av(n,e,t),n}function rB(n,e,t){return n===e?t:n===t?e:n}function Av(n,e,t){return n==="start"?e:n==="end"?t:n}function sB(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class _a extends xo{parsePrimitiveData(e,t,i,r){return Tv(e,t,i,r)}parseArrayData(e,t,i,r){return Tv(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,p,m,g;for(f=i,p=i+r;f<p;++f)g=t[f],m={},m[s.axis]=s.parse(Do(g,c),f),d.push(RS(Do(g,u),m,o,f));return d}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),o=s._custom,a=tp(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(t,r);for(let p=t;p<t+i;p++){const m=this.getParsed(p),g=s||It(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),v=(m._stacks||{})[a.axis],x={horizontal:c,base:g.base,enableBorderRadius:!v||tp(m._custom)||o===v._top||o===v._bottom,x:c?g.head:y.center,y:c?y.center:g.head,height:c?y.size:Math.abs(g.size),width:c?Math.abs(g.size):y.size};f&&(x.options=d||this.resolveDataElementOptions(p,e[p].active?"active":r));const S=x.options||e[p].options;iB(x,S,v,o),sB(x,S,u.ratio),this.updateElement(e[p],p,x,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(p=>p[i.axis]===l),f=d&&d[u.vScale.axis];if(It(f)||isNaN(f))return!0};for(const u of r)if(!(t!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[dt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||X2(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=tp(c);let d=l[t.axis],f=0,p=i?this.applyStack(t,l,i):d,m,g;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&br(d)!==br(c.barEnd)&&(f=0),f+=d);const y=!It(s)&&!u?s:f;let v=t.getPixelForValue(y);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(f+p):m=v,g=m-v,Math.abs(g)<o){g=tB(g,t,a)*o,d===a&&(v-=g/2);const x=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),O=Math.min(x,S),T=Math.max(x,S);v=Math.max(Math.min(v,T),O),m=v+g,i&&!u&&(l._stacks[t.axis]._visualValues[r]=t.getValueForPixel(m)-t.getValueForPixel(v))}if(v===t.getPixelForValue(a)){const x=br(g)*t.getLineWidthForValue(a)/2;v+=x,g-=x}return{size:g,base:v,head:m,center:m+g/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,o=dt(r.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(t.grouped){const u=s?this._getStackCount(e):t.stackCount,d=r.barThickness==="flex"?Q2(e,t,r,u*c):Z2(e,t,r,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(dt(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;a=d.start+d.chunk*m+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Pe(_a,"id","bar"),Pe(_a,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Pe(_a,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function oB(n,e,t){let i=1,r=1,s=0,o=0;if(e<dn){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(S,O,T)=>oc(S,a,l,!0)?1:Math.max(O,O*t,T,T*t),m=(S,O,T)=>oc(S,a,l,!0)?-1:Math.min(O,O*t,T,T*t),g=p(0,c,d),y=p(En,u,f),v=m($t,c,d),x=m($t+En,u,f);i=(g-v)/2,r=(y-x)/2,s=-(g+v)/2,o=-(y+x)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class xl extends xo{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(vt(i[e])){const{key:l="value"}=this._parsing;s=c=>+Do(i[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Wr(this.options.rotation-90)}_getCircumference(){return Wr(this.options.circumference)}_getRotationExtents(){let e=dn,t=-dn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(pF(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=oB(d,u,l),y=(i.width-o)/f,v=(i.height-o)/p,x=Math.max(Math.min(y,v)/2,0),S=lS(this.options.radius,x),O=Math.max(S*l,0),T=(S-O)/this._getVisibleDatasetWeightTotal();this.offsetX=m*S,this.offsetY=g*S,r.total=this.calculateTotal(),this.outerRadius=S-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/dn)}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,r);let v=this._getRotation(),x;for(x=0;x<t;++x)v+=this._circumference(x,s);for(x=t;x<t+i;++x){const S=this._circumference(x,s),O=e[x],T={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+S,circumference:S,outerRadius:m,innerRadius:p};y&&(T.options=g||this.resolveDataElementOptions(x,O.active?"active":r)),v+=S,this.updateElement(O,x,T,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?dn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Rg(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pe(xl,"id","doughnut"),Pe(xl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pe(xl,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Pe(xl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Ds extends xo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=NF(t,r,o);this._drawStart=a,this._drawCount=l,IF(t)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r),f=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,y=sc(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",x=t+i,S=e.length;let O=t>0&&this.getParsed(t-1);for(let T=0;T<S;++T){const A=e[T],D=v?A:{};if(T<t||T>=x){D.skip=!0;continue}const P=this.getParsed(T),B=It(P[p]),Y=D[f]=o.getPixelForValue(P[f],T),ee=D[p]=s||B?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[p],T);D.skip=isNaN(Y)||isNaN(ee)||B,D.stop=T>0&&Math.abs(P[f]-O[f])>y,g&&(D.parsed=P,D.raw=c.data[T]),d&&(D.options=u||this.resolveDataElementOptions(T,A.active?"active":r)),v||this.updateElement(A,T,D,r),O=P}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Pe(Ds,"id","line"),Pe(Ds,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Pe(Ds,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Zs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zg{constructor(e){Pe(this,"options");this.options=e||{}}static override(e){Object.assign(zg.prototype,e)}init(){}formats(){return Zs()}parse(){return Zs()}format(){return Zs()}add(){return Zs()}diff(){return Zs()}startOf(){return Zs()}endOf(){return Zs()}}var NS={_date:zg};function aB(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?TF:fo;if(i){if(r._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(s,e,t-d),p=c(s,e,t+d);return{lo:f.lo,hi:p.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:d}=r._cachedMeta,{_parsed:f}=n,p=f.slice(0,u.lo+1).reverse().findIndex(g=>!It(g[d.axis]));u.lo-=Math.max(0,p);const m=f.slice(u.hi).findIndex(g=>!It(g[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function _f(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=aB(s[a],e,o,r);for(let p=d;p<=f;++p){const m=u[p];m.skip||i(m,c,p)}}}function lB(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function np(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||_f(n,t,e,function(a,l,c){!r&&!ac(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function cB(n,e,t,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=dS(o,{x:e.x,y:e.y});oc(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return _f(n,t,e,s),r}function uB(n,e,t,i,r,s){let o=[];const a=lB(t);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,r);if(i&&!p)return;const m=u.getCenterPoint(r);if(!(!!s||n.isPointInArea(m))&&!p)return;const y=a(e,m);y<l?(o=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:f})}return _f(n,t,e,c),o}function ip(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?cB(n,e,t,r):uB(n,e,t,i,r,s)}function Pv(n,e,t,i,r){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return _f(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var dB={modes:{index(n,e,t,i){const r=eo(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?np(n,r,s,i,o):ip(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,i){const r=eo(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?np(n,r,s,i,o):ip(n,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,i){const r=eo(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return np(n,r,s,i,o)},nearest(n,e,t,i){const r=eo(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return ip(n,r,s,t.intersect,i,o)},x(n,e,t,i){const r=eo(e,n);return Pv(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=eo(e,n);return Pv(n,r,"y",t.intersect,i)}}};const IS=["left","top","right","bottom"];function cl(n,e){return n.filter(t=>t.pos===e)}function Rv(n,e){return n.filter(t=>IS.indexOf(t.pos)===-1&&t.box.axis===e)}function ul(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function fB(n){const e=[];let t,i,r,s,o,a;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function hB(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!IS.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function pB(n,e){const t=hB(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return t}function mB(n){const e=fB(n),t=ul(e.filter(c=>c.box.fullSize),!0),i=ul(cl(e,"left"),!0),r=ul(cl(e,"right")),s=ul(cl(e,"top"),!0),o=ul(cl(e,"bottom")),a=Rv(e,"x"),l=Rv(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:cl(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Nv(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function LS(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function gB(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!vt(r)){t.size&&(n[r]-=t.size);const d=i[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?s.height:s.width),t.size=d.size/d.count,n[r]+=t.size}s.getPadding&&LS(o,s.getPadding());const a=Math.max(0,e.outerWidth-Nv(o,n,"left","right")),l=Math.max(0,e.outerHeight-Nv(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function yB(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function bB(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function kl(n,e,t,i){const r=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,bB(a.horizontal,e));const{same:d,other:f}=gB(e,t,a,i);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&kl(r,e,t,i)||u}function bu(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Iv(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const a of n){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;rc(c.start)&&(o=c.start),l.fullSize?bu(l,r.left,o,t.outerWidth-r.right-r.left,f):bu(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;rc(c.start)&&(s=c.start),l.fullSize?bu(l,s,r.top,f,t.outerHeight-r.bottom-r.top):bu(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var xs={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Qi(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),a=mB(n.boxes),l=a.vertical,c=a.horizontal;Ft(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);LS(f,Qi(i));const p=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),m=pB(l.concat(c),d);kl(a.fullSize,p,d,m),kl(l,p,d,m),kl(c,p,d,m)&&kl(l,p,d,m),yB(p),Iv(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,Iv(a.rightAndBottom,p,d,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ft(a.chartArea,g=>{const y=g.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class FS{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class vB extends FS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fu="$chartjs",wB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lv=n=>n===null||n==="";function xB(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Fu]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Lv(r)){const s=vv(n,"width");s!==void 0&&(n.width=s)}if(Lv(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=vv(n,"height");s!==void 0&&(n.height=s)}return n}const BS=S2?{passive:!0}:!1;function kB(n,e,t){n&&n.addEventListener(e,t,BS)}function _B(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,BS)}function SB(n,e){const t=wB[n.type]||n.type,{x:i,y:r}=eo(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Hd(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function MB(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Hd(a.addedNodes,i),o=o&&!Hd(a.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function CB(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Hd(a.removedNodes,i),o=o&&!Hd(a.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const lc=new Map;let Fv=0;function HS(){const n=window.devicePixelRatio;n!==Fv&&(Fv=n,lc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function EB(n,e){lc.size||window.addEventListener("resize",HS),lc.set(n,e)}function OB(n){lc.delete(n),lc.size||window.removeEventListener("resize",HS)}function TB(n,e,t){const i=n.canvas,r=i&&Hg(i);if(!r)return;const s=mS((a,l)=>{const c=r.clientWidth;t(a,l),c<r.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),EB(n,s),o}function rp(n,e,t){t&&t.disconnect(),e==="resize"&&OB(n)}function DB(n,e,t){const i=n.canvas,r=mS(s=>{n.ctx!==null&&t(SB(s,n))},n);return kB(i,e,r),r}class AB extends FS{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(xB(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Fu])return!1;const i=t[Fu].initial;["height","width"].forEach(s=>{const o=i[s];It(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Fu],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:MB,detach:CB,resize:TB}[t]||DB;r[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:rp,detach:rp,resize:rp}[t]||_B)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return _2(e,t,i,r)}isAttached(e){const t=e&&Hg(e);return!!(t&&t.isConnected)}}function PB(n){return!Bg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?vB:AB}var Ou;let Hs=(Ou=class{constructor(){Pe(this,"x");Pe(this,"y");Pe(this,"active",!1);Pe(this,"options");Pe(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return sc(this.x)&&sc(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},Pe(Ou,"defaults",{}),Pe(Ou,"defaultRoutes"),Ou);function RB(n,e){const t=n.options.ticks,i=NB(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?LB(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return FB(e,c,s,o/r),c;const u=IB(s,e,r);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(vu(e,c,u,It(p)?0:a-p,a),d=0,f=o-1;d<f;d++)vu(e,c,u,s[d],s[d+1]);return vu(e,c,u,l,It(p)?e.length:l+p),c}return vu(e,c,u),c}function NB(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function IB(n,e,t){const i=BB(n),r=e.length/t;if(!i)return Math.max(r,1);const s=kF(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function LB(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function FB(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function vu(n,e,t,i,r){const s=dt(i,0),o=Math.min(dt(r,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),r&&(l=r-i,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}function BB(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const HB=n=>n==="left"?"right":n==="right"?"left":n,Bv=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Hv=(n,e)=>Math.min(e||n,n);function zv(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function zB(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(r),c;if(!(t&&(i===1?c=Math.max(l-s,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function jB(n,e){Ft(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function dl(n){return n.drawTicks?n.tickLength:0}function jv(n,e){if(!n.display)return 0;const t=fi(n.font,e),i=Qi(n.padding);return(Cn(n.text)?n.text.length:1)*t.lineHeight+i.height}function $B(n,e){return No(n,{scale:e,type:"scale"})}function WB(n,e,t){return No(n,{tick:t,index:e,type:"tick"})}function VB(n,e,t){let i=gS(n);return(t&&e!=="right"||!t&&e==="right")&&(i=HB(i)),i}function YB(n,e,t,i){const{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let d=0,f,p,m;const g=o-r,y=a-s;if(n.isHorizontal()){if(p=wi(i,s,a),vt(t)){const v=Object.keys(t)[0],x=t[v];m=u[v].getPixelForValue(x)+g-e}else t==="center"?m=(c.bottom+c.top)/2+g-e:m=Bv(n,t,e);f=a-s}else{if(vt(t)){const v=Object.keys(t)[0],x=t[v];p=u[v].getPixelForValue(x)-y+e}else t==="center"?p=(c.left+c.right)/2-y+e:p=Bv(n,t,e);m=wi(i,o,r),d=t==="left"?-En:En}return{titleX:p,titleY:m,maxWidth:f,rotation:d}}class ja extends Hs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=ur(e,Number.POSITIVE_INFINITY),t=ur(t,Number.NEGATIVE_INFINITY),i=ur(i,Number.POSITIVE_INFINITY),r=ur(r,Number.NEGATIVE_INFINITY),{min:ur(e,i),max:ur(t,r),minDefined:Gn(e),maxDefined:Gn(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:ur(t,ur(i,t)),max:ur(i,ur(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=t2(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?zv(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=RB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zt(this.options.afterUpdate,[this])}beforeSetDimensions(){Zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Zt(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Hv(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=Kn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),d+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-dl(e.grid)-t.padding-jv(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=CF(Math.min(Math.asin(Kn((u.highest.height+6)/a,-1,1)),Math.asin(Kn(l/c,-1,1))-Math.asin(Kn(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=jv(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=dl(s)+l):(e.height=this.maxHeight,e.width=dl(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=i.padding*2,m=Wr(this.labelRotation),g=Math.cos(m),y=Math.sin(m);if(a){const v=i.mirror?0:y*d.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=i.mirror?0:g*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(c,u,y,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=r*e.width,p=i*t.height):(f=i*e.height,p=r*t.width):s==="start"?p=t.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=t.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)It(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=zv(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/Hv(t,i));let c=0,u=0,d,f,p,m,g,y,v,x,S,O,T;for(d=0;d<t;d+=l){if(m=e[d].label,g=this._resolveTickFontOptions(d),r.font=y=g.string,v=s[y]=s[y]||{data:{},gc:[]},x=g.lineHeight,S=O=0,!It(m)&&!Cn(m))S=pv(r,v.data,v.gc,S,m),O=x;else if(Cn(m))for(f=0,p=m.length;f<p;++f)T=m[f],!It(T)&&!Cn(T)&&(S=pv(r,v.data,v.gc,S,T),O+=x);o.push(S),a.push(O),c=Math.max(S,c),u=Math.max(O,u)}jB(s,t);const A=o.indexOf(c),D=a.indexOf(u),P=B=>({width:o[B]||0,height:a[B]||0});return{first:P(0),last:P(t-1),widest:P(A),highest:P(D),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return OF(this._alignToPixels?Xs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=WB(this.getContext(),e,i))}return this.$context||(this.$context=$B(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Wr(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=dl(s),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,y=g/2,v=function(qe){return Xs(i,qe,g)};let x,S,O,T,A,D,P,B,Y,ee,U,me;if(o==="top")x=v(this.bottom),D=this.bottom-f,B=x-y,ee=v(e.top)+y,me=e.bottom;else if(o==="bottom")x=v(this.top),ee=e.top,me=v(e.bottom)-y,D=x+y,B=this.top+f;else if(o==="left")x=v(this.right),A=this.right-f,P=x-y,Y=v(e.left)+y,U=e.right;else if(o==="right")x=v(this.left),Y=e.left,U=v(e.right)-y,A=x+y,P=this.left+f;else if(t==="x"){if(o==="center")x=v((e.top+e.bottom)/2+.5);else if(vt(o)){const qe=Object.keys(o)[0],Ke=o[qe];x=v(this.chart.scales[qe].getPixelForValue(Ke))}ee=e.top,me=e.bottom,D=x+y,B=D+f}else if(t==="y"){if(o==="center")x=v((e.left+e.right)/2);else if(vt(o)){const qe=Object.keys(o)[0],Ke=o[qe];x=v(this.chart.scales[qe].getPixelForValue(Ke))}A=x-y,P=A-f,Y=e.left,U=e.right}const Ze=dt(r.ticks.maxTicksLimit,d),Te=Math.max(1,Math.ceil(d/Ze));for(S=0;S<d;S+=Te){const qe=this.getContext(S),Ke=s.setContext(qe),_t=a.setContext(qe),mt=Ke.lineWidth,tn=Ke.color,ze=_t.dash||[],Re=_t.dashOffset,je=Ke.tickWidth,Be=Ke.tickColor,be=Ke.tickBorderDash||[],ue=Ke.tickBorderDashOffset;O=zB(this,S,l),O!==void 0&&(T=Xs(i,O,mt),c?A=P=Y=U=T:D=B=ee=me=T,p.push({tx1:A,ty1:D,tx2:P,ty2:B,x1:Y,y1:ee,x2:U,y2:me,width:mt,color:tn,borderDash:ze,borderDashOffset:Re,tickWidth:je,tickColor:Be,tickBorderDash:be,tickBorderDashOffset:ue}))}return this._ticksLength=d,this._borderValue=x,p}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=dl(i.grid),p=f+u,m=d?-u:p,g=-Wr(this.labelRotation),y=[];let v,x,S,O,T,A,D,P,B,Y,ee,U,me="middle";if(r==="top")A=this.bottom-m,D=this._getXAxisLabelAlignment();else if(r==="bottom")A=this.top+m,D=this._getXAxisLabelAlignment();else if(r==="left"){const Te=this._getYAxisLabelAlignment(f);D=Te.textAlign,T=Te.x}else if(r==="right"){const Te=this._getYAxisLabelAlignment(f);D=Te.textAlign,T=Te.x}else if(t==="x"){if(r==="center")A=(e.top+e.bottom)/2+p;else if(vt(r)){const Te=Object.keys(r)[0],qe=r[Te];A=this.chart.scales[Te].getPixelForValue(qe)+p}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")T=(e.left+e.right)/2-p;else if(vt(r)){const Te=Object.keys(r)[0],qe=r[Te];T=this.chart.scales[Te].getPixelForValue(qe)}D=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?me="top":l==="end"&&(me="bottom"));const Ze=this._getLabelSizes();for(v=0,x=a.length;v<x;++v){S=a[v],O=S.label;const Te=s.setContext(this.getContext(v));P=this.getPixelForTick(v)+s.labelOffset,B=this._resolveTickFontOptions(v),Y=B.lineHeight,ee=Cn(O)?O.length:1;const qe=ee/2,Ke=Te.color,_t=Te.textStrokeColor,mt=Te.textStrokeWidth;let tn=D;o?(T=P,D==="inner"&&(v===x-1?tn=this.options.reverse?"left":"right":v===0?tn=this.options.reverse?"right":"left":tn="center"),r==="top"?c==="near"||g!==0?U=-ee*Y+Y/2:c==="center"?U=-Ze.highest.height/2-qe*Y+Y:U=-Ze.highest.height+Y/2:c==="near"||g!==0?U=Y/2:c==="center"?U=Ze.highest.height/2-qe*Y:U=Ze.highest.height-ee*Y,d&&(U*=-1),g!==0&&!Te.showLabelBackdrop&&(T+=Y/2*Math.sin(g))):(A=P,U=(1-ee)*Y/2);let ze;if(Te.showLabelBackdrop){const Re=Qi(Te.backdropPadding),je=Ze.heights[v],Be=Ze.widths[v];let be=U-Re.top,ue=0-Re.left;switch(me){case"middle":be-=je/2;break;case"bottom":be-=je;break}switch(D){case"center":ue-=Be/2;break;case"right":ue-=Be;break;case"inner":v===x-1?ue-=Be:v>0&&(ue-=Be/2);break}ze={left:ue,top:be,width:Be+Re.width,height:je+Re.height,color:Te.backdropColor}}y.push({label:O,font:B,textOffset:U,options:{rotation:g,color:Ke,strokeColor:_t,strokeWidth:mt,textAlign:tn,textBaseline:me,translation:[T,A],backdrop:ze}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Wr(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return t==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const l=r[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Xs(e,this.left,o)-o/2,u=Xs(e,this.right,a)+a/2,d=f=l):(d=Xs(e,this.top,o)-o/2,f=Xs(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&wf(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ld(i,c,0,u,l,a)}r&&xf(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=fi(i.font),o=Qi(i.padding),a=i.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||vt(t)?(l+=o.bottom,Cn(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=YB(this,l,t,a);Ld(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:VB(a,t,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=dt(e.grid&&e.grid.z,-1),r=dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ja.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return fi(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wu{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;KB(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,UB(e,o,i),this.override&&yn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in yn[r]&&(delete yn[r][i],this.override&&delete Ao[i])}}function UB(n,e,t){const i=ic(Object.create(null),[t?yn.get(t):{},yn.get(e),n.defaults]);yn.set(e,i),n.defaultRoutes&&qB(e,n.defaultRoutes),n.descriptors&&yn.describe(e,n.descriptors)}function qB(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");yn.route(s,r,l,a)})}function KB(n){return"id"in n&&"defaults"in n}class JB{constructor(){this.controllers=new wu(xo,"datasets",!0),this.elements=new wu(Hs,"elements"),this.plugins=new wu(Object,"plugins"),this.scales=new wu(ja,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ft(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){const r=Dg(e);Zt(i["before"+r],[],i),t[e](i),Zt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var mr=new JB;class GB{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[t,r,s.options];if(Zt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){It(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=dt(i.options&&i.options.plugins,{}),s=XB(i);return r===!1&&!t?[]:QB(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function XB(n){const e={},t=[],i=Object.keys(mr.plugins.items);for(let s=0;s<i.length;s++)t.push(mr.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function ZB(n,e){return!e&&n===!1?null:n===!0?{}:n}function QB(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const a of e){const l=a.id,c=ZB(i[l],r);c!==null&&s.push({plugin:a,options:eH(n.config,{plugin:a,local:t[l]},c,o)})}return s}function eH(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gm(n,e){const t=yn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function tH(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function nH(n,e){return n===e?"_index_":"_value_"}function $v(n){if(n==="x"||n==="y"||n==="r")return n}function iH(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ym(n,...e){if($v(n))return n;for(const t of e){const i=t.axis||iH(t.position)||n.length>1&&$v(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Wv(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function rH(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Wv(n,"x",t[0])||Wv(n,"y",t[0])}return{}}function sH(n,e){const t=Ao[n.type]||{scales:{}},i=e.scales||{},r=gm(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!vt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ym(o,a,rH(o,n),yn.scales[a.type]),c=nH(l,r),u=t.scales||{};s[o]=Fl(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||gm(a,e),u=(Ao[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=tH(d,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Fl(s[p],[{axis:f},i[p],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Fl(a,[yn.scales[a.type],yn.scale])}),s}function zS(n){const e=n.options||(n.options={});e.plugins=dt(e.plugins,{}),e.scales=sH(n,e)}function jS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function oH(n){return n=n||{},n.data=jS(n.data),zS(n),n}const Vv=new Map,$S=new Set;function xu(n,e){let t=Vv.get(n);return t||(t=e(),Vv.set(n,t),$S.add(t)),t}const fl=(n,e,t)=>{const i=Do(e,t);i!==void 0&&n.add(i)};class aH{constructor(e){this._config=oH(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return xu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return xu(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return xu(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return xu(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(d=>fl(l,e,d))),u.forEach(d=>fl(l,r,d)),u.forEach(d=>fl(l,Ao[s]||{},d)),u.forEach(d=>fl(l,yn,d)),u.forEach(d=>fl(l,pm,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),$S.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ao[t]||{},yn.datasets[t]||{},{type:t},yn,pm]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Yv(this._resolverCache,e,r);let l=o;if(cH(o,t)){s.$shared=!1,i=Ls(i)?i():i;const c=this.createResolver(e,i,a);l=La(o,i,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,i=[""],r){const{resolver:s}=Yv(this._resolverCache,e,i);return vt(t)?La(s,t,void 0,r):s}}function Yv(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:Ig(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const lH=n=>vt(n)&&Object.getOwnPropertyNames(n).some(e=>Ls(n[e]));function cH(n,e){const{isScriptable:t,isIndexable:i}=wS(n);for(const r of e){const s=t(r),o=i(r),a=(o||s)&&n[r];if(s&&(Ls(a)||lH(a))||o&&Cn(a))return!0}return!1}var uH="4.5.0";const dH=["top","bottom","left","right","chartArea"];function Uv(n,e){return n==="top"||n==="bottom"||dH.indexOf(n)===-1&&e==="x"}function qv(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Kv(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Zt(t&&t.onComplete,[n],e)}function fH(n){const e=n.chart,t=e.options.animation;Zt(t&&t.onProgress,[n],e)}function WS(n){return Bg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Bu={},Jv=n=>{const e=WS(n);return Object.values(Bu).filter(t=>t.canvas===e).pop()};function hH(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function pH(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class Xe{static register(...e){mr.add(...e),Gv()}static unregister(...e){mr.remove(...e),Gv()}constructor(e,t){const i=this.config=new aH(t),r=WS(e),s=Jv(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||PB(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=hF(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new GB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=PF(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Bu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Lr.listen(this,"complete",Kv),Lr.listen(this,"progress",fH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return It(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return mr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mv(this.canvas,this.ctx),this}stop(){return Lr.stop(this),this}resize(e,t){Lr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,bv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Zt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ft(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],l=ym(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ft(s,o=>{const a=o.options,l=a.id,c=ym(l,a),u=dt(a.type,o.dtype);(a.position===void 0||Uv(a.position,c)!==Uv(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=mr.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),Ft(r,(o,a)=>{o||delete i[a]}),Ft(i,o=>{xs.configure(this,o,o.options),xs.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(qv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||gm(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=mr.getController(a),{datasetElementType:c,dataElementType:u}=yn.datasets[a];Object.assign(l,{dataElementType:mr.getElement(u),datasetElementType:c&&mr.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ft(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Ft(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(qv("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ft(this.scales,e=>{xs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!sv(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const o=i==="_removeElements"?-s:s;hH(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!sv(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xs.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ft(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ls(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lr.has(this)?this.attached&&!Lr.running(this)&&Lr.start(this):(this.draw(),Kv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=DS(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&wf(t,r),e.controller.draw(),r&&xf(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ac(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=dB.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=No(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);rc(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Lr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mv(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Bu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ft(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Ft(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ft(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,o,a,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Rd(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(t,e),a=i?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,o=t,a=this._getActiveElements(e,r,i,o),l=vF(e),c=pH(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Zt(s.onHover,[e,a,this],this),l&&Zt(s.onClick,[e,a,this],this));const u=!Rd(a,r);return(u||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=c,u}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}Pe(Xe,"defaults",yn),Pe(Xe,"instances",Bu),Pe(Xe,"overrides",Ao),Pe(Xe,"registry",mr),Pe(Xe,"version",uH),Pe(Xe,"getChart",Jv);function Gv(){return Ft(Xe.instances,n=>n._plugins.invalidate())}function mH(n,e,t){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,xi(i-t));if(n.beginPath(),n.arc(r,s,o-c/2,i+d/2,t-d/2),a>0){const f=Math.min(c/a,xi(i-t));n.arc(r,s,a+c/2,t-f/2,i+f/2,!0)}else{const f=Math.min(c/2,o*xi(i-t));if(u==="round")n.arc(r,s,f,t-$t/2,i+$t/2,!0);else if(u==="bevel"){const p=2*f*f,m=-p*Math.cos(t+$t/2)+r,g=-p*Math.sin(t+$t/2)+s,y=p*Math.cos(i+$t/2)+r,v=p*Math.sin(i+$t/2)+s;n.lineTo(m,g),n.lineTo(y,v)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function gH(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;n.beginPath(),n.arc(s,o,a,i-c,t+c),l>r?(c=r/l,n.arc(s,o,l,t+c,i-c,!0)):n.arc(s,o,r,t+En,i-En),n.closePath(),n.clip()}function yH(n){return Ng(n,["outerStart","outerEnd","innerStart","innerEnd"])}function bH(n,e,t,i){const r=yH(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(t-Math.min(s,l))*i/2;return Kn(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Kn(r.innerStart,0,o),innerEnd:Kn(r.innerEnd,0,o)}}function sa(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function zd(n,e,t,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+t-c,0),f=u>0?u+i+t+c:0;let p=0;const m=r-l;if(i){const Te=u>0?u-i:0,qe=d>0?d-i:0,Ke=(Te+qe)/2,_t=Ke!==0?m*Ke/(Ke+i):m;p=(m-_t)/2}const g=Math.max(.001,m*d-t/$t)/d,y=(m-g)/2,v=l+y+p,x=r-y-p,{outerStart:S,outerEnd:O,innerStart:T,innerEnd:A}=bH(e,f,d,x-v),D=d-S,P=d-O,B=v+S/D,Y=x-O/P,ee=f+T,U=f+A,me=v+T/ee,Ze=x-A/U;if(n.beginPath(),s){const Te=(B+Y)/2;if(n.arc(o,a,d,B,Te),n.arc(o,a,d,Te,Y),O>0){const mt=sa(P,Y,o,a);n.arc(mt.x,mt.y,O,Y,x+En)}const qe=sa(U,x,o,a);if(n.lineTo(qe.x,qe.y),A>0){const mt=sa(U,Ze,o,a);n.arc(mt.x,mt.y,A,x+En,Ze+Math.PI)}const Ke=(x-A/f+(v+T/f))/2;if(n.arc(o,a,f,x-A/f,Ke,!0),n.arc(o,a,f,Ke,v+T/f,!0),T>0){const mt=sa(ee,me,o,a);n.arc(mt.x,mt.y,T,me+Math.PI,v-En)}const _t=sa(D,v,o,a);if(n.lineTo(_t.x,_t.y),S>0){const mt=sa(D,B,o,a);n.arc(mt.x,mt.y,S,v-En,B)}}else{n.moveTo(o,a);const Te=Math.cos(B)*d+o,qe=Math.sin(B)*d+a;n.lineTo(Te,qe);const Ke=Math.cos(Y)*d+o,_t=Math.sin(Y)*d+a;n.lineTo(Ke,_t)}n.closePath()}function vH(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){zd(n,e,t,i,l,r);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+(a%dn||dn))}return zd(n,e,t,i,l,r),n.fill(),l}function wH(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f,borderRadius:p}=l,m=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=f,m?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=e.endAngle;if(s){zd(n,e,t,i,g,r);for(let y=0;y<s;++y)n.stroke();isNaN(a)||(g=o+(a%dn||dn))}m&&gH(n,e,g),l.selfJoin&&g-o>=$t&&p===0&&u!=="miter"&&mH(n,e,g),s||(zd(n,e,t,i,g,r),n.stroke())}class _l extends Hs{constructor(t){super();Pe(this,"circumference");Pe(this,"endAngle");Pe(this,"fullCircles");Pe(this,"innerRadius");Pe(this,"outerRadius");Pe(this,"pixelMargin");Pe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=dS(s,{x:t,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,m=dt(f,c-l),g=oc(o,l,c)&&l!==c,y=m>=dn||g,v=Vr(a,u+p,d+p);return y&&v}getCenterPoint(t){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,d=(s+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>dn?Math.floor(r/dn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min($t,r||0)),u=s*c;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,vH(t,this,u,o,a),wH(t,this,u,o,a),t.restore()}}Pe(_l,"id","arc"),Pe(_l,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Pe(_l,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pe(_l,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function VS(n,e,t=e){n.lineCap=dt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(dt(t.borderDash,e.borderDash)),n.lineDashOffset=dt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=dt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=dt(t.borderWidth,e.borderWidth),n.strokeStyle=dt(t.borderColor,e.borderColor)}function xH(n,e,t){n.lineTo(t.x,t.y)}function kH(n){return n.stepped?UF:n.tension||n.cubicInterpolationMode==="monotone"?qF:xH}function YS(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function _H(n,e,t,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=YS(r,t,i),u=kH(s);let{move:d=!0,reverse:f}=i||{},p,m,g;for(p=0;p<=c;++p)m=r[(a+(f?c-p:p))%o],!m.skip&&(d?(n.moveTo(m.x,m.y),d=!1):u(n,g,m,f,s.stepped),g=m);return l&&(m=r[(a+(f?c:0))%o],u(n,g,m,f,s.stepped)),!!l}function SH(n,e,t,i){const r=e.points,{count:s,start:o,ilen:a}=YS(r,t,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,p,m,g,y,v;const x=O=>(o+(c?a-O:O))%s,S=()=>{g!==y&&(n.lineTo(u,y),n.lineTo(u,g),n.lineTo(u,v))};for(l&&(p=r[x(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=r[x(f)],p.skip)continue;const O=p.x,T=p.y,A=O|0;A===m?(T<g?g=T:T>y&&(y=T),u=(d*u+O)/++d):(S(),n.lineTo(O,T),m=A,d=0,g=y=T),v=T}S()}function bm(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?SH:_H}function MH(n){return n.stepped?M2:n.tension||n.cubicInterpolationMode==="monotone"?C2:to}function CH(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),VS(n,e.options),n.stroke(r)}function EH(n,e,t,i){const{segments:r,options:s}=e,o=bm(e);for(const a of r)VS(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const OH=typeof Path2D=="function";function TH(n,e,t,i){OH&&!e.options.segment?CH(n,e,t,i):EH(n,e,t,i)}class Li extends Hs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;y2(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=P2(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,o=TS(this,{property:t,start:r,end:r});if(!o.length)return;const a=[],l=MH(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],p=s[d],m=s[f];if(p===m){a.push(p);continue}const g=Math.abs((r-p[t])/(m[t]-p[t])),y=l(p,m,g,i.stepped);y[t]=e[t],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,t,i){return bm(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=bm(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const a of r)o&=s(e,this,a,{start:t,end:t+i-1});return!!o}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),TH(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Pe(Li,"id","line"),Pe(Li,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Pe(Li,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Pe(Li,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Xv(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class As extends Hs{constructor(t){super();Pe(this,"parsed");Pe(this,"skip");Pe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return Xv(this,t,"x",i)}inYRange(t,i){return Xv(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!ac(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,mm(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Pe(As,"id","point"),Pe(As,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pe(As,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function US(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return n.horizontal?(d=o/2,a=Math.min(t,r),l=Math.max(t,r),c=i-d,u=i+d):(d=s/2,a=t-d,l=t+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function ks(n,e,t,i){return n?0:Kn(e,t,i)}function DH(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=vS(i);return{t:ks(r.top,s.top,0,t),r:ks(r.right,s.right,0,e),b:ks(r.bottom,s.bottom,0,t),l:ks(r.left,s.left,0,e)}}function AH(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=xa(r),o=Math.min(e,t),a=n.borderSkipped,l=i||vt(r);return{topLeft:ks(!l||a.top||a.left,s.topLeft,0,o),topRight:ks(!l||a.top||a.right,s.topRight,0,o),bottomLeft:ks(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ks(!l||a.bottom||a.right,s.bottomRight,0,o)}}function PH(n){const e=US(n),t=e.right-e.left,i=e.bottom-e.top,r=DH(n,t/2,i/2),s=AH(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function sp(n,e,t,i){const r=e===null,s=t===null,a=n&&!(r&&s)&&US(n,i);return a&&(r||Vr(e,a.left,a.right))&&(s||Vr(t,a.top,a.bottom))}function RH(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function NH(n,e){n.rect(e.x,e.y,e.w,e.h)}function op(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class Sa extends Hs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=PH(this),a=RH(o.radius)?Fd:NH;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,op(o,t,s)),e.clip(),a(e,op(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,op(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return sp(this,e,t,i)}inXRange(e,t){return sp(this,e,null,t)}inYRange(e,t){return sp(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Pe(Sa,"id","bar"),Pe(Sa,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pe(Sa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function IH(n,e,t){const i=n.segments,r=n.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Sf(l,c,r);const u=vm(t,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=TS(e,u);for(const f of d){const p=vm(t,s[f.start],s[f.end],f.loop),m=OS(a,r,p);for(const g of m)o.push({source:g,target:f,start:{[t]:Zv(u,p,"start",Math.max)},end:{[t]:Zv(u,p,"end",Math.min)}})}}return o}function vm(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=xi(r),s=xi(s)),{property:n,start:r,end:s}}function LH(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Sf(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}function Sf(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Zv(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function qS(n,e){let t=[],i=!1;return Cn(n)?(i=!0,t=n):t=LH(n,e),t.length?new Li({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Qv(n){return n&&n.fill!==!1}function FH(n,e,t){let r=n[e].fill;const s=[e];let o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Gn(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function BH(n,e,t){const i=$H(n);if(vt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Gn(r)&&Math.floor(r)===r?HH(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function HH(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function zH(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:vt(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function jH(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:vt(n)?i=n.value:i=e.getBaseValue(),i}function $H(n){const e=n.options,t=e.fill;let i=dt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function WH(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,a=VH(e,t);a.push(qS({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)YH(r,o[u],a)}return new Li({points:r,options:{}})}function VH(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function YH(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:a,point:l}=UH(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function UH(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][t],f=o[u.end][t];if(Vr(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:i}}class KS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:o}=this;return t=t||{start:0,end:dn},e.arc(r,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function qH(n){const{chart:e,fill:t,line:i}=n;if(Gn(t))return KH(e,t);if(t==="stack")return WH(n);if(t==="shape")return!0;const r=JH(n);return r instanceof KS?r:qS(r,i)}function KH(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function JH(n){return(n.scale||{}).getPointPositionForValue?XH(n):GH(n)}function GH(n){const{scale:e={},fill:t}=n,i=zH(t,e);if(Gn(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function XH(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=jH(t,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new KS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function ap(n,e,t){const i=qH(e),{chart:r,index:s,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:p=d}=u||{},m=r.getDatasetMeta(s),g=DS(r,m);i&&o.points.length&&(wf(n,t),ZH(n,{line:o,target:i,above:f,below:p,area:t,scale:a,axis:l,clip:g}),xf(n))}function ZH(n,e){const{line:t,target:i,above:r,below:s,area:o,scale:a,clip:l}=e,c=t._loop?"angle":e.axis;n.save();let u=s;s!==r&&(c==="x"?(ew(n,i,o.top),lp(n,{line:t,target:i,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),ew(n,i,o.bottom)):c==="y"&&(tw(n,i,o.left),lp(n,{line:t,target:i,color:s,scale:a,property:c,clip:l}),n.restore(),n.save(),tw(n,i,o.right),u=r)),lp(n,{line:t,target:i,color:u,scale:a,property:c,clip:l}),n.restore()}function ew(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[Sf(l,c,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function tw(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[Sf(l,c,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(t,u.y),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(t,d.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function lp(n,e){const{line:t,target:i,property:r,color:s,scale:o,clip:a}=e,l=IH(t,i,r);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:p=s}={}}=c,m=i!==!0;n.save(),n.fillStyle=p,QH(n,o,a,m&&vm(r,d,f)),n.beginPath();const g=!!t.pathSegment(n,c);let y;if(m){g?n.closePath():nw(n,i,f,r);const v=!!i.pathSegment(n,u,{move:g,reverse:!0});y=g&&v,y||nw(n,i,d,r)}n.closePath(),n.fill(y?"evenodd":"nonzero"),n.restore()}}function QH(n,e,t,i){const r=e.chart.chartArea,{property:s,start:o,end:a}=i||{};if(s==="x"||s==="y"){let l,c,u,d;s==="x"?(l=o,c=r.top,u=a,d=r.bottom):(l=r.left,c=o,u=r.right,d=a),n.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),d=Math.min(d,t.bottom)),n.rect(l,c,u-l,d-c),n.clip()}}function nw(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var Sc={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Li&&(l={visible:n.isDatasetVisible(o),index:o,fill:BH(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=FH(r,o,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&ap(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Qv(s)&&ap(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Qv(i)||t.drawTime!=="beforeDatasetDraw"||ap(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const iw=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},ez=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class rw extends Hs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Zt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=fi(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=iw(i,s);let c,u;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,g)=>{const y=i+t/2+s.measureText(m.text).width;(g===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,p+=u,f++),l[g]={left:0,top:p,row:f,width:y,height:r},c[c.length-1]+=y+a}),d}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:x,itemHeight:S}=tz(i,t,s,y,r);v>0&&p+S+2*a>u&&(d+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[v]={left:m,top:p,col:g,width:x,height:S},f=Math.max(f,x),p+=S+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ka(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=wi(i,this.left+r,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=wi(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=wi(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=wi(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wf(e,this),this._draw(),xf(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=yn.color,l=ka(e.rtl,this.left,this.width),c=fi(o.font),{padding:u}=o,d=c.size,f=d/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:y}=iw(o,d),v=function(A,D,P){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;r.save();const B=dt(P.lineWidth,1);if(r.fillStyle=dt(P.fillStyle,a),r.lineCap=dt(P.lineCap,"butt"),r.lineDashOffset=dt(P.lineDashOffset,0),r.lineJoin=dt(P.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=dt(P.strokeStyle,a),r.setLineDash(dt(P.lineDash,[])),o.usePointStyle){const Y={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:B},ee=l.xPlus(A,m/2),U=D+f;bS(r,Y,ee,U,o.pointStyleWidth&&m)}else{const Y=D+Math.max((d-g)/2,0),ee=l.leftForLtr(A,m),U=xa(P.borderRadius);r.beginPath(),Object.values(U).some(me=>me!==0)?Fd(r,{x:ee,y:Y,w:m,h:g,radius:U}):r.rect(ee,Y,m,g),r.fill(),B!==0&&r.stroke()}r.restore()},x=function(A,D,P){Ld(r,P.text,A,D+y/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},S=this.isHorizontal(),O=this._computeTitleHeight();S?p={x:wi(s,this.left+u,this.right-i[0]),y:this.top+u+O,line:0}:p={x:this.left+u,y:wi(s,this.top+O+u,this.bottom-t[0].height),line:0},MS(this.ctx,e.textDirection);const T=y+u;this.legendItems.forEach((A,D)=>{r.strokeStyle=A.fontColor,r.fillStyle=A.fontColor;const P=r.measureText(A.text).width,B=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),Y=m+f+P;let ee=p.x,U=p.y;l.setWidth(this.width),S?D>0&&ee+Y+u>this.right&&(U=p.y+=T,p.line++,ee=p.x=wi(s,this.left+u,this.right-i[p.line])):D>0&&U+T>this.bottom&&(ee=p.x=ee+t[p.line].width+u,p.line++,U=p.y=wi(s,this.top+O+u,this.bottom-t[p.line].height));const me=l.x(ee);if(v(me,U,A),ee=RF(B,ee+m+f,S?ee+Y:this.right,e.rtl),x(l.x(ee),U,A),S)p.x+=Y+u;else if(typeof A.text!="string"){const Ze=c.lineHeight;p.y+=JS(A,Ze)+u}else p.y+=T}),CS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=fi(t.font),r=Qi(t.padding);if(!t.display)return;const s=ka(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=i.size/2,c=r.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=wi(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=c+wi(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=wi(a,d,d+f);o.textAlign=s.textAlign(gS(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Ld(o,t.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,t=fi(e.font),i=Qi(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Vr(e,this.left,this.right)&&Vr(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Vr(e,r.left,r.left+r.width)&&Vr(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!rz(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=ez(r,i);r&&!s&&Zt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Zt(t.onHover,[e,i,this],this)}else i&&Zt(t.onClick,[e,i,this],this)}}function tz(n,e,t,i,r){const s=nz(i,n,e,t),o=iz(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function nz(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function iz(n,e,t){let i=n;return typeof e.text!="string"&&(i=JS(e,t)),i}function JS(n,e){const t=n.text?n.text.length:0;return e*t}function rz(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var jg={id:"legend",_element:rw,start(n,e,t){const i=n.legend=new rw({ctx:n.ctx,options:t,chart:n});xs.configure(n,i,t),xs.addBox(n,i)},stop(n){xs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;xs.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Qi(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Sl={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=hm(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function dr(n,e){return e&&(Cn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Fr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function sz(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function sw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=fi(e.bodyFont),c=fi(e.titleFont),u=fi(e.footerFont),d=s.length,f=r.length,p=i.length,m=Qi(e.padding);let g=m.height,y=0,v=i.reduce((O,T)=>O+T.before.length+T.lines.length+T.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const O=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*O+(v-p)*l.lineHeight+(v-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const S=function(O){y=Math.max(y,t.measureText(O).width+x)};return t.save(),t.font=c.string,Ft(n.title,S),t.font=l.string,Ft(n.beforeBody.concat(n.afterBody),S),x=e.displayColors?o+2+e.boxPadding:0,Ft(i,O=>{Ft(O.before,S),Ft(O.lines,S),Ft(O.after,S)}),x=0,t.font=u.string,Ft(n.footer,S),t.restore(),y+=m.width,{width:y,height:g}}function oz(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function az(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function lz(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),az(c,n,e,t)&&(c="center"),c}function ow(n,e,t){const i=t.yAlign||e.yAlign||oz(n,t);return{xAlign:t.xAlign||e.xAlign||lz(n,e,t,i),yAlign:i}}function cz(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function uz(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function aw(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=r+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=xa(o);let m=cz(e,a);const g=uz(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+r:a==="right"&&(m+=Math.max(d,p)+r),{x:Kn(m,0,i.width-e.width),y:Kn(g,0,i.height-e.height)}}function ku(n,e,t){const i=Qi(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function lw(n){return dr([],Fr(n))}function dz(n,e,t){return No(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function cw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const GS={beforeTitle:Rr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Rr,beforeBody:Rr,beforeLabel:Rr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return It(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Rr,afterBody:Rr,beforeFooter:Rr,footer:Rr,afterFooter:Rr};function ai(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?GS[e].call(t,i):r}class wm extends Hs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new AS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=dz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=ai(i,"beforeTitle",this,e),s=ai(i,"title",this,e),o=ai(i,"afterTitle",this,e);let a=[];return a=dr(a,Fr(r)),a=dr(a,Fr(s)),a=dr(a,Fr(o)),a}getBeforeBody(e,t){return lw(ai(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Ft(e,s=>{const o={before:[],lines:[],after:[]},a=cw(i,s);dr(o.before,Fr(ai(a,"beforeLabel",this,s))),dr(o.lines,ai(a,"label",this,s)),dr(o.after,Fr(ai(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return lw(ai(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=ai(i,"beforeFooter",this,e),s=ai(i,"footer",this,e),o=ai(i,"afterFooter",this,e);let a=[];return a=dr(a,Fr(r)),a=dr(a,Fr(s)),a=dr(a,Fr(o)),a}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(sz(this.chart,t[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),Ft(a,u=>{const d=cw(e.callbacks,u);r.push(ai(d,"labelColor",this,u)),s.push(ai(d,"labelPointStyle",this,u)),o.push(ai(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Sl[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=sw(this,i),c=Object.assign({},a,l),u=ow(this.chart,i,c),d=aw(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=xa(a),{x:f,y:p}=e,{width:m,height:g}=t;let y,v,x,S,O,T;return s==="center"?(O=p+g/2,r==="left"?(y=f,v=y-o,S=O+o,T=O-o):(y=f+m,v=y+o,S=O-o,T=O+o),x=y):(r==="left"?v=f+Math.max(l,u)+o:r==="right"?v=f+m-Math.max(c,d)-o:v=this.caretX,s==="top"?(S=p,O=S-o,y=v-o,x=v+o):(S=p+g,O=S+o,y=v+o,x=v-o),T=S),{x1:y,x2:v,x3:x,y1:S,y2:O,y3:T}}drawTitle(e,t,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=ka(i.rtl,this.x,this.width);for(e.x=ku(this,i.titleAlign,i),t.textAlign=c.textAlign(i.titleAlign),t.textBaseline="middle",o=fi(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,l=0;l<s;++l)t.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=fi(s.bodyFont),d=ku(this,"left",s),f=r.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=t.y+p;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(f,c)+c/2,v=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,mm(e,g,y,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,mm(e,g,y,v)}else{e.lineWidth=vt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=r.leftForLtr(f,c),y=r.leftForLtr(r.xPlus(f,1),c-2),v=xa(o.borderRadius);Object.values(v).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Fd(e,{x:g,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Fd(e,{x:y,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=fi(i.bodyFont);let f=d.lineHeight,p=0;const m=ka(i.rtl,this.x,this.width),g=function(P){t.fillText(P,m.x(e.x+p),e.y+f/2),e.y+=f+s},y=m.textAlign(o);let v,x,S,O,T,A,D;for(t.textAlign=o,t.textBaseline="middle",t.font=d.string,e.x=ku(this,y,i),t.fillStyle=i.bodyColor,Ft(this.beforeBody,g),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,O=0,A=r.length;O<A;++O){for(v=r[O],x=this.labelTextColors[O],t.fillStyle=x,Ft(v.before,g),S=v.lines,a&&S.length&&(this._drawColorBox(t,e,O,m,i),f=Math.max(d.lineHeight,l)),T=0,D=S.length;T<D;++T)g(S[T]),f=d.lineHeight;Ft(v.after,g)}p=0,f=d.lineHeight,Ft(this.afterBody,g),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let o,a;if(s){const l=ka(i.rtl,this.x,this.width);for(e.x=ku(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",o=fi(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=xa(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+d,l),o==="top"&&this.drawCaret(e,t,i,r),t.lineTo(a+c-f,l),t.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(a+c,l+u-m),t.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(a+p,l+u),t.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(a,l+d),t.quadraticCurveTo(a,l,a+d,l),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Sl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=sw(this,e),l=Object.assign({},o,this._size),c=ow(t,e,l),u=aw(e,l,c,t);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Qi(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),MS(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),CS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Rd(i,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),a=this._positionChanged(o,e),l=t||!Rd(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,o=Sl[s.position].call(this,e,t);return o!==!1&&(i!==o.x||r!==o.y)}}Pe(wm,"positioners",Sl);var es={id:"tooltip",_element:wm,positioners:Sl,afterInit(n,e,t){t&&(n.tooltip=new wm({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:GS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fz=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function hz(n,e,t,i){const r=n.indexOf(e);if(r===-1)return fz(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const pz=(n,e)=>n===null?null:Kn(Math.round(n),0,e);function uw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class xm extends ja{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(It(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:hz(i,e,dt(t,e),this._addedLabels),pz(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return uw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Pe(xm,"id","category"),Pe(xm,"defaults",{ticks:{callback:uw}});function mz(n,e){const t=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=n,p=s||1,m=u-1,{min:g,max:y}=e,v=!It(o),x=!It(a),S=!It(c),O=(y-g)/(d+1);let T=av((y-g)/m/p)*p,A,D,P,B;if(T<1e-14&&!v&&!x)return[{value:g},{value:y}];B=Math.ceil(y/T)-Math.floor(g/T),B>m&&(T=av(B*T/m/p)*p),It(l)||(A=Math.pow(10,l),T=Math.ceil(T*A)/A),r==="ticks"?(D=Math.floor(g/T)*T,P=Math.ceil(y/T)*T):(D=g,P=y),v&&x&&s&&SF((a-o)/s,T/1e3)?(B=Math.round(Math.min((a-o)/T,u)),T=(a-o)/B,D=o,P=a):S?(D=v?o:D,P=x?a:P,B=c-1,T=(P-D)/B):(B=(P-D)/T,Bl(B,Math.round(B),T/1e3)?B=Math.round(B):B=Math.ceil(B));const Y=Math.max(lv(T),lv(D));A=Math.pow(10,It(l)?Y:l),D=Math.round(D*A)/A,P=Math.round(P*A)/A;let ee=0;for(v&&(f&&D!==o?(t.push({value:o}),D<o&&ee++,Bl(Math.round((D+ee*T)*A)/A,o,dw(o,O,n))&&ee++):D<o&&ee++);ee<B;++ee){const U=Math.round((D+ee*T)*A)/A;if(x&&U>a)break;t.push({value:U})}return x&&f&&P!==a?t.length&&Bl(t[t.length-1].value,a,dw(a,O,n))?t[t.length-1].value=a:t.push({value:a}):(!x||P===a)&&t.push({value:P}),t}function dw(n,e,{horizontal:t,minRotation:i}){const r=Wr(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class gz extends ja{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return It(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=t?r:l,a=l=>s=i?s:l;if(e){const l=br(r),c=br(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=mz(r,s);return e.bounds==="ticks"&&MF(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Rg(e,this.chart.options.locale,this.options.ticks.format)}}class xr extends gz{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Gn(e)?e:0,this.max=Gn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Wr(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Pe(xr,"id","linear"),Pe(xr,"defaults",{ticks:{callback:yS.formatters.numeric}});const Mf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},di=Object.keys(Mf);function fw(n,e){return n-e}function hw(n,e){if(It(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Gn(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(sc(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function pw(n,e,t,i){const r=di.length;for(let s=di.indexOf(n);s<r-1;++s){const o=Mf[di[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return di[s]}return di[r-1]}function yz(n,e,t,i,r){for(let s=di.length-1;s>=di.indexOf(t);s--){const o=di[s];if(Mf[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return di[t?di.indexOf(t):0]}function bz(n){for(let e=di.indexOf(n)+1,t=di.length;e<t;++e)if(Mf[di[e]].common)return di[e]}function mw(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=Ag(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function vz(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=t[a],l>=0&&(e[l].major=!0);return e}function gw(n,e,t){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!t?i:vz(n,i,r,t)}class Hi extends ja{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new NS._date(e.adapters.date);r.init(t),Fl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:hw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Gn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Gn(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=DF(r,s,o);return this._unit=t.unit||(i.autoSkip?pw(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):yz(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:bz(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),gw(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Kn(t,0,o),i=Kn(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||pw(s.minUnit,t,i,this._getLabelCapacity(t)),a=dt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=sc(l)||l===!0,u={};let d=t,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,t,o)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<i;f=+e.add(f,a,o),p++)mw(u,f,m);return(f===i||r.bounds==="ticks"||p===1)&&mw(u,f,m),Object.keys(u).sort(fw).map(g=>+g)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,r){const s=this.options,o=s.ticks.callback;if(o)return Zt(o,[e,t,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=i[t],p=c&&d&&f&&f.major;return this._adapter.format(e,r||(p?d:u))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Wr(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,gw(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(hw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hS(e.sort(fw))}}Pe(Hi,"id","time"),Pe(Hi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _u(n,e,t){let i=0,r=n.length-1,s,o,a,l;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=fo(n,"pos",e)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=fo(n,"time",e)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class yw extends Hi{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=_u(t,this.min),this._tableRange=_u(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=i&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(_u(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return _u(this._table,i*this._tableRange+this._minPos,!0)}}Pe(yw,"id","timeseries"),Pe(yw,"defaults",Hi.defaults);var cp=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Ma={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},cc={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ci=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},Ai=function(n){return n===!0?1:0};function bw(n,e){var t;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(i,r)},e)}}var up=function(n){return n instanceof Array?n:[n]};function Qn(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Nt(n,e,t){var i=window.document.createElement(n);return e=e||"",t=t||"",i.className=e,t!==void 0&&(i.textContent=t),i}function Su(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function XS(n,e){if(e(n))return n;if(n.parentNode)return XS(n.parentNode,e)}function Mu(n,e){var t=Nt("div","numInputWrapper"),i=Nt("input","numInput "+n),r=Nt("span","arrowUp"),s=Nt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),e!==void 0)for(var o in e)i.setAttribute(o,e[o]);return t.appendChild(i),t.appendChild(r),t.appendChild(s),t}function bi(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var dp=function(){},jd=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},wz={D:dp,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*Ai(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var i=parseInt(e),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+t.firstDayOfWeek),r},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:dp,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:dp,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ro={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},jl={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[jl.w(n,e,t)]},F:function(n,e,t){return jd(jl.n(n,e,t)-1,!1,e)},G:function(n,e,t){return ci(jl.h(n,e,t))},H:function(n){return ci(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[Ai(n.getHours()>11)]},M:function(n,e){return jd(n.getMonth(),!0,e)},S:function(n){return ci(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return ci(n.getFullYear(),4)},d:function(n){return ci(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return ci(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return ci(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},ZS=function(n){var e=n.config,t=e===void 0?Ma:e,i=n.l10n,r=i===void 0?cc:i,s=n.isMobile,o=s===void 0?!1:s;return function(a,l,c){var u=c||r;return t.formatDate!==void 0&&!o?t.formatDate(a,l,u):l.split("").map(function(d,f,p){return jl[d]&&p[f-1]!=="\\"?jl[d](a,u,t):d!=="\\"?d:""}).join("")}},km=function(n){var e=n.config,t=e===void 0?Ma:e,i=n.l10n,r=i===void 0?cc:i;return function(s,o,a,l){if(!(s!==0&&!s)){var c=l||r,u,d=s;if(s instanceof Date)u=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)u=new Date(s);else if(typeof s=="string"){var f=o||(t||Ma).dateFormat,p=String(s).trim();if(p==="today")u=new Date,a=!0;else if(t&&t.parseDate)u=t.parseDate(s,f);else if(/Z$/.test(p)||/GMT$/.test(p))u=new Date(s);else{for(var m=void 0,g=[],y=0,v=0,x="";y<f.length;y++){var S=f[y],O=S==="\\",T=f[y-1]==="\\"||O;if(ro[S]&&!T){x+=ro[S];var A=new RegExp(x).exec(s);A&&(m=!0)&&g[S!=="Y"?"push":"unshift"]({fn:wz[S],val:A[++v]})}else O||(x+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),g.forEach(function(D){var P=D.fn,B=D.val;return u=P(u,B,c)||u}),u=m?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+d));return}return a===!0&&u.setHours(0,0,0,0),u}}};function vi(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var xz=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},fp=function(n,e,t){return n*3600+e*60+t},kz=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},_z={DAY:864e5};function hp(n){var e=n.defaultHour,t=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),s=n.minDate.getMinutes(),o=n.minDate.getSeconds();e<r&&(e=r),e===r&&t<s&&(t=s),e===r&&t===s&&i<o&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var a=n.maxDate.getHours(),l=n.maxDate.getMinutes();e=Math.min(e,a),e===a&&(t=Math.min(l,t)),e===a&&t===l&&(i=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(a){a&&Object.keys(a).forEach(function(l){return n[l]=a[l]})},r=0,s=e;r<s.length;r++){var o=s[r];i(o)}return n});var Yn=function(){return Yn=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yn.apply(this,arguments)},vw=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i},Sz=300;function Mz(n,e){var t={config:Yn(Yn({},Ma),gn.defaultConfig),l10n:cc};t.parseDate=km({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=g,t._setHoursFromDate=f,t._positionCalendar=Ne,t.changeMonth=ze,t.changeYear=yt,t.clear=Re,t.close=je,t.onMouseOver=Le,t._createElement=Nt,t.createDay=A,t.destroy=Be,t.isEnabled=oe,t.jumpToDate=x,t.updateValue=zt,t.open=an,t.redraw=Fe,t.set=xt,t.setDate=nn,t.toggle=Wi;function i(){t.utils={getDaysInMonth:function(_,E){return _===void 0&&(_=t.currentMonth),E===void 0&&(E=t.currentYear),_===1&&(E%4===0&&E%100!==0||E%400===0)?29:t.l10n.daysInMonth[_]}}}function r(){t.element=t.input=n,t.isOpen=!1,ge(),Z(),gi(),ri(),i(),t.isMobile||T(),v(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&f(t.config.noCalendar?t.latestSelectedDateObj:void 0),zt(!1)),a();var _=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&_&&Ne(),Pt("onReady")}function s(){var _;return((_=t.calendarContainer)===null||_===void 0?void 0:_.getRootNode()).activeElement||document.activeElement}function o(_){return _.bind(t)}function a(){var _=t.config;_.weekNumbers===!1&&_.showMonths===1||_.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var E=(t.days.offsetWidth+1)*_.showMonths;t.daysContainer.style.width=E+"px",t.calendarContainer.style.width=E+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function l(_){if(t.selectedDates.length===0){var E=t.config.minDate===void 0||vi(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),F=hp(t.config);E.setHours(F.hours,F.minutes,F.seconds,E.getMilliseconds()),t.selectedDates=[E],t.latestSelectedDateObj=E}_!==void 0&&_.type!=="blur"&&Lo(_);var V=t._input.value;d(),zt(),t._input.value!==V&&t._debouncedChange()}function c(_,E){return _%12+12*Ai(E===t.l10n.amPM[1])}function u(_){switch(_%24){case 0:case 12:return 12;default:return _%12}}function d(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var _=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,E=(parseInt(t.minuteElement.value,10)||0)%60,F=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(_=c(_,t.amPM.textContent));var V=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&vi(t.latestSelectedDateObj,t.config.minDate,!0)===0,le=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&vi(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var he=fp(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Qe=fp(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),we=fp(_,E,F);if(we>Qe&&we<he){var rt=kz(he);_=rt[0],E=rt[1],F=rt[2]}}else{if(le){var xe=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;_=Math.min(_,xe.getHours()),_===xe.getHours()&&(E=Math.min(E,xe.getMinutes())),E===xe.getMinutes()&&(F=Math.min(F,xe.getSeconds()))}if(V){var k=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;_=Math.max(_,k.getHours()),_===k.getHours()&&E<k.getMinutes()&&(E=k.getMinutes()),E===k.getMinutes()&&(F=Math.max(F,k.getSeconds()))}}p(_,E,F)}}function f(_){var E=_||t.latestSelectedDateObj;E&&E instanceof Date&&p(E.getHours(),E.getMinutes(),E.getSeconds())}function p(_,E,F){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(_%24,E,F||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=ci(t.config.time_24hr?_:(12+_)%12+12*Ai(_%12===0)),t.minuteElement.value=ci(E),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Ai(_>=12)]),t.secondElement!==void 0&&(t.secondElement.value=ci(F)))}function m(_){var E=bi(_),F=parseInt(E.value)+(_.delta||0);(F/1e3>1||_.key==="Enter"&&!/[^\d]/.test(F.toString()))&&yt(F)}function g(_,E,F,V){if(E instanceof Array)return E.forEach(function(le){return g(_,le,F,V)});if(_ instanceof Array)return _.forEach(function(le){return g(le,E,F,V)});_.addEventListener(E,F,V),t._handlers.push({remove:function(){return _.removeEventListener(E,F,V)}})}function y(){Pt("onChange")}function v(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(F){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+F+"]"),function(V){return g(V,"click",t[F])})}),t.isMobile){In();return}var _=bw(Ee,50);if(t._debouncedChange=bw(y,Sz),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&g(t.daysContainer,"mouseover",function(F){t.config.mode==="range"&&Le(bi(F))}),g(t._input,"keydown",gt),t.calendarContainer!==void 0&&g(t.calendarContainer,"keydown",gt),!t.config.inline&&!t.config.static&&g(window,"resize",_),window.ontouchstart!==void 0?g(window.document,"touchstart",ue):g(window.document,"mousedown",ue),g(window.document,"focus",ue,{capture:!0}),t.config.clickOpens===!0&&(g(t._input,"focus",t.open),g(t._input,"click",t.open)),t.daysContainer!==void 0&&(g(t.monthNav,"click",zs),g(t.monthNav,["keyup","increment"],m),g(t.daysContainer,"click",ae)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var E=function(F){return bi(F).select()};g(t.timeContainer,["increment"],l),g(t.timeContainer,"blur",l,{capture:!0}),g(t.timeContainer,"click",S),g([t.hourElement,t.minuteElement],["focus","click"],E),t.secondElement!==void 0&&g(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&g(t.amPM,"click",function(F){l(F)})}t.config.allowInput&&g(t._input,"blur",Ye)}function x(_,E){var F=_!==void 0?t.parseDate(_):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),V=t.currentYear,le=t.currentMonth;try{F!==void 0&&(t.currentYear=F.getFullYear(),t.currentMonth=F.getMonth())}catch(he){he.message="Invalid date supplied: "+F,t.config.errorHandler(he)}E&&t.currentYear!==V&&(Pt("onYearChange"),me()),E&&(t.currentYear!==V||t.currentMonth!==le)&&Pt("onMonthChange"),t.redraw()}function S(_){var E=bi(_);~E.className.indexOf("arrow")&&O(_,E.classList.contains("arrowUp")?1:-1)}function O(_,E,F){var V=_&&bi(_),le=F||V&&V.parentNode&&V.parentNode.firstChild,he=is("increment");he.delta=E,le&&le.dispatchEvent(he)}function T(){var _=window.document.createDocumentFragment();if(t.calendarContainer=Nt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(_.appendChild(qe()),t.innerContainer=Nt("div","flatpickr-innerContainer"),t.config.weekNumbers){var E=tn(),F=E.weekWrapper,V=E.weekNumbers;t.innerContainer.appendChild(F),t.weekNumbers=V,t.weekWrapper=F}t.rContainer=Nt("div","flatpickr-rContainer"),t.rContainer.appendChild(_t()),t.daysContainer||(t.daysContainer=Nt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),U(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),_.appendChild(t.innerContainer)}t.config.enableTime&&_.appendChild(Ke()),Qn(t.calendarContainer,"rangeMode",t.config.mode==="range"),Qn(t.calendarContainer,"animate",t.config.animate===!0),Qn(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(_);var le=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!le&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var he=Nt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(he,t.element),he.appendChild(t.element),t.altInput&&he.appendChild(t.altInput),he.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function A(_,E,F,V){var le=oe(E,!0),he=Nt("span",_,E.getDate().toString());return he.dateObj=E,he.$i=V,he.setAttribute("aria-label",t.formatDate(E,t.config.ariaDateFormat)),_.indexOf("hidden")===-1&&vi(E,t.now)===0&&(t.todayDateElem=he,he.classList.add("today"),he.setAttribute("aria-current","date")),le?(he.tabIndex=-1,Ci(E)&&(he.classList.add("selected"),t.selectedDateElem=he,t.config.mode==="range"&&(Qn(he,"startRange",t.selectedDates[0]&&vi(E,t.selectedDates[0],!0)===0),Qn(he,"endRange",t.selectedDates[1]&&vi(E,t.selectedDates[1],!0)===0),_==="nextMonthDay"&&he.classList.add("inRange")))):he.classList.add("flatpickr-disabled"),t.config.mode==="range"&&rs(E)&&!Ci(E)&&he.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&_!=="prevMonthDay"&&V%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(E)+"</span>"),Pt("onDayCreate",he),he}function D(_){_.focus(),t.config.mode==="range"&&Le(_)}function P(_){for(var E=_>0?0:t.config.showMonths-1,F=_>0?t.config.showMonths:-1,V=E;V!=F;V+=_)for(var le=t.daysContainer.children[V],he=_>0?0:le.children.length-1,Qe=_>0?le.children.length:-1,we=he;we!=Qe;we+=_){var rt=le.children[we];if(rt.className.indexOf("hidden")===-1&&oe(rt.dateObj))return rt}}function B(_,E){for(var F=_.className.indexOf("Month")===-1?_.dateObj.getMonth():t.currentMonth,V=E>0?t.config.showMonths:-1,le=E>0?1:-1,he=F-t.currentMonth;he!=V;he+=le)for(var Qe=t.daysContainer.children[he],we=F-t.currentMonth===he?_.$i+E:E<0?Qe.children.length-1:0,rt=Qe.children.length,xe=we;xe>=0&&xe<rt&&xe!=(E>0?rt:-1);xe+=le){var k=Qe.children[xe];if(k.className.indexOf("hidden")===-1&&oe(k.dateObj)&&Math.abs(_.$i-xe)>=Math.abs(E))return D(k)}t.changeMonth(le),Y(P(le),0)}function Y(_,E){var F=s(),V=ke(F||document.body),le=_!==void 0?_:V?F:t.selectedDateElem!==void 0&&ke(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ke(t.todayDateElem)?t.todayDateElem:P(E>0?1:-1);le===void 0?t._input.focus():V?B(le,E):D(le)}function ee(_,E){for(var F=(new Date(_,E,1).getDay()-t.l10n.firstDayOfWeek+7)%7,V=t.utils.getDaysInMonth((E-1+12)%12,_),le=t.utils.getDaysInMonth(E,_),he=window.document.createDocumentFragment(),Qe=t.config.showMonths>1,we=Qe?"prevMonthDay hidden":"prevMonthDay",rt=Qe?"nextMonthDay hidden":"nextMonthDay",xe=V+1-F,k=0;xe<=V;xe++,k++)he.appendChild(A("flatpickr-day "+we,new Date(_,E-1,xe),xe,k));for(xe=1;xe<=le;xe++,k++)he.appendChild(A("flatpickr-day",new Date(_,E,xe),xe,k));for(var N=le+1;N<=42-F&&(t.config.showMonths===1||k%7!==0);N++,k++)he.appendChild(A("flatpickr-day "+rt,new Date(_,E+1,N%le),N,k));var z=Nt("div","dayContainer");return z.appendChild(he),z}function U(){if(t.daysContainer!==void 0){Su(t.daysContainer),t.weekNumbers&&Su(t.weekNumbers);for(var _=document.createDocumentFragment(),E=0;E<t.config.showMonths;E++){var F=new Date(t.currentYear,t.currentMonth,1);F.setMonth(t.currentMonth+E),_.appendChild(ee(F.getFullYear(),F.getMonth()))}t.daysContainer.appendChild(_),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Le()}}function me(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var _=function(V){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&V<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&V>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var E=0;E<12;E++)if(_(E)){var F=Nt("option","flatpickr-monthDropdown-month");F.value=new Date(t.currentYear,E).getMonth().toString(),F.textContent=jd(E,t.config.shorthandCurrentMonth,t.l10n),F.tabIndex=-1,t.currentMonth===E&&(F.selected=!0),t.monthsDropdownContainer.appendChild(F)}}}function Ze(){var _=Nt("div","flatpickr-month"),E=window.document.createDocumentFragment(),F;t.config.showMonths>1||t.config.monthSelectorType==="static"?F=Nt("span","cur-month"):(t.monthsDropdownContainer=Nt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),g(t.monthsDropdownContainer,"change",function(Qe){var we=bi(Qe),rt=parseInt(we.value,10);t.changeMonth(rt-t.currentMonth),Pt("onMonthChange")}),me(),F=t.monthsDropdownContainer);var V=Mu("cur-year",{tabindex:"-1"}),le=V.getElementsByTagName("input")[0];le.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&le.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(le.setAttribute("max",t.config.maxDate.getFullYear().toString()),le.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var he=Nt("div","flatpickr-current-month");return he.appendChild(F),he.appendChild(V),E.appendChild(he),_.appendChild(E),{container:_,yearElement:le,monthElement:F}}function Te(){Su(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var _=t.config.showMonths;_--;){var E=Ze();t.yearElements.push(E.yearElement),t.monthElements.push(E.monthElement),t.monthNav.appendChild(E.container)}t.monthNav.appendChild(t.nextMonthNav)}function qe(){return t.monthNav=Nt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Nt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Nt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Te(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(_){t.__hidePrevMonthArrow!==_&&(Qn(t.prevMonthNav,"flatpickr-disabled",_),t.__hidePrevMonthArrow=_)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(_){t.__hideNextMonthArrow!==_&&(Qn(t.nextMonthNav,"flatpickr-disabled",_),t.__hideNextMonthArrow=_)}}),t.currentYearElement=t.yearElements[0],Cr(),t.monthNav}function Ke(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var _=hp(t.config);t.timeContainer=Nt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var E=Nt("span","flatpickr-time-separator",":"),F=Mu("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=F.getElementsByTagName("input")[0];var V=Mu("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=V.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=ci(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?_.hours:u(_.hours)),t.minuteElement.value=ci(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():_.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(F),t.timeContainer.appendChild(E),t.timeContainer.appendChild(V),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var le=Mu("flatpickr-second");t.secondElement=le.getElementsByTagName("input")[0],t.secondElement.value=ci(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():_.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Nt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(le)}return t.config.time_24hr||(t.amPM=Nt("span","flatpickr-am-pm",t.l10n.amPM[Ai((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function _t(){t.weekdayContainer?Su(t.weekdayContainer):t.weekdayContainer=Nt("div","flatpickr-weekdays");for(var _=t.config.showMonths;_--;){var E=Nt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(E)}return mt(),t.weekdayContainer}function mt(){if(t.weekdayContainer){var _=t.l10n.firstDayOfWeek,E=vw(t.l10n.weekdays.shorthand);_>0&&_<E.length&&(E=vw(E.splice(_,E.length),E.splice(0,_)));for(var F=t.config.showMonths;F--;)t.weekdayContainer.children[F].innerHTML=`
      <span class='flatpickr-weekday'>
        `+E.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function tn(){t.calendarContainer.classList.add("hasWeeks");var _=Nt("div","flatpickr-weekwrapper");_.appendChild(Nt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var E=Nt("div","flatpickr-weeks");return _.appendChild(E),{weekWrapper:_,weekNumbers:E}}function ze(_,E){E===void 0&&(E=!0);var F=E?_:_-t.currentMonth;F<0&&t._hidePrevMonthArrow===!0||F>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=F,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Pt("onYearChange"),me()),U(),Pt("onMonthChange"),Cr())}function Re(_,E){if(_===void 0&&(_=!0),E===void 0&&(E=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,E===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var F=hp(t.config),V=F.hours,le=F.minutes,he=F.seconds;p(V,le,he)}t.redraw(),_&&Pt("onChange")}function je(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Pt("onClose")}function Be(){t.config!==void 0&&Pt("onDestroy");for(var _=t._handlers.length;_--;)t._handlers[_].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var E=t.calendarContainer.parentNode;if(E.lastChild&&E.removeChild(E.lastChild),E.parentNode){for(;E.firstChild;)E.parentNode.insertBefore(E.firstChild,E);E.parentNode.removeChild(E)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(F){try{delete t[F]}catch{}})}function be(_){return t.calendarContainer.contains(_)}function ue(_){if(t.isOpen&&!t.config.inline){var E=bi(_),F=be(E),V=E===t.input||E===t.altInput||t.element.contains(E)||_.path&&_.path.indexOf&&(~_.path.indexOf(t.input)||~_.path.indexOf(t.altInput)),le=!V&&!F&&!be(_.relatedTarget),he=!t.config.ignoredFocusElements.some(function(Qe){return Qe.contains(E)});le&&he&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&l(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function yt(_){if(!(!_||t.config.minDate&&_<t.config.minDate.getFullYear()||t.config.maxDate&&_>t.config.maxDate.getFullYear())){var E=_,F=t.currentYear!==E;t.currentYear=E||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),F&&(t.redraw(),Pt("onYearChange"),me())}}function oe(_,E){var F;E===void 0&&(E=!0);var V=t.parseDate(_,void 0,E);if(t.config.minDate&&V&&vi(V,t.config.minDate,E!==void 0?E:!t.minDateHasTime)<0||t.config.maxDate&&V&&vi(V,t.config.maxDate,E!==void 0?E:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(V===void 0)return!1;for(var le=!!t.config.enable,he=(F=t.config.enable)!==null&&F!==void 0?F:t.config.disable,Qe=0,we=void 0;Qe<he.length;Qe++){if(we=he[Qe],typeof we=="function"&&we(V))return le;if(we instanceof Date&&V!==void 0&&we.getTime()===V.getTime())return le;if(typeof we=="string"){var rt=t.parseDate(we,void 0,!0);return rt&&rt.getTime()===V.getTime()?le:!le}else if(typeof we=="object"&&V!==void 0&&we.from&&we.to&&V.getTime()>=we.from.getTime()&&V.getTime()<=we.to.getTime())return le}return!le}function ke(_){return t.daysContainer!==void 0?_.className.indexOf("hidden")===-1&&_.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(_):!1}function Ye(_){var E=_.target===t._input,F=t._input.value.trimEnd()!==yi();E&&F&&!(_.relatedTarget&&be(_.relatedTarget))&&t.setDate(t._input.value,!0,_.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function gt(_){var E=bi(_),F=t.config.wrap?n.contains(E):E===t._input,V=t.config.allowInput,le=t.isOpen&&(!V||!F),he=t.config.inline&&F&&!V;if(_.keyCode===13&&F){if(V)return t.setDate(t._input.value,!0,E===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),E.blur();t.open()}else if(be(E)||le||he){var Qe=!!t.timeContainer&&t.timeContainer.contains(E);switch(_.keyCode){case 13:Qe?(_.preventDefault(),l(),ne()):ae(_);break;case 27:_.preventDefault(),ne();break;case 8:case 46:F&&!t.config.allowInput&&(_.preventDefault(),t.clear());break;case 37:case 39:if(!Qe&&!F){_.preventDefault();var we=s();if(t.daysContainer!==void 0&&(V===!1||we&&ke(we))){var rt=_.keyCode===39?1:-1;_.ctrlKey?(_.stopPropagation(),ze(rt),Y(P(1),0)):Y(void 0,rt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:_.preventDefault();var xe=_.keyCode===40?1:-1;t.daysContainer&&E.$i!==void 0||E===t.input||E===t.altInput?_.ctrlKey?(_.stopPropagation(),yt(t.currentYear-xe),Y(P(1),0)):Qe||Y(void 0,xe*7):E===t.currentYearElement?yt(t.currentYear-xe):t.config.enableTime&&(!Qe&&t.hourElement&&t.hourElement.focus(),l(_),t._debouncedChange());break;case 9:if(Qe){var k=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(j){return j}),N=k.indexOf(E);if(N!==-1){var z=k[N+(_.shiftKey?-1:1)];_.preventDefault(),(z||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(E)&&_.shiftKey&&(_.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&E===t.amPM)switch(_.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],d(),zt();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],d(),zt();break}(F||be(E))&&Pt("onKeyDown",_)}function Le(_,E){if(E===void 0&&(E="flatpickr-day"),!(t.selectedDates.length!==1||_&&(!_.classList.contains(E)||_.classList.contains("flatpickr-disabled")))){for(var F=_?_.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),V=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),le=Math.min(F,t.selectedDates[0].getTime()),he=Math.max(F,t.selectedDates[0].getTime()),Qe=!1,we=0,rt=0,xe=le;xe<he;xe+=_z.DAY)oe(new Date(xe),!0)||(Qe=Qe||xe>le&&xe<he,xe<V&&(!we||xe>we)?we=xe:xe>V&&(!rt||xe<rt)&&(rt=xe));var k=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+E));k.forEach(function(N){var z=N.dateObj,j=z.getTime(),K=we>0&&j<we||rt>0&&j>rt;if(K){N.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Q){N.classList.remove(Q)});return}else if(Qe&&!K)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Q){N.classList.remove(Q)}),_!==void 0&&(_.classList.add(F<=t.selectedDates[0].getTime()?"startRange":"endRange"),V<F&&j===V?N.classList.add("startRange"):V>F&&j===V&&N.classList.add("endRange"),j>=we&&(rt===0||j<=rt)&&xz(j,V,F)&&N.classList.add("inRange"))})}}function Ee(){t.isOpen&&!t.config.static&&!t.config.inline&&Ne()}function an(_,E){if(E===void 0&&(E=t._positionElement),t.isMobile===!0){if(_){_.preventDefault();var F=bi(_);F&&F.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Pt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var V=t.isOpen;t.isOpen=!0,V||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Pt("onOpen"),Ne(E)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(_===void 0||!t.timeContainer.contains(_.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Bt(_){return function(E){var F=t.config["_"+_+"Date"]=t.parseDate(E,t.config.dateFormat),V=t.config["_"+(_==="min"?"max":"min")+"Date"];F!==void 0&&(t[_==="min"?"minDateHasTime":"maxDateHasTime"]=F.getHours()>0||F.getMinutes()>0||F.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(le){return oe(le)}),!t.selectedDates.length&&_==="min"&&f(F),zt()),t.daysContainer&&(Fe(),F!==void 0?t.currentYearElement[_]=F.getFullYear().toString():t.currentYearElement.removeAttribute(_),t.currentYearElement.disabled=!!V&&F!==void 0&&V.getFullYear()===F.getFullYear())}}function ge(){var _=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],E=Yn(Yn({},JSON.parse(JSON.stringify(n.dataset||{}))),e),F={};t.config.parseDate=E.parseDate,t.config.formatDate=E.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(k){t.config._enable=Yt(k)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(k){t.config._disable=Yt(k)}});var V=E.mode==="time";if(!E.dateFormat&&(E.enableTime||V)){var le=gn.defaultConfig.dateFormat||Ma.dateFormat;F.dateFormat=E.noCalendar||V?"H:i"+(E.enableSeconds?":S":""):le+" H:i"+(E.enableSeconds?":S":"")}if(E.altInput&&(E.enableTime||V)&&!E.altFormat){var he=gn.defaultConfig.altFormat||Ma.altFormat;F.altFormat=E.noCalendar||V?"h:i"+(E.enableSeconds?":S K":" K"):he+(" h:i"+(E.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Bt("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Bt("max")});var Qe=function(k){return function(N){t.config[k==="min"?"_minTime":"_maxTime"]=t.parseDate(N,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Qe("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Qe("max")}),E.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,F,E);for(var we=0;we<_.length;we++)t.config[_[we]]=t.config[_[we]]===!0||t.config[_[we]]==="true";cp.filter(function(k){return t.config[k]!==void 0}).forEach(function(k){t.config[k]=up(t.config[k]||[]).map(o)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var we=0;we<t.config.plugins.length;we++){var rt=t.config.plugins[we](t)||{};for(var xe in rt)cp.indexOf(xe)>-1?t.config[xe]=up(rt[xe]).map(o).concat(t.config[xe]):typeof E[xe]>"u"&&(t.config[xe]=rt[xe])}E.altInputClass||(t.config.altInputClass=J().className+" "+t.config.altInputClass),Pt("onParseConfig")}function J(){return t.config.wrap?n.querySelector("[data-input]"):n}function Z(){typeof t.config.locale!="object"&&typeof gn.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Yn(Yn({},gn.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?gn.l10ns[t.config.locale]:void 0),ro.D="("+t.l10n.weekdays.shorthand.join("|")+")",ro.l="("+t.l10n.weekdays.longhand.join("|")+")",ro.M="("+t.l10n.months.shorthand.join("|")+")",ro.F="("+t.l10n.months.longhand.join("|")+")",ro.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var _=Yn(Yn({},e),JSON.parse(JSON.stringify(n.dataset||{})));_.time_24hr===void 0&&gn.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=ZS(t),t.parseDate=km({config:t.config,l10n:t.l10n})}function Ne(_){if(typeof t.config.position=="function")return void t.config.position(t,_);if(t.calendarContainer!==void 0){Pt("onPreCalendarPosition");var E=_||t._positionElement,F=Array.prototype.reduce.call(t.calendarContainer.children,function(nt,pt){return nt+pt.offsetHeight},0),V=t.calendarContainer.offsetWidth,le=t.config.position.split(" "),he=le[0],Qe=le.length>1?le[1]:null,we=E.getBoundingClientRect(),rt=window.innerHeight-we.bottom,xe=he==="above"||he!=="below"&&rt<F&&we.top>F,k=window.pageYOffset+we.top+(xe?-F-2:E.offsetHeight+2);if(Qn(t.calendarContainer,"arrowTop",!xe),Qn(t.calendarContainer,"arrowBottom",xe),!t.config.inline){var N=window.pageXOffset+we.left,z=!1,j=!1;Qe==="center"?(N-=(V-we.width)/2,z=!0):Qe==="right"&&(N-=V-we.width,j=!0),Qn(t.calendarContainer,"arrowLeft",!z&&!j),Qn(t.calendarContainer,"arrowCenter",z),Qn(t.calendarContainer,"arrowRight",j);var K=window.document.body.offsetWidth-(window.pageXOffset+we.right),Q=N+V>window.document.body.offsetWidth,ie=K+V>window.document.body.offsetWidth;if(Qn(t.calendarContainer,"rightMost",Q),!t.config.static)if(t.calendarContainer.style.top=k+"px",!Q)t.calendarContainer.style.left=N+"px",t.calendarContainer.style.right="auto";else if(!ie)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=K+"px";else{var pe=ce();if(pe===void 0)return;var Oe=window.document.body.offsetWidth,Ie=Math.max(0,Oe/2-V/2),st=".flatpickr-calendar.centerMost:before",tt=".flatpickr-calendar.centerMost:after",bt=pe.cssRules.length,Je="{left:"+we.left+"px;right:auto;}";Qn(t.calendarContainer,"rightMost",!1),Qn(t.calendarContainer,"centerMost",!0),pe.insertRule(st+","+tt+Je,bt),t.calendarContainer.style.left=Ie+"px",t.calendarContainer.style.right="auto"}}}}function ce(){for(var _=null,E=0;E<document.styleSheets.length;E++){var F=document.styleSheets[E];if(F.cssRules){try{F.cssRules}catch{continue}_=F;break}}return _??Et()}function Et(){var _=document.createElement("style");return document.head.appendChild(_),_.sheet}function Fe(){t.config.noCalendar||t.isMobile||(me(),Cr(),U())}function ne(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function ae(_){_.preventDefault(),_.stopPropagation();var E=function(k){return k.classList&&k.classList.contains("flatpickr-day")&&!k.classList.contains("flatpickr-disabled")&&!k.classList.contains("notAllowed")},F=XS(bi(_),E);if(F!==void 0){var V=F,le=t.latestSelectedDateObj=new Date(V.dateObj.getTime()),he=(le.getMonth()<t.currentMonth||le.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=V,t.config.mode==="single")t.selectedDates=[le];else if(t.config.mode==="multiple"){var Qe=Ci(le);Qe?t.selectedDates.splice(parseInt(Qe),1):t.selectedDates.push(le)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=le,t.selectedDates.push(le),vi(le,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(k,N){return k.getTime()-N.getTime()}));if(d(),he){var we=t.currentYear!==le.getFullYear();t.currentYear=le.getFullYear(),t.currentMonth=le.getMonth(),we&&(Pt("onYearChange"),me()),Pt("onMonthChange")}if(Cr(),U(),zt(),!he&&t.config.mode!=="range"&&t.config.showMonths===1?D(V):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var rt=t.config.mode==="single"&&!t.config.enableTime,xe=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(rt||xe)&&ne()}y()}}var De={locale:[Z,mt],showMonths:[Te,a,_t],minDate:[x],maxDate:[x],positionElement:[rr],clickOpens:[function(){t.config.clickOpens===!0?(g(t._input,"focus",t.open),g(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function xt(_,E){if(_!==null&&typeof _=="object"){Object.assign(t.config,_);for(var F in _)De[F]!==void 0&&De[F].forEach(function(V){return V()})}else t.config[_]=E,De[_]!==void 0?De[_].forEach(function(V){return V()}):cp.indexOf(_)>-1&&(t.config[_]=up(E));t.redraw(),zt(!0)}function et(_,E){var F=[];if(_ instanceof Array)F=_.map(function(V){return t.parseDate(V,E)});else if(_ instanceof Date||typeof _=="number")F=[t.parseDate(_,E)];else if(typeof _=="string")switch(t.config.mode){case"single":case"time":F=[t.parseDate(_,E)];break;case"multiple":F=_.split(t.config.conjunction).map(function(V){return t.parseDate(V,E)});break;case"range":F=_.split(t.l10n.rangeSeparator).map(function(V){return t.parseDate(V,E)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(_)));t.selectedDates=t.config.allowInvalidPreload?F:F.filter(function(V){return V instanceof Date&&oe(V,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(V,le){return V.getTime()-le.getTime()})}function nn(_,E,F){if(E===void 0&&(E=!1),F===void 0&&(F=t.config.dateFormat),_!==0&&!_||_ instanceof Array&&_.length===0)return t.clear(E);et(_,F),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),x(void 0,E),f(),t.selectedDates.length===0&&t.clear(!1),zt(E),E&&Pt("onChange")}function Yt(_){return _.slice().map(function(E){return typeof E=="string"||typeof E=="number"||E instanceof Date?t.parseDate(E,void 0,!0):E&&typeof E=="object"&&E.from&&E.to?{from:t.parseDate(E.from,void 0),to:t.parseDate(E.to,void 0)}:E}).filter(function(E){return E})}function ri(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var _=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);_&&et(_,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function gi(){if(t.input=J(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Nt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),rr()}function rr(){t._positionElement=t.config.positionElement||t._input}function In(){var _=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Nt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=_,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=_==="datetime-local"?"Y-m-d\\TH:i:S":_==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}g(t.mobileInput,"change",function(E){t.setDate(bi(E).value,!1,t.mobileFormatStr),Pt("onChange"),Pt("onClose")})}function Wi(_){if(t.isOpen===!0)return t.close();t.open(_)}function Pt(_,E){if(t.config!==void 0){var F=t.config[_];if(F!==void 0&&F.length>0)for(var V=0;F[V]&&V<F.length;V++)F[V](t.selectedDates,t.input.value,t,E);_==="onChange"&&(t.input.dispatchEvent(is("change")),t.input.dispatchEvent(is("input")))}}function is(_){var E=document.createEvent("Event");return E.initEvent(_,!0,!0),E}function Ci(_){for(var E=0;E<t.selectedDates.length;E++){var F=t.selectedDates[E];if(F instanceof Date&&vi(F,_)===0)return""+E}return!1}function rs(_){return t.config.mode!=="range"||t.selectedDates.length<2?!1:vi(_,t.selectedDates[0])>=0&&vi(_,t.selectedDates[1])<=0}function Cr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(_,E){var F=new Date(t.currentYear,t.currentMonth,1);F.setMonth(t.currentMonth+E),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[E].textContent=jd(F.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=F.getMonth().toString(),_.value=F.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function yi(_){var E=_||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(F){return t.formatDate(F,E)}).filter(function(F,V,le){return t.config.mode!=="range"||t.config.enableTime||le.indexOf(F)===V}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function zt(_){_===void 0&&(_=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=yi(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=yi(t.config.altFormat)),_!==!1&&Pt("onValueUpdate")}function zs(_){var E=bi(_),F=t.prevMonthNav.contains(E),V=t.nextMonthNav.contains(E);F||V?ze(F?-1:1):t.yearElements.indexOf(E)>=0?E.select():E.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):E.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Lo(_){_.preventDefault();var E=_.type==="keydown",F=bi(_),V=F;t.amPM!==void 0&&F===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Ai(t.amPM.textContent===t.l10n.amPM[0])]);var le=parseFloat(V.getAttribute("min")),he=parseFloat(V.getAttribute("max")),Qe=parseFloat(V.getAttribute("step")),we=parseInt(V.value,10),rt=_.delta||(E?_.which===38?1:-1:0),xe=we+Qe*rt;if(typeof V.value<"u"&&V.value.length===2){var k=V===t.hourElement,N=V===t.minuteElement;xe<le?(xe=he+xe+Ai(!k)+(Ai(k)&&Ai(!t.amPM)),N&&O(void 0,-1,t.hourElement)):xe>he&&(xe=V===t.hourElement?xe-he-Ai(!t.amPM):le,N&&O(void 0,1,t.hourElement)),t.amPM&&k&&(Qe===1?xe+we===23:Math.abs(xe-we)>Qe)&&(t.amPM.textContent=t.l10n.amPM[Ai(t.amPM.textContent===t.l10n.amPM[0])]),V.value=ci(xe)}}return r(),t}function Ca(n,e){for(var t=Array.prototype.slice.call(n).filter(function(o){return o instanceof HTMLElement}),i=[],r=0;r<t.length;r++){var s=t[r];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=Mz(s,e||{}),i.push(s._flatpickr)}catch(o){console.error(o)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Ca(this,n)},HTMLElement.prototype.flatpickr=function(n){return Ca([this],n)});var gn=function(n,e){return typeof n=="string"?Ca(window.document.querySelectorAll(n),e):n instanceof Node?Ca([n],e):Ca(n,e)};gn.defaultConfig={};gn.l10ns={en:Yn({},cc),default:Yn({},cc)};gn.localize=function(n){gn.l10ns.default=Yn(Yn({},gn.l10ns.default),n)};gn.setDefaults=function(n){gn.defaultConfig=Yn(Yn({},gn.defaultConfig),n)};gn.parseDate=km({});gn.formatDate=ZS({});gn.compareDates=vi;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Ca(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=gn);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var QS;function de(){return QS.apply(null,arguments)}function Cz(n){QS=n}function er(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function ko(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Dt(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function $g(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(Dt(n,e))return!1;return!0}function li(n){return n===void 0}function Zr(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function Mc(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function e1(n,e){var t=[],i,r=n.length;for(i=0;i<r;++i)t.push(e(n[i],i));return t}function _s(n,e){for(var t in e)Dt(e,t)&&(n[t]=e[t]);return Dt(e,"toString")&&(n.toString=e.toString),Dt(e,"valueOf")&&(n.valueOf=e.valueOf),n}function Sr(n,e,t,i){return _1(n,e,t,i,!0).utc()}function Ez(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function lt(n){return n._pf==null&&(n._pf=Ez()),n._pf}var _m;Array.prototype.some?_m=Array.prototype.some:_m=function(n){var e=Object(this),t=e.length>>>0,i;for(i=0;i<t;i++)if(i in e&&n.call(this,e[i],i,e))return!0;return!1};function Wg(n){var e=null,t=!1,i=n._d&&!isNaN(n._d.getTime());if(i&&(e=lt(n),t=_m.call(e.parsedDateParts,function(r){return r!=null}),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i;return n._isValid}function Cf(n){var e=Sr(NaN);return n!=null?_s(lt(e),n):lt(e).userInvalidated=!0,e}var ww=de.momentProperties=[],pp=!1;function Vg(n,e){var t,i,r,s=ww.length;if(li(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),li(e._i)||(n._i=e._i),li(e._f)||(n._f=e._f),li(e._l)||(n._l=e._l),li(e._strict)||(n._strict=e._strict),li(e._tzm)||(n._tzm=e._tzm),li(e._isUTC)||(n._isUTC=e._isUTC),li(e._offset)||(n._offset=e._offset),li(e._pf)||(n._pf=lt(e)),li(e._locale)||(n._locale=e._locale),s>0)for(t=0;t<s;t++)i=ww[t],r=e[i],li(r)||(n[i]=r);return n}function Cc(n){Vg(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),pp===!1&&(pp=!0,de.updateOffset(this),pp=!1)}function tr(n){return n instanceof Cc||n!=null&&n._isAMomentObject!=null}function t1(n){de.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function ji(n,e){var t=!0;return _s(function(){if(de.deprecationHandler!=null&&de.deprecationHandler(null,n),t){var i=[],r,s,o,a=arguments.length;for(s=0;s<a;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])Dt(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];i.push(r)}t1(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var xw={};function n1(n,e){de.deprecationHandler!=null&&de.deprecationHandler(n,e),xw[n]||(t1(e),xw[n]=!0)}de.suppressDeprecationWarnings=!1;de.deprecationHandler=null;function Mr(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function Oz(n){var e,t;for(t in n)Dt(n,t)&&(e=n[t],Mr(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Sm(n,e){var t=_s({},n),i;for(i in e)Dt(e,i)&&(ko(n[i])&&ko(e[i])?(t[i]={},_s(t[i],n[i]),_s(t[i],e[i])):e[i]!=null?t[i]=e[i]:delete t[i]);for(i in n)Dt(n,i)&&!Dt(e,i)&&ko(n[i])&&(t[i]=_s({},t[i]));return t}function Yg(n){n!=null&&this.set(n)}var Mm;Object.keys?Mm=Object.keys:Mm=function(n){var e,t=[];for(e in n)Dt(n,e)&&t.push(e);return t};var Tz={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Dz(n,e,t){var i=this._calendar[n]||this._calendar.sameElse;return Mr(i)?i.call(e,t):i}function kr(n,e,t){var i=""+Math.abs(n),r=e-i.length,s=n>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var Ug=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Cu=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,mp={},Ea={};function Ve(n,e,t,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),n&&(Ea[n]=r),e&&(Ea[e[0]]=function(){return kr(r.apply(this,arguments),e[1],e[2])}),t&&(Ea[t]=function(){return this.localeData().ordinal(r.apply(this,arguments),n)})}function Az(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function Pz(n){var e=n.match(Ug),t,i;for(t=0,i=e.length;t<i;t++)Ea[e[t]]?e[t]=Ea[e[t]]:e[t]=Az(e[t]);return function(r){var s="",o;for(o=0;o<i;o++)s+=Mr(e[o])?e[o].call(r,n):e[o];return s}}function Hu(n,e){return n.isValid()?(e=i1(e,n.localeData()),mp[e]=mp[e]||Pz(e),mp[e](n)):n.localeData().invalidDate()}function i1(n,e){var t=5;function i(r){return e.longDateFormat(r)||r}for(Cu.lastIndex=0;t>=0&&Cu.test(n);)n=n.replace(Cu,i),Cu.lastIndex=0,t-=1;return n}var Rz={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Nz(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(Ug).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var Iz="Invalid date";function Lz(){return this._invalidDate}var Fz="%d",Bz=/\d{1,2}/;function Hz(n){return this._ordinal.replace("%d",n)}var zz={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function jz(n,e,t,i){var r=this._relativeTime[t];return Mr(r)?r(n,e,t,i):r.replace(/%d/i,n)}function $z(n,e){var t=this._relativeTime[n>0?"future":"past"];return Mr(t)?t(e):t.replace(/%s/i,e)}var kw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function $i(n){return typeof n=="string"?kw[n]||kw[n.toLowerCase()]:void 0}function qg(n){var e={},t,i;for(i in n)Dt(n,i)&&(t=$i(i),t&&(e[t]=n[i]));return e}var Wz={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Vz(n){var e=[],t;for(t in n)Dt(n,t)&&e.push({unit:t,priority:Wz[t]});return e.sort(function(i,r){return i.priority-r.priority}),e}var r1=/\d/,Mi=/\d\d/,s1=/\d{3}/,Kg=/\d{4}/,Ef=/[+-]?\d{6}/,en=/\d\d?/,o1=/\d\d\d\d?/,a1=/\d\d\d\d\d\d?/,Of=/\d{1,3}/,Jg=/\d{1,4}/,Tf=/[+-]?\d{1,6}/,$a=/\d+/,Df=/[+-]?\d+/,Yz=/Z|[+-]\d\d:?\d\d/gi,Af=/Z|[+-]\d\d(?::?\d\d)?/gi,Uz=/[+-]?\d+(\.\d{1,3})?/,Ec=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Wa=/^[1-9]\d?/,Gg=/^([1-9]\d|\d)/,$d;$d={};function Ce(n,e,t){$d[n]=Mr(e)?e:function(i,r){return i&&t?t:e}}function qz(n,e){return Dt($d,n)?$d[n](e._strict,e._locale):new RegExp(Kz(n))}function Kz(n){return Jr(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,r,s){return t||i||r||s}))}function Jr(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ni(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function wt(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=Ni(e)),t}var Cm={};function Ht(n,e){var t,i=e,r;for(typeof n=="string"&&(n=[n]),Zr(e)&&(i=function(s,o){o[e]=wt(s)}),r=n.length,t=0;t<r;t++)Cm[n[t]]=i}function Oc(n,e){Ht(n,function(t,i,r,s){r._w=r._w||{},e(t,r._w,r,s)})}function Jz(n,e,t){e!=null&&Dt(Cm,n)&&Cm[n](e,t._a,t,n)}function Pf(n){return n%4===0&&n%100!==0||n%400===0}var Jn=0,Yr=1,yr=2,On=3,Xi=4,Ur=5,ho=6,Gz=7,Xz=8;Ve("Y",0,0,function(){var n=this.year();return n<=9999?kr(n,4):"+"+n});Ve(0,["YY",2],0,function(){return this.year()%100});Ve(0,["YYYY",4],0,"year");Ve(0,["YYYYY",5],0,"year");Ve(0,["YYYYYY",6,!0],0,"year");Ce("Y",Df);Ce("YY",en,Mi);Ce("YYYY",Jg,Kg);Ce("YYYYY",Tf,Ef);Ce("YYYYYY",Tf,Ef);Ht(["YYYYY","YYYYYY"],Jn);Ht("YYYY",function(n,e){e[Jn]=n.length===2?de.parseTwoDigitYear(n):wt(n)});Ht("YY",function(n,e){e[Jn]=de.parseTwoDigitYear(n)});Ht("Y",function(n,e){e[Jn]=parseInt(n,10)});function $l(n){return Pf(n)?366:365}de.parseTwoDigitYear=function(n){return wt(n)+(wt(n)>68?1900:2e3)};var l1=Va("FullYear",!0);function Zz(){return Pf(this.year())}function Va(n,e){return function(t){return t!=null?(c1(this,n,t),de.updateOffset(this,e),this):uc(this,n)}}function uc(n,e){if(!n.isValid())return NaN;var t=n._d,i=n._isUTC;switch(e){case"Milliseconds":return i?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return i?t.getUTCSeconds():t.getSeconds();case"Minutes":return i?t.getUTCMinutes():t.getMinutes();case"Hours":return i?t.getUTCHours():t.getHours();case"Date":return i?t.getUTCDate():t.getDate();case"Day":return i?t.getUTCDay():t.getDay();case"Month":return i?t.getUTCMonth():t.getMonth();case"FullYear":return i?t.getUTCFullYear():t.getFullYear();default:return NaN}}function c1(n,e,t){var i,r,s,o,a;if(!(!n.isValid()||isNaN(t))){switch(i=n._d,r=n._isUTC,e){case"Milliseconds":return void(r?i.setUTCMilliseconds(t):i.setMilliseconds(t));case"Seconds":return void(r?i.setUTCSeconds(t):i.setSeconds(t));case"Minutes":return void(r?i.setUTCMinutes(t):i.setMinutes(t));case"Hours":return void(r?i.setUTCHours(t):i.setHours(t));case"Date":return void(r?i.setUTCDate(t):i.setDate(t));case"FullYear":break;default:return}s=t,o=n.month(),a=n.date(),a=a===29&&o===1&&!Pf(s)?28:a,r?i.setUTCFullYear(s,o,a):i.setFullYear(s,o,a)}}function Qz(n){return n=$i(n),Mr(this[n])?this[n]():this}function ej(n,e){if(typeof n=="object"){n=qg(n);var t=Vz(n),i,r=t.length;for(i=0;i<r;i++)this[t[i].unit](n[t[i].unit])}else if(n=$i(n),Mr(this[n]))return this[n](e);return this}function tj(n,e){return(n%e+e)%e}var mn;Array.prototype.indexOf?mn=Array.prototype.indexOf:mn=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function Xg(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=tj(e,12);return n+=(e-t)/12,t===1?Pf(n)?29:28:31-t%7%2}Ve("M",["MM",2],"Mo",function(){return this.month()+1});Ve("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});Ve("MMMM",0,0,function(n){return this.localeData().months(this,n)});Ce("M",en,Wa);Ce("MM",en,Mi);Ce("MMM",function(n,e){return e.monthsShortRegex(n)});Ce("MMMM",function(n,e){return e.monthsRegex(n)});Ht(["M","MM"],function(n,e){e[Yr]=wt(n)-1});Ht(["MMM","MMMM"],function(n,e,t,i){var r=t._locale.monthsParse(n,i,t._strict);r!=null?e[Yr]=r:lt(t).invalidMonth=n});var nj="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),u1="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),d1=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ij=Ec,rj=Ec;function sj(n,e){return n?er(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||d1).test(e)?"format":"standalone"][n.month()]:er(this._months)?this._months:this._months.standalone}function oj(n,e){return n?er(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[d1.test(e)?"format":"standalone"][n.month()]:er(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function aj(n,e,t){var i,r,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Sr([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(r=mn.call(this._shortMonthsParse,o),r!==-1?r:null):(r=mn.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=mn.call(this._shortMonthsParse,o),r!==-1?r:(r=mn.call(this._longMonthsParse,o),r!==-1?r:null)):(r=mn.call(this._longMonthsParse,o),r!==-1?r:(r=mn.call(this._shortMonthsParse,o),r!==-1?r:null))}function lj(n,e,t){var i,r,s;if(this._monthsParseExact)return aj.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=Sr([2e3,i]),t&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!t&&!this._monthsParse[i]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(t&&e==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!t&&this._monthsParse[i].test(n))return i}}function f1(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=wt(e);else if(e=n.localeData().monthsParse(e),!Zr(e))return n}var t=e,i=n.date();return i=i<29?i:Math.min(i,Xg(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,i):n._d.setMonth(t,i),n}function h1(n){return n!=null?(f1(this,n),de.updateOffset(this,!0),this):uc(this,"Month")}function cj(){return Xg(this.year(),this.month())}function uj(n){return this._monthsParseExact?(Dt(this,"_monthsRegex")||p1.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Dt(this,"_monthsShortRegex")||(this._monthsShortRegex=ij),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function dj(n){return this._monthsParseExact?(Dt(this,"_monthsRegex")||p1.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Dt(this,"_monthsRegex")||(this._monthsRegex=rj),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function p1(){function n(l,c){return c.length-l.length}var e=[],t=[],i=[],r,s,o,a;for(r=0;r<12;r++)s=Sr([2e3,r]),o=Jr(this.monthsShort(s,"")),a=Jr(this.months(s,"")),e.push(o),t.push(a),i.push(a),i.push(o);e.sort(n),t.sort(n),i.sort(n),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function fj(n,e,t,i,r,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,i,r,s,o),a}function dc(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function Wd(n,e,t){var i=7+e-t,r=(7+dc(n,0,i).getUTCDay()-e)%7;return-r+i-1}function m1(n,e,t,i,r){var s=(7+t-i)%7,o=Wd(n,i,r),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=n-1,c=$l(l)+a):a>$l(n)?(l=n+1,c=a-$l(n)):(l=n,c=a),{year:l,dayOfYear:c}}function fc(n,e,t){var i=Wd(n.year(),e,t),r=Math.floor((n.dayOfYear()-i-1)/7)+1,s,o;return r<1?(o=n.year()-1,s=r+Gr(o,e,t)):r>Gr(n.year(),e,t)?(s=r-Gr(n.year(),e,t),o=n.year()+1):(o=n.year(),s=r),{week:s,year:o}}function Gr(n,e,t){var i=Wd(n,e,t),r=Wd(n+1,e,t);return($l(n)-i+r)/7}Ve("w",["ww",2],"wo","week");Ve("W",["WW",2],"Wo","isoWeek");Ce("w",en,Wa);Ce("ww",en,Mi);Ce("W",en,Wa);Ce("WW",en,Mi);Oc(["w","ww","W","WW"],function(n,e,t,i){e[i.substr(0,1)]=wt(n)});function hj(n){return fc(n,this._week.dow,this._week.doy).week}var pj={dow:0,doy:6};function mj(){return this._week.dow}function gj(){return this._week.doy}function yj(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function bj(n){var e=fc(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}Ve("d",0,"do","day");Ve("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});Ve("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});Ve("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});Ve("e",0,0,"weekday");Ve("E",0,0,"isoWeekday");Ce("d",en);Ce("e",en);Ce("E",en);Ce("dd",function(n,e){return e.weekdaysMinRegex(n)});Ce("ddd",function(n,e){return e.weekdaysShortRegex(n)});Ce("dddd",function(n,e){return e.weekdaysRegex(n)});Oc(["dd","ddd","dddd"],function(n,e,t,i){var r=t._locale.weekdaysParse(n,i,t._strict);r!=null?e.d=r:lt(t).invalidWeekday=n});Oc(["d","e","E"],function(n,e,t,i){e[i]=wt(n)});function vj(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function wj(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function Zg(n,e){return n.slice(e,7).concat(n.slice(0,e))}var xj="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),g1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kj="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_j=Ec,Sj=Ec,Mj=Ec;function Cj(n,e){var t=er(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?Zg(t,this._week.dow):n?t[n.day()]:t}function Ej(n){return n===!0?Zg(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function Oj(n){return n===!0?Zg(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Tj(n,e,t){var i,r,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Sr([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(r=mn.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=mn.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=mn.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=mn.call(this._weekdaysParse,o),r!==-1||(r=mn.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=mn.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=mn.call(this._shortWeekdaysParse,o),r!==-1||(r=mn.call(this._weekdaysParse,o),r!==-1)?r:(r=mn.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=mn.call(this._minWeekdaysParse,o),r!==-1||(r=mn.call(this._weekdaysParse,o),r!==-1)?r:(r=mn.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function Dj(n,e,t){var i,r,s;if(this._weekdaysParseExact)return Tj.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=Sr([2e3,1]).day(i),t&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(t&&e==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(t&&e==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!t&&this._weekdaysParse[i].test(n))return i}}function Aj(n){if(!this.isValid())return n!=null?this:NaN;var e=uc(this,"Day");return n!=null?(n=vj(n,this.localeData()),this.add(n-e,"d")):e}function Pj(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function Rj(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=wj(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Nj(n){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||Qg.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Dt(this,"_weekdaysRegex")||(this._weekdaysRegex=_j),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ij(n){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||Qg.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Dt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Sj),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Lj(n){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||Qg.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Dt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mj),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qg(){function n(u,d){return d.length-u.length}var e=[],t=[],i=[],r=[],s,o,a,l,c;for(s=0;s<7;s++)o=Sr([2e3,1]).day(s),a=Jr(this.weekdaysMin(o,"")),l=Jr(this.weekdaysShort(o,"")),c=Jr(this.weekdays(o,"")),e.push(a),t.push(l),i.push(c),r.push(a),r.push(l),r.push(c);e.sort(n),t.sort(n),i.sort(n),r.sort(n),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function ey(){return this.hours()%12||12}function Fj(){return this.hours()||24}Ve("H",["HH",2],0,"hour");Ve("h",["hh",2],0,ey);Ve("k",["kk",2],0,Fj);Ve("hmm",0,0,function(){return""+ey.apply(this)+kr(this.minutes(),2)});Ve("hmmss",0,0,function(){return""+ey.apply(this)+kr(this.minutes(),2)+kr(this.seconds(),2)});Ve("Hmm",0,0,function(){return""+this.hours()+kr(this.minutes(),2)});Ve("Hmmss",0,0,function(){return""+this.hours()+kr(this.minutes(),2)+kr(this.seconds(),2)});function y1(n,e){Ve(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}y1("a",!0);y1("A",!1);function b1(n,e){return e._meridiemParse}Ce("a",b1);Ce("A",b1);Ce("H",en,Gg);Ce("h",en,Wa);Ce("k",en,Wa);Ce("HH",en,Mi);Ce("hh",en,Mi);Ce("kk",en,Mi);Ce("hmm",o1);Ce("hmmss",a1);Ce("Hmm",o1);Ce("Hmmss",a1);Ht(["H","HH"],On);Ht(["k","kk"],function(n,e,t){var i=wt(n);e[On]=i===24?0:i});Ht(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});Ht(["h","hh"],function(n,e,t){e[On]=wt(n),lt(t).bigHour=!0});Ht("hmm",function(n,e,t){var i=n.length-2;e[On]=wt(n.substr(0,i)),e[Xi]=wt(n.substr(i)),lt(t).bigHour=!0});Ht("hmmss",function(n,e,t){var i=n.length-4,r=n.length-2;e[On]=wt(n.substr(0,i)),e[Xi]=wt(n.substr(i,2)),e[Ur]=wt(n.substr(r)),lt(t).bigHour=!0});Ht("Hmm",function(n,e,t){var i=n.length-2;e[On]=wt(n.substr(0,i)),e[Xi]=wt(n.substr(i))});Ht("Hmmss",function(n,e,t){var i=n.length-4,r=n.length-2;e[On]=wt(n.substr(0,i)),e[Xi]=wt(n.substr(i,2)),e[Ur]=wt(n.substr(r))});function Bj(n){return(n+"").toLowerCase().charAt(0)==="p"}var Hj=/[ap]\.?m?\.?/i,zj=Va("Hours",!0);function jj(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var v1={calendar:Tz,longDateFormat:Rz,invalidDate:Iz,ordinal:Fz,dayOfMonthOrdinalParse:Bz,relativeTime:zz,months:nj,monthsShort:u1,week:pj,weekdays:xj,weekdaysMin:kj,weekdaysShort:g1,meridiemParse:Hj},sn={},hl={},hc;function $j(n,e){var t,i=Math.min(n.length,e.length);for(t=0;t<i;t+=1)if(n[t]!==e[t])return t;return i}function _w(n){return n&&n.toLowerCase().replace("_","-")}function Wj(n){for(var e=0,t,i,r,s;e<n.length;){for(s=_w(n[e]).split("-"),t=s.length,i=_w(n[e+1]),i=i?i.split("-"):null;t>0;){if(r=Rf(s.slice(0,t).join("-")),r)return r;if(i&&i.length>=t&&$j(s,i)>=t-1)break;t--}e++}return hc}function Vj(n){return!!(n&&n.match("^[^/\\\\]*$"))}function Rf(n){var e=null,t;if(sn[n]===void 0&&typeof _o<"u"&&_o&&_o.exports&&Vj(n))try{e=hc._abbr,t=require,t("./locale/"+n),Ps(e)}catch{sn[n]=null}return sn[n]}function Ps(n,e){var t;return n&&(li(e)?t=ts(n):t=ty(n,e),t?hc=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),hc._abbr}function ty(n,e){if(e!==null){var t,i=v1;if(e.abbr=n,sn[n]!=null)n1("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=sn[n]._config;else if(e.parentLocale!=null)if(sn[e.parentLocale]!=null)i=sn[e.parentLocale]._config;else if(t=Rf(e.parentLocale),t!=null)i=t._config;else return hl[e.parentLocale]||(hl[e.parentLocale]=[]),hl[e.parentLocale].push({name:n,config:e}),null;return sn[n]=new Yg(Sm(i,e)),hl[n]&&hl[n].forEach(function(r){ty(r.name,r.config)}),Ps(n),sn[n]}else return delete sn[n],null}function Yj(n,e){if(e!=null){var t,i,r=v1;sn[n]!=null&&sn[n].parentLocale!=null?sn[n].set(Sm(sn[n]._config,e)):(i=Rf(n),i!=null&&(r=i._config),e=Sm(r,e),i==null&&(e.abbr=n),t=new Yg(e),t.parentLocale=sn[n],sn[n]=t),Ps(n)}else sn[n]!=null&&(sn[n].parentLocale!=null?(sn[n]=sn[n].parentLocale,n===Ps()&&Ps(n)):sn[n]!=null&&delete sn[n]);return sn[n]}function ts(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return hc;if(!er(n)){if(e=Rf(n),e)return e;n=[n]}return Wj(n)}function Uj(){return Mm(sn)}function ny(n){var e,t=n._a;return t&&lt(n).overflow===-2&&(e=t[Yr]<0||t[Yr]>11?Yr:t[yr]<1||t[yr]>Xg(t[Jn],t[Yr])?yr:t[On]<0||t[On]>24||t[On]===24&&(t[Xi]!==0||t[Ur]!==0||t[ho]!==0)?On:t[Xi]<0||t[Xi]>59?Xi:t[Ur]<0||t[Ur]>59?Ur:t[ho]<0||t[ho]>999?ho:-1,lt(n)._overflowDayOfYear&&(e<Jn||e>yr)&&(e=yr),lt(n)._overflowWeeks&&e===-1&&(e=Gz),lt(n)._overflowWeekday&&e===-1&&(e=Xz),lt(n).overflow=e),n}var qj=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kj=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jj=/Z|[+-]\d\d(?::?\d\d)?/,Eu=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Gj=/^\/?Date\((-?\d+)/i,Xj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zj={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function w1(n){var e,t,i=n._i,r=qj.exec(i)||Kj.exec(i),s,o,a,l,c=Eu.length,u=gp.length;if(r){for(lt(n).iso=!0,e=0,t=c;e<t;e++)if(Eu[e][1].exec(r[1])){o=Eu[e][0],s=Eu[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(r[3]){for(e=0,t=u;e<t;e++)if(gp[e][1].exec(r[3])){a=(r[2]||" ")+gp[e][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(r[4])if(Jj.exec(r[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),ry(n)}else n._isValid=!1}function Qj(n,e,t,i,r,s){var o=[e$(n),u1.indexOf(e),parseInt(t,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function e$(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function t$(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function n$(n,e,t){if(n){var i=g1.indexOf(n),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return lt(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function i$(n,e,t){if(n)return Zj[n];if(e)return 0;var i=parseInt(t,10),r=i%100,s=(i-r)/100;return s*60+r}function x1(n){var e=Xj.exec(t$(n._i)),t;if(e){if(t=Qj(e[4],e[3],e[2],e[5],e[6],e[7]),!n$(e[1],t,n))return;n._a=t,n._tzm=i$(e[8],e[9],e[10]),n._d=dc.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),lt(n).rfc2822=!0}else n._isValid=!1}function r$(n){var e=Gj.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(w1(n),n._isValid===!1)delete n._isValid;else return;if(x1(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:de.createFromInputFallback(n)}de.createFromInputFallback=ji("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function fa(n,e,t){return n??e??t}function s$(n){var e=new Date(de.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function iy(n){var e,t,i=[],r,s,o;if(!n._d){for(r=s$(n),n._w&&n._a[yr]==null&&n._a[Yr]==null&&o$(n),n._dayOfYear!=null&&(o=fa(n._a[Jn],r[Jn]),(n._dayOfYear>$l(o)||n._dayOfYear===0)&&(lt(n)._overflowDayOfYear=!0),t=dc(o,0,n._dayOfYear),n._a[Yr]=t.getUTCMonth(),n._a[yr]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=i[e]=r[e];for(;e<7;e++)n._a[e]=i[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[On]===24&&n._a[Xi]===0&&n._a[Ur]===0&&n._a[ho]===0&&(n._nextDay=!0,n._a[On]=0),n._d=(n._useUTC?dc:fj).apply(null,i),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[On]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==s&&(lt(n).weekdayMismatch=!0)}}function o$(n){var e,t,i,r,s,o,a,l,c;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=fa(e.GG,n._a[Jn],fc(Qt(),1,4).year),i=fa(e.W,1),r=fa(e.E,1),(r<1||r>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,c=fc(Qt(),s,o),t=fa(e.gg,n._a[Jn],c.year),i=fa(e.w,c.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),i<1||i>Gr(t,s,o)?lt(n)._overflowWeeks=!0:l!=null?lt(n)._overflowWeekday=!0:(a=m1(t,i,r,s,o),n._a[Jn]=a.year,n._dayOfYear=a.dayOfYear)}de.ISO_8601=function(){};de.RFC_2822=function(){};function ry(n){if(n._f===de.ISO_8601){w1(n);return}if(n._f===de.RFC_2822){x1(n);return}n._a=[],lt(n).empty=!0;var e=""+n._i,t,i,r,s,o,a=e.length,l=0,c,u;for(r=i1(n._f,n._locale).match(Ug)||[],u=r.length,t=0;t<u;t++)s=r[t],i=(e.match(qz(s,n))||[])[0],i&&(o=e.substr(0,e.indexOf(i)),o.length>0&&lt(n).unusedInput.push(o),e=e.slice(e.indexOf(i)+i.length),l+=i.length),Ea[s]?(i?lt(n).empty=!1:lt(n).unusedTokens.push(s),Jz(s,i,n)):n._strict&&!i&&lt(n).unusedTokens.push(s);lt(n).charsLeftOver=a-l,e.length>0&&lt(n).unusedInput.push(e),n._a[On]<=12&&lt(n).bigHour===!0&&n._a[On]>0&&(lt(n).bigHour=void 0),lt(n).parsedDateParts=n._a.slice(0),lt(n).meridiem=n._meridiem,n._a[On]=a$(n._locale,n._a[On],n._meridiem),c=lt(n).era,c!==null&&(n._a[Jn]=n._locale.erasConvertYear(c,n._a[Jn])),iy(n),ny(n)}function a$(n,e,t){var i;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(i=n.isPM(t),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function l$(n){var e,t,i,r,s,o,a=!1,l=n._f.length;if(l===0){lt(n).invalidFormat=!0,n._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,o=!1,e=Vg({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[r],ry(e),Wg(e)&&(o=!0),s+=lt(e).charsLeftOver,s+=lt(e).unusedTokens.length*10,lt(e).score=s,a?s<i&&(i=s,t=e):(i==null||s<i||o)&&(i=s,t=e,o&&(a=!0));_s(n,t||e)}function c$(n){if(!n._d){var e=qg(n._i),t=e.day===void 0?e.date:e.day;n._a=e1([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),iy(n)}}function u$(n){var e=new Cc(ny(k1(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function k1(n){var e=n._i,t=n._f;return n._locale=n._locale||ts(n._l),e===null||t===void 0&&e===""?Cf({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),tr(e)?new Cc(ny(e)):(Mc(e)?n._d=e:er(t)?l$(n):t?ry(n):d$(n),Wg(n)||(n._d=null),n))}function d$(n){var e=n._i;li(e)?n._d=new Date(de.now()):Mc(e)?n._d=new Date(e.valueOf()):typeof e=="string"?r$(n):er(e)?(n._a=e1(e.slice(0),function(t){return parseInt(t,10)}),iy(n)):ko(e)?c$(n):Zr(e)?n._d=new Date(e):de.createFromInputFallback(n)}function _1(n,e,t,i,r){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(t===!0||t===!1)&&(i=t,t=void 0),(ko(n)&&$g(n)||er(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=t,s._i=n,s._f=e,s._strict=i,u$(s)}function Qt(n,e,t,i){return _1(n,e,t,i,!1)}var f$=ji("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Qt.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:Cf()}),h$=ji("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Qt.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:Cf()});function S1(n,e){var t,i;if(e.length===1&&er(e[0])&&(e=e[0]),!e.length)return Qt();for(t=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][n](t))&&(t=e[i]);return t}function p$(){var n=[].slice.call(arguments,0);return S1("isBefore",n)}function m$(){var n=[].slice.call(arguments,0);return S1("isAfter",n)}var g$=function(){return Date.now?Date.now():+new Date},pl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function y$(n){var e,t=!1,i,r=pl.length;for(e in n)if(Dt(n,e)&&!(mn.call(pl,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(i=0;i<r;++i)if(n[pl[i]]){if(t)return!1;parseFloat(n[pl[i]])!==wt(n[pl[i]])&&(t=!0)}return!0}function b$(){return this._isValid}function v$(){return ir(NaN)}function Nf(n){var e=qg(n),t=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=y$(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+i*3+t*12,this._data={},this._locale=ts(),this._bubble()}function zu(n){return n instanceof Nf}function Em(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function w$(n,e,t){var i=Math.min(n.length,e.length),r=Math.abs(n.length-e.length),s=0,o;for(o=0;o<i;o++)wt(n[o])!==wt(e[o])&&s++;return s+r}function M1(n,e){Ve(n,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+kr(~~(t/60),2)+e+kr(~~t%60,2)})}M1("Z",":");M1("ZZ","");Ce("Z",Af);Ce("ZZ",Af);Ht(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=sy(Af,n)});var x$=/([\+\-]|\d\d)/gi;function sy(n,e){var t=(e||"").match(n),i,r,s;return t===null?null:(i=t[t.length-1]||[],r=(i+"").match(x$)||["-",0,0],s=+(r[1]*60)+wt(r[2]),s===0?0:r[0]==="+"?s:-s)}function oy(n,e){var t,i;return e._isUTC?(t=e.clone(),i=(tr(n)||Mc(n)?n.valueOf():Qt(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+i),de.updateOffset(t,!1),t):Qt(n).local()}function Om(n){return-Math.round(n._d.getTimezoneOffset())}de.updateOffset=function(){};function k$(n,e,t){var i=this._offset||0,r;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=sy(Af,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(r=Om(this)),this._offset=n,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==n&&(!e||this._changeInProgress?O1(this,ir(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,de.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:Om(this)}function _$(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function S$(n){return this.utcOffset(0,n)}function M$(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(Om(this),"m")),this}function C$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=sy(Yz,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function E$(n){return this.isValid()?(n=n?Qt(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function O$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function T$(){if(!li(this._isDSTShifted))return this._isDSTShifted;var n={},e;return Vg(n,this),n=k1(n),n._a?(e=n._isUTC?Sr(n._a):Qt(n._a),this._isDSTShifted=this.isValid()&&w$(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function D$(){return this.isValid()?!this._isUTC:!1}function A$(){return this.isValid()?this._isUTC:!1}function C1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var P$=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,R$=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ir(n,e){var t=n,i=null,r,s,o;return zu(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:Zr(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(i=P$.exec(n))?(r=i[1]==="-"?-1:1,t={y:0,d:wt(i[yr])*r,h:wt(i[On])*r,m:wt(i[Xi])*r,s:wt(i[Ur])*r,ms:wt(Em(i[ho]*1e3))*r}):(i=R$.exec(n))?(r=i[1]==="-"?-1:1,t={y:Qs(i[2],r),M:Qs(i[3],r),w:Qs(i[4],r),d:Qs(i[5],r),h:Qs(i[6],r),m:Qs(i[7],r),s:Qs(i[8],r)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=N$(Qt(t.from),Qt(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new Nf(t),zu(n)&&Dt(n,"_locale")&&(s._locale=n._locale),zu(n)&&Dt(n,"_isValid")&&(s._isValid=n._isValid),s}ir.fn=Nf.prototype;ir.invalid=v$;function Qs(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function Sw(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function N$(n,e){var t;return n.isValid()&&e.isValid()?(e=oy(e,n),n.isBefore(e)?t=Sw(n,e):(t=Sw(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function E1(n,e){return function(t,i){var r,s;return i!==null&&!isNaN(+i)&&(n1(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=i,i=s),r=ir(t,i),O1(this,r,n),this}}function O1(n,e,t,i){var r=e._milliseconds,s=Em(e._days),o=Em(e._months);n.isValid()&&(i=i??!0,o&&f1(n,uc(n,"Month")+o*t),s&&c1(n,"Date",uc(n,"Date")+s*t),r&&n._d.setTime(n._d.valueOf()+r*t),i&&de.updateOffset(n,s||o))}var I$=E1(1,"add"),L$=E1(-1,"subtract");function T1(n){return typeof n=="string"||n instanceof String}function F$(n){return tr(n)||Mc(n)||T1(n)||Zr(n)||H$(n)||B$(n)||n===null||n===void 0}function B$(n){var e=ko(n)&&!$g(n),t=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,o=i.length;for(r=0;r<o;r+=1)s=i[r],t=t||Dt(n,s);return e&&t}function H$(n){var e=er(n),t=!1;return e&&(t=n.filter(function(i){return!Zr(i)&&T1(n)}).length===0),e&&t}function z$(n){var e=ko(n)&&!$g(n),t=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<i.length;r+=1)s=i[r],t=t||Dt(n,s);return e&&t}function j$(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function $$(n,e){arguments.length===1&&(arguments[0]?F$(arguments[0])?(n=arguments[0],e=void 0):z$(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||Qt(),i=oy(t,this).startOf("day"),r=de.calendarFormat(this,i)||"sameElse",s=e&&(Mr(e[r])?e[r].call(this,t):e[r]);return this.format(s||this.localeData().calendar(r,this,Qt(t)))}function W$(){return new Cc(this)}function V$(n,e){var t=tr(n)?n:Qt(n);return this.isValid()&&t.isValid()?(e=$i(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function Y$(n,e){var t=tr(n)?n:Qt(n);return this.isValid()&&t.isValid()?(e=$i(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function U$(n,e,t,i){var r=tr(n)?n:Qt(n),s=tr(e)?e:Qt(e);return this.isValid()&&r.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,t):!this.isBefore(r,t))&&(i[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function q$(n,e){var t=tr(n)?n:Qt(n),i;return this.isValid()&&t.isValid()?(e=$i(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(i=t.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function K$(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function J$(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function G$(n,e,t){var i,r,s;if(!this.isValid())return NaN;if(i=oy(n,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,e=$i(e),e){case"year":s=ju(this,i)/12;break;case"month":s=ju(this,i);break;case"quarter":s=ju(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return t?s:Ni(s)}function ju(n,e){if(n.date()<e.date())return-ju(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),i=n.clone().add(t,"months"),r,s;return e-i<0?(r=n.clone().add(t-1,"months"),s=(e-i)/(i-r)):(r=n.clone().add(t+1,"months"),s=(e-i)/(r-i)),-(t+s)||0}de.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";de.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function X$(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Z$(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?Hu(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Mr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Hu(t,"Z")):Hu(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Q$(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,i,r,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+i+r+s)}function eW(n){n||(n=this.isUtc()?de.defaultFormatUtc:de.defaultFormat);var e=Hu(this,n);return this.localeData().postformat(e)}function tW(n,e){return this.isValid()&&(tr(n)&&n.isValid()||Qt(n).isValid())?ir({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function nW(n){return this.from(Qt(),n)}function iW(n,e){return this.isValid()&&(tr(n)&&n.isValid()||Qt(n).isValid())?ir({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function rW(n){return this.to(Qt(),n)}function D1(n){var e;return n===void 0?this._locale._abbr:(e=ts(n),e!=null&&(this._locale=e),this)}var A1=ji("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function P1(){return this._locale}var Vd=1e3,Oa=60*Vd,Yd=60*Oa,R1=(365*400+97)*24*Yd;function Ta(n,e){return(n%e+e)%e}function N1(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-R1:new Date(n,e,t).valueOf()}function I1(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-R1:Date.UTC(n,e,t)}function sW(n){var e,t;if(n=$i(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?I1:N1,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ta(e+(this._isUTC?0:this.utcOffset()*Oa),Yd);break;case"minute":e=this._d.valueOf(),e-=Ta(e,Oa);break;case"second":e=this._d.valueOf(),e-=Ta(e,Vd);break}return this._d.setTime(e),de.updateOffset(this,!0),this}function oW(n){var e,t;if(n=$i(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?I1:N1,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Yd-Ta(e+(this._isUTC?0:this.utcOffset()*Oa),Yd)-1;break;case"minute":e=this._d.valueOf(),e+=Oa-Ta(e,Oa)-1;break;case"second":e=this._d.valueOf(),e+=Vd-Ta(e,Vd)-1;break}return this._d.setTime(e),de.updateOffset(this,!0),this}function aW(){return this._d.valueOf()-(this._offset||0)*6e4}function lW(){return Math.floor(this.valueOf()/1e3)}function cW(){return new Date(this.valueOf())}function uW(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function dW(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function fW(){return this.isValid()?this.toISOString():null}function hW(){return Wg(this)}function pW(){return _s({},lt(this))}function mW(){return lt(this).overflow}function gW(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ve("N",0,0,"eraAbbr");Ve("NN",0,0,"eraAbbr");Ve("NNN",0,0,"eraAbbr");Ve("NNNN",0,0,"eraName");Ve("NNNNN",0,0,"eraNarrow");Ve("y",["y",1],"yo","eraYear");Ve("y",["yy",2],0,"eraYear");Ve("y",["yyy",3],0,"eraYear");Ve("y",["yyyy",4],0,"eraYear");Ce("N",ay);Ce("NN",ay);Ce("NNN",ay);Ce("NNNN",EW);Ce("NNNNN",OW);Ht(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,i){var r=t._locale.erasParse(n,i,t._strict);r?lt(t).era=r:lt(t).invalidEra=n});Ce("y",$a);Ce("yy",$a);Ce("yyy",$a);Ce("yyyy",$a);Ce("yo",TW);Ht(["y","yy","yyy","yyyy"],Jn);Ht(["yo"],function(n,e,t,i){var r;t._locale._eraYearOrdinalRegex&&(r=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Jn]=t._locale.eraYearOrdinalParse(n,r):e[Jn]=parseInt(n,10)});function yW(n,e){var t,i,r,s=this._eras||ts("en")._eras;for(t=0,i=s.length;t<i;++t){switch(typeof s[t].since){case"string":r=de(s[t].since).startOf("day"),s[t].since=r.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":r=de(s[t].until).startOf("day").valueOf(),s[t].until=r.valueOf();break}}return s}function bW(n,e,t){var i,r,s=this.eras(),o,a,l;for(n=n.toUpperCase(),i=0,r=s.length;i<r;++i)if(o=s[i].name.toUpperCase(),a=s[i].abbr.toUpperCase(),l=s[i].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return s[i];break;case"NNNN":if(o===n)return s[i];break;case"NNNNN":if(l===n)return s[i];break}else if([o,a,l].indexOf(n)>=0)return s[i]}function vW(n,e){var t=n.since<=n.until?1:-1;return e===void 0?de(n.since).year():de(n.since).year()+(e-n.offset)*t}function wW(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].name;return""}function xW(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].narrow;return""}function kW(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].abbr;return""}function _W(){var n,e,t,i,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=r[n].since<=r[n].until?1:-1,i=this.clone().startOf("day").valueOf(),r[n].since<=i&&i<=r[n].until||r[n].until<=i&&i<=r[n].since)return(this.year()-de(r[n].since).year())*t+r[n].offset;return this.year()}function SW(n){return Dt(this,"_erasNameRegex")||ly.call(this),n?this._erasNameRegex:this._erasRegex}function MW(n){return Dt(this,"_erasAbbrRegex")||ly.call(this),n?this._erasAbbrRegex:this._erasRegex}function CW(n){return Dt(this,"_erasNarrowRegex")||ly.call(this),n?this._erasNarrowRegex:this._erasRegex}function ay(n,e){return e.erasAbbrRegex(n)}function EW(n,e){return e.erasNameRegex(n)}function OW(n,e){return e.erasNarrowRegex(n)}function TW(n,e){return e._eraYearOrdinalRegex||$a}function ly(){var n=[],e=[],t=[],i=[],r,s,o,a,l,c=this.eras();for(r=0,s=c.length;r<s;++r)o=Jr(c[r].name),a=Jr(c[r].abbr),l=Jr(c[r].narrow),e.push(o),n.push(a),t.push(l),i.push(o),i.push(a),i.push(l);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}Ve(0,["gg",2],0,function(){return this.weekYear()%100});Ve(0,["GG",2],0,function(){return this.isoWeekYear()%100});function If(n,e){Ve(0,[n,n.length],0,e)}If("gggg","weekYear");If("ggggg","weekYear");If("GGGG","isoWeekYear");If("GGGGG","isoWeekYear");Ce("G",Df);Ce("g",Df);Ce("GG",en,Mi);Ce("gg",en,Mi);Ce("GGGG",Jg,Kg);Ce("gggg",Jg,Kg);Ce("GGGGG",Tf,Ef);Ce("ggggg",Tf,Ef);Oc(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,i){e[i.substr(0,2)]=wt(n)});Oc(["gg","GG"],function(n,e,t,i){e[i]=de.parseTwoDigitYear(n)});function DW(n){return L1.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function AW(n){return L1.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function PW(){return Gr(this.year(),1,4)}function RW(){return Gr(this.isoWeekYear(),1,4)}function NW(){var n=this.localeData()._week;return Gr(this.year(),n.dow,n.doy)}function IW(){var n=this.localeData()._week;return Gr(this.weekYear(),n.dow,n.doy)}function L1(n,e,t,i,r){var s;return n==null?fc(this,i,r).year:(s=Gr(n,i,r),e>s&&(e=s),LW.call(this,n,e,t,i,r))}function LW(n,e,t,i,r){var s=m1(n,e,t,i,r),o=dc(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ve("Q",0,"Qo","quarter");Ce("Q",r1);Ht("Q",function(n,e){e[Yr]=(wt(n)-1)*3});function FW(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}Ve("D",["DD",2],"Do","date");Ce("D",en,Wa);Ce("DD",en,Mi);Ce("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ht(["D","DD"],yr);Ht("Do",function(n,e){e[yr]=wt(n.match(en)[0])});var F1=Va("Date",!0);Ve("DDD",["DDDD",3],"DDDo","dayOfYear");Ce("DDD",Of);Ce("DDDD",s1);Ht(["DDD","DDDD"],function(n,e,t){t._dayOfYear=wt(n)});function BW(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}Ve("m",["mm",2],0,"minute");Ce("m",en,Gg);Ce("mm",en,Mi);Ht(["m","mm"],Xi);var HW=Va("Minutes",!1);Ve("s",["ss",2],0,"second");Ce("s",en,Gg);Ce("ss",en,Mi);Ht(["s","ss"],Ur);var zW=Va("Seconds",!1);Ve("S",0,0,function(){return~~(this.millisecond()/100)});Ve(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ve(0,["SSS",3],0,"millisecond");Ve(0,["SSSS",4],0,function(){return this.millisecond()*10});Ve(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ve(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ve(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ve(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ve(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ce("S",Of,r1);Ce("SS",Of,Mi);Ce("SSS",Of,s1);var Ss,B1;for(Ss="SSSS";Ss.length<=9;Ss+="S")Ce(Ss,$a);function jW(n,e){e[ho]=wt(("0."+n)*1e3)}for(Ss="S";Ss.length<=9;Ss+="S")Ht(Ss,jW);B1=Va("Milliseconds",!1);Ve("z",0,0,"zoneAbbr");Ve("zz",0,0,"zoneName");function $W(){return this._isUTC?"UTC":""}function WW(){return this._isUTC?"Coordinated Universal Time":""}var se=Cc.prototype;se.add=I$;se.calendar=$$;se.clone=W$;se.diff=G$;se.endOf=oW;se.format=eW;se.from=tW;se.fromNow=nW;se.to=iW;se.toNow=rW;se.get=Qz;se.invalidAt=mW;se.isAfter=V$;se.isBefore=Y$;se.isBetween=U$;se.isSame=q$;se.isSameOrAfter=K$;se.isSameOrBefore=J$;se.isValid=hW;se.lang=A1;se.locale=D1;se.localeData=P1;se.max=h$;se.min=f$;se.parsingFlags=pW;se.set=ej;se.startOf=sW;se.subtract=L$;se.toArray=uW;se.toObject=dW;se.toDate=cW;se.toISOString=Z$;se.inspect=Q$;typeof Symbol<"u"&&Symbol.for!=null&&(se[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});se.toJSON=fW;se.toString=X$;se.unix=lW;se.valueOf=aW;se.creationData=gW;se.eraName=wW;se.eraNarrow=xW;se.eraAbbr=kW;se.eraYear=_W;se.year=l1;se.isLeapYear=Zz;se.weekYear=DW;se.isoWeekYear=AW;se.quarter=se.quarters=FW;se.month=h1;se.daysInMonth=cj;se.week=se.weeks=yj;se.isoWeek=se.isoWeeks=bj;se.weeksInYear=NW;se.weeksInWeekYear=IW;se.isoWeeksInYear=PW;se.isoWeeksInISOWeekYear=RW;se.date=F1;se.day=se.days=Aj;se.weekday=Pj;se.isoWeekday=Rj;se.dayOfYear=BW;se.hour=se.hours=zj;se.minute=se.minutes=HW;se.second=se.seconds=zW;se.millisecond=se.milliseconds=B1;se.utcOffset=k$;se.utc=S$;se.local=M$;se.parseZone=C$;se.hasAlignedHourOffset=E$;se.isDST=O$;se.isLocal=D$;se.isUtcOffset=A$;se.isUtc=C1;se.isUTC=C1;se.zoneAbbr=$W;se.zoneName=WW;se.dates=ji("dates accessor is deprecated. Use date instead.",F1);se.months=ji("months accessor is deprecated. Use month instead",h1);se.years=ji("years accessor is deprecated. Use year instead",l1);se.zone=ji("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_$);se.isDSTShifted=ji("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",T$);function VW(n){return Qt(n*1e3)}function YW(){return Qt.apply(null,arguments).parseZone()}function H1(n){return n}var At=Yg.prototype;At.calendar=Dz;At.longDateFormat=Nz;At.invalidDate=Lz;At.ordinal=Hz;At.preparse=H1;At.postformat=H1;At.relativeTime=jz;At.pastFuture=$z;At.set=Oz;At.eras=yW;At.erasParse=bW;At.erasConvertYear=vW;At.erasAbbrRegex=MW;At.erasNameRegex=SW;At.erasNarrowRegex=CW;At.months=sj;At.monthsShort=oj;At.monthsParse=lj;At.monthsRegex=dj;At.monthsShortRegex=uj;At.week=hj;At.firstDayOfYear=gj;At.firstDayOfWeek=mj;At.weekdays=Cj;At.weekdaysMin=Oj;At.weekdaysShort=Ej;At.weekdaysParse=Dj;At.weekdaysRegex=Nj;At.weekdaysShortRegex=Ij;At.weekdaysMinRegex=Lj;At.isPM=Bj;At.meridiem=jj;function Ud(n,e,t,i){var r=ts(),s=Sr().set(i,e);return r[t](s,n)}function z1(n,e,t){if(Zr(n)&&(e=n,n=void 0),n=n||"",e!=null)return Ud(n,e,t,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Ud(n,i,t,"month");return r}function cy(n,e,t,i){typeof n=="boolean"?(Zr(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,Zr(e)&&(t=e,e=void 0),e=e||"");var r=ts(),s=n?r._week.dow:0,o,a=[];if(t!=null)return Ud(e,(t+s)%7,i,"day");for(o=0;o<7;o++)a[o]=Ud(e,(o+s)%7,i,"day");return a}function UW(n,e){return z1(n,e,"months")}function qW(n,e){return z1(n,e,"monthsShort")}function KW(n,e,t){return cy(n,e,t,"weekdays")}function JW(n,e,t){return cy(n,e,t,"weekdaysShort")}function GW(n,e,t){return cy(n,e,t,"weekdaysMin")}Ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=wt(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});de.lang=ji("moment.lang is deprecated. Use moment.locale instead.",Ps);de.langData=ji("moment.langData is deprecated. Use moment.localeData instead.",ts);var Nr=Math.abs;function XW(){var n=this._data;return this._milliseconds=Nr(this._milliseconds),this._days=Nr(this._days),this._months=Nr(this._months),n.milliseconds=Nr(n.milliseconds),n.seconds=Nr(n.seconds),n.minutes=Nr(n.minutes),n.hours=Nr(n.hours),n.months=Nr(n.months),n.years=Nr(n.years),this}function j1(n,e,t,i){var r=ir(e,t);return n._milliseconds+=i*r._milliseconds,n._days+=i*r._days,n._months+=i*r._months,n._bubble()}function ZW(n,e){return j1(this,n,e,1)}function QW(n,e){return j1(this,n,e,-1)}function Mw(n){return n<0?Math.floor(n):Math.ceil(n)}function eV(){var n=this._milliseconds,e=this._days,t=this._months,i=this._data,r,s,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=Mw(Tm(t)+e)*864e5,e=0,t=0),i.milliseconds=n%1e3,r=Ni(n/1e3),i.seconds=r%60,s=Ni(r/60),i.minutes=s%60,o=Ni(s/60),i.hours=o%24,e+=Ni(o/24),l=Ni($1(e)),t+=l,e-=Mw(Tm(l)),a=Ni(t/12),t%=12,i.days=e,i.months=t,i.years=a,this}function $1(n){return n*4800/146097}function Tm(n){return n*146097/4800}function tV(n){if(!this.isValid())return NaN;var e,t,i=this._milliseconds;if(n=$i(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+i/864e5,t=this._months+$1(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(Tm(this._months)),n){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+n)}}function ns(n){return function(){return this.as(n)}}var W1=ns("ms"),nV=ns("s"),iV=ns("m"),rV=ns("h"),sV=ns("d"),oV=ns("w"),aV=ns("M"),lV=ns("Q"),cV=ns("y"),uV=W1;function dV(){return ir(this)}function fV(n){return n=$i(n),this.isValid()?this[n+"s"]():NaN}function Io(n){return function(){return this.isValid()?this._data[n]:NaN}}var hV=Io("milliseconds"),pV=Io("seconds"),mV=Io("minutes"),gV=Io("hours"),yV=Io("days"),bV=Io("months"),vV=Io("years");function wV(){return Ni(this.days()/7)}var Hr=Math.round,ya={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xV(n,e,t,i,r){return r.relativeTime(e||1,!!t,n,i)}function kV(n,e,t,i){var r=ir(n).abs(),s=Hr(r.as("s")),o=Hr(r.as("m")),a=Hr(r.as("h")),l=Hr(r.as("d")),c=Hr(r.as("M")),u=Hr(r.as("w")),d=Hr(r.as("y")),f=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(f=f||u<=1&&["w"]||u<t.w&&["ww",u]),f=f||c<=1&&["M"]||c<t.M&&["MM",c]||d<=1&&["y"]||["yy",d],f[2]=e,f[3]=+n>0,f[4]=i,xV.apply(null,f)}function _V(n){return n===void 0?Hr:typeof n=="function"?(Hr=n,!0):!1}function SV(n,e){return ya[n]===void 0?!1:e===void 0?ya[n]:(ya[n]=e,n==="s"&&(ya.ss=e-1),!0)}function MV(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,i=ya,r,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(i=Object.assign({},ya,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),r=this.localeData(),s=kV(this,!t,i,r),t&&(s=r.pastFuture(+this,s)),r.postformat(s)}var yp=Math.abs;function oa(n){return(n>0)-(n<0)||+n}function Lf(){if(!this.isValid())return this.localeData().invalidDate();var n=yp(this._milliseconds)/1e3,e=yp(this._days),t=yp(this._months),i,r,s,o,a=this.asSeconds(),l,c,u,d;return a?(i=Ni(n/60),r=Ni(i/60),n%=60,i%=60,s=Ni(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=oa(this._months)!==oa(a)?"-":"",u=oa(this._days)!==oa(a)?"-":"",d=oa(this._milliseconds)!==oa(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(t?c+t+"M":"")+(e?u+e+"D":"")+(r||i||n?"T":"")+(r?d+r+"H":"")+(i?d+i+"M":"")+(n?d+o+"S":"")):"P0D"}var Mt=Nf.prototype;Mt.isValid=b$;Mt.abs=XW;Mt.add=ZW;Mt.subtract=QW;Mt.as=tV;Mt.asMilliseconds=W1;Mt.asSeconds=nV;Mt.asMinutes=iV;Mt.asHours=rV;Mt.asDays=sV;Mt.asWeeks=oV;Mt.asMonths=aV;Mt.asQuarters=lV;Mt.asYears=cV;Mt.valueOf=uV;Mt._bubble=eV;Mt.clone=dV;Mt.get=fV;Mt.milliseconds=hV;Mt.seconds=pV;Mt.minutes=mV;Mt.hours=gV;Mt.days=yV;Mt.weeks=wV;Mt.months=bV;Mt.years=vV;Mt.humanize=MV;Mt.toISOString=Lf;Mt.toString=Lf;Mt.toJSON=Lf;Mt.locale=D1;Mt.localeData=P1;Mt.toIsoString=ji("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Lf);Mt.lang=A1;Ve("X",0,0,"unix");Ve("x",0,0,"valueOf");Ce("x",Df);Ce("X",Uz);Ht("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});Ht("x",function(n,e,t){t._d=new Date(wt(n))});//! moment.js
de.version="2.30.1";Cz(Qt);de.fn=se;de.min=p$;de.max=m$;de.now=g$;de.utc=Sr;de.unix=VW;de.months=UW;de.isDate=Mc;de.locale=Ps;de.invalid=Cf;de.duration=ir;de.isMoment=tr;de.weekdays=KW;de.parseZone=YW;de.localeData=ts;de.isDuration=zu;de.monthsShort=qW;de.weekdaysMin=GW;de.defineLocale=ty;de.updateLocale=Yj;de.locales=Uj;de.weekdaysShort=JW;de.normalizeUnits=$i;de.relativeTimeRounding=_V;de.relativeTimeThreshold=SV;de.calendarFormat=j$;de.prototype=se;de.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
  * chartjs-adapter-moment v1.0.1
  * https://www.chartjs.org
  * (c) 2022 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const CV={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};NS._date.override(typeof de=="function"?{_id:"moment",formats:function(){return CV},parse:function(n,e){return typeof n=="string"&&typeof e=="string"?n=de(n,e):n instanceof de||(n=de(n)),n.isValid()?n.valueOf():null},format:function(n,e){return de(n).format(e)},add:function(n,e,t){return de(n).add(e,t).valueOf()},diff:function(n,e,t){return de(n).diff(de(e),t)},startOf:function(n,e,t){return n=de(n),e==="isoWeek"?(t=Math.trunc(Math.min(Math.max(0,t),6)),n.isoWeekday(t).startOf("day").valueOf()):n.startOf(e).valueOf()},endOf:function(n,e){return de(n).endOf(e).valueOf()}}:{});const Bi=n=>Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3,notation:"compact"}).format(n),Me=n=>getComputedStyle(document.documentElement).getPropertyValue(n).trim(),EV=(n,e)=>{n=n.replace("#","");const t=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),r=parseInt(n.substring(4,6),16);return`rgba(${t}, ${i}, ${r}, ${e})`},OV=(n,e)=>n.replace("hsl(","hsla(").replace(")",`, ${e})`),TV=(n,e)=>n.replace(/oklch\((.*?)\)/,(t,i)=>`oklch(${i} / ${e})`),un=(n,e)=>{if(n.startsWith("#"))return EV(n,e);if(n.startsWith("hsl"))return OV(n,e);if(n.startsWith("oklch"))return TV(n,e);throw new Error("Unsupported color format")};Xe.register(Ds,Li,Sc,As,xr,Hi,es);const V1=()=>{const n=document.getElementById("dashboard-card-02");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#6B7280",dark:"#9CA3AF"},i={light:"#ffffff",dark:"#374151"},r={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=2").then(s=>s.json()).then(s=>{const o=s.data.slice(0,26),a=s.data.slice(26,52),l=new Xe(n,{type:"line",data:{labels:s.labels,datasets:[{data:o,fill:!0,backgroundColor:function(c){const u=c.chart,{ctx:d,chartArea:f}=u;return Ff(d,f,[{stop:0,color:un(Me("--color-violet-500"),0)},{stop:1,color:un(Me("--color-violet-500"),.2)}])},borderColor:Me("--color-violet-500"),borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:Me("--color-violet-500"),pointHoverBackgroundColor:Me("--color-violet-500"),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2},{data:a,borderColor:un(Me("--color-gray-500"),.25),borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:un(Me("--color-gray-500"),.25),pointHoverBackgroundColor:un(Me("--color-gray-500"),.25),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2}]},options:{layout:{padding:20},scales:{y:{display:!1,beginAtZero:!0},x:{type:"time",time:{parser:"MM-DD-YYYY",unit:"month"},display:!1}},plugins:{tooltip:{callbacks:{title:()=>!1,label:c=>Bi(c.parsed.y)},bodyColor:e?t.dark:t.light,backgroundColor:e?i.dark:i.light,borderColor:e?r.dark:r.light},legend:{display:!1}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1}});document.addEventListener("darkMode",c=>{const{mode:u}=c.detail;u==="on"?(l.options.plugins.tooltip.bodyColor=t.dark,l.options.plugins.tooltip.backgroundColor=i.dark,l.options.plugins.tooltip.borderColor=r.dark):(l.options.plugins.tooltip.bodyColor=t.light,l.options.plugins.tooltip.backgroundColor=i.light,l.options.plugins.tooltip.borderColor=r.light),l.update("none")})})};Xe.register(Ds,Li,Sc,As,xr,Hi,es);const Y1=()=>{const n=document.getElementById("dashboard-card-03");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#6B7280",dark:"#9CA3AF"},i={light:"#ffffff",dark:"#374151"},r={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=3").then(s=>s.json()).then(s=>{const o=s.data.slice(0,26),a=s.data.slice(26,52),l=new Xe(n,{type:"line",data:{labels:s.labels,datasets:[{data:o,fill:!0,backgroundColor:function(c){const u=c.chart,{ctx:d,chartArea:f}=u;return Ff(d,f,[{stop:0,color:un(Me("--color-violet-500"),0)},{stop:1,color:un(Me("--color-violet-500"),.2)}])},borderColor:Me("--color-violet-500"),borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:Me("--color-violet-500"),pointHoverBackgroundColor:Me("--color-violet-500"),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2},{data:a,borderColor:un(Me("--color-gray-500"),.25),borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:un(Me("--color-gray-500"),.25),pointHoverBackgroundColor:un(Me("--color-gray-500"),.25),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2}]},options:{layout:{padding:20},scales:{y:{display:!1,beginAtZero:!0},x:{type:"time",time:{parser:"MM-DD-YYYY",unit:"month"},display:!1}},plugins:{tooltip:{callbacks:{title:()=>!1,label:c=>Bi(c.parsed.y)},bodyColor:e?t.dark:t.light,backgroundColor:e?i.dark:i.light,borderColor:e?r.dark:r.light},legend:{display:!1}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1}});document.addEventListener("darkMode",c=>{const{mode:u}=c.detail;u==="on"?(l.options.plugins.tooltip.bodyColor=t.dark,l.options.plugins.tooltip.backgroundColor=i.dark,l.options.plugins.tooltip.borderColor=r.dark):(l.options.plugins.tooltip.bodyColor=t.light,l.options.plugins.tooltip.backgroundColor=i.light,l.options.plugins.tooltip.borderColor=r.light),l.update("none")})})};Xe.register(_a,Sa,xr,Hi,es,jg);const U1=()=>{const n=document.getElementById("dashboard-card-04");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#9CA3AF",dark:"#6B7280"},i={light:"#F3F4F6",dark:un("#374151",.6)},r={light:"#6B7280",dark:"#9CA3AF"},s={light:"#ffffff",dark:"#374151"},o={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=4").then(a=>a.json()).then(a=>{const l=a.data.slice(0,6),c=a.data.slice(6),u=new Xe(n,{type:"bar",data:{labels:a.labels.slice(0,6),datasets:[{label:"Direct",data:l,backgroundColor:Me("--color-sky-500"),hoverBackgroundColor:Me("--color-sky-600"),barPercentage:.7,categoryPercentage:.7,borderRadius:4},{label:"Indirect",data:c,backgroundColor:Me("--color-violet-500"),hoverBackgroundColor:Me("--color-violet-600"),barPercentage:.7,categoryPercentage:.7,borderRadius:4}]},options:{layout:{padding:{top:12,bottom:16,left:20,right:20}},scales:{y:{border:{display:!1},ticks:{maxTicksLimit:5,callback:d=>Bi(d),color:e?t.dark:t.light},grid:{color:e?i.dark:i.light}},x:{type:"time",time:{parser:"MM-DD-YYYY",unit:"month",displayFormats:{month:"MMM YY"}},border:{display:!1},grid:{display:!1},ticks:{color:e?t.dark:t.light}}},plugins:{legend:{display:!1},htmlLegend:{containerID:"dashboard-card-04-legend"},tooltip:{callbacks:{title:()=>!1,label:d=>Bi(d.parsed.y)},bodyColor:e?r.dark:r.light,backgroundColor:e?s.dark:s.light,borderColor:e?o.dark:o.light}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:200},maintainAspectRatio:!1},plugins:[{id:"htmlLegend",afterUpdate(d,f,p){const g=document.getElementById(p.containerID).querySelector("ul");if(!g)return;for(;g.firstChild;)g.firstChild.remove();d.options.plugins.legend.labels.generateLabels(d).forEach(v=>{const x=document.createElement("li"),S=document.createElement("button");S.style.display="inline-flex",S.style.alignItems="center",S.style.opacity=v.hidden?".3":"",S.onclick=()=>{d.setDatasetVisibility(v.datasetIndex,!d.isDatasetVisible(v.datasetIndex)),d.update()};const O=document.createElement("span");O.style.display="block",O.style.width="12px",O.style.height="12px",O.style.borderRadius="calc(infinity * 1px)",O.style.marginRight="8px",O.style.borderWidth="3px",O.style.borderColor=v.fillStyle,O.style.pointerEvents="none";const T=document.createElement("span");T.style.display="flex",T.style.alignItems="center";const A=document.createElement("span");A.classList.add("text-gray-800","dark:text-gray-100"),A.style.fontSize="30px",A.style.lineHeight="calc(2.25 / 1.875)",A.style.fontWeight="700",A.style.marginRight="8px",A.style.pointerEvents="none";const D=document.createElement("span");D.classList.add("text-gray-500","dark:text-gray-400"),D.style.fontSize="14px",D.style.lineHeight="calc(1.25 / 0.875)";const P=d.data.datasets[v.datasetIndex].data.reduce((ee,U)=>ee+U,0),B=document.createTextNode(Bi(P)),Y=document.createTextNode(v.text);A.appendChild(B),D.appendChild(Y),x.appendChild(S),S.appendChild(O),S.appendChild(T),T.appendChild(A),T.appendChild(D),g.appendChild(x)})}}]});document.addEventListener("darkMode",d=>{const{mode:f}=d.detail;f==="on"?(u.options.scales.x.ticks.color=t.dark,u.options.scales.y.ticks.color=t.dark,u.options.scales.y.grid.color=i.dark,u.options.plugins.tooltip.bodyColor=r.dark,u.options.plugins.tooltip.backgroundColor=s.dark,u.options.plugins.tooltip.borderColor=o.dark):(u.options.scales.x.ticks.color=t.light,u.options.scales.y.ticks.color=t.light,u.options.scales.y.grid.color=i.light,u.options.plugins.tooltip.bodyColor=r.light,u.options.plugins.tooltip.backgroundColor=s.light,u.options.plugins.tooltip.borderColor=o.light),u.update("none")})})};Xe.register(Ds,Li,Sc,As,xr,Hi,es);const q1=()=>{const n=document.getElementById("dashboard-card-05");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#9CA3AF",dark:"#6B7280"},i={light:"#F3F4F6",dark:un("#374151",.6)},r={light:"#1F2937",dark:"#F3F4F6"},s={light:"#6B7280",dark:"#9CA3AF"},o={light:"#ffffff",dark:"#374151"},a={light:"#E5E7EB",dark:"#4B5563"};let l=35,c=0;fetch("/json-data-feed?datatype=5&limit="+l).then(u=>u.json()).then(u=>{const f=(()=>{const O=new Date,T=[];return u.data.forEach((A,D)=>{T.push(new Date(O-2e3-D*2e3))}),T})(),p=u.data.slice(0,l),m=f.slice(0,l).reverse(),g=new Xe(n,{type:"line",data:{labels:m,datasets:[{data:p,fill:!0,backgroundColor:function(O){const T=O.chart,{ctx:A,chartArea:D}=T;return Ff(A,D,[{stop:0,color:un(Me("--color-violet-500"),0)},{stop:1,color:un(Me("--color-violet-500"),.2)}])},borderColor:Me("--color-violet-500"),borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:Me("--color-violet-500"),pointHoverBackgroundColor:Me("--color-violet-500"),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2}]},options:{layout:{padding:20},scales:{y:{border:{display:!1},suggestedMin:30,suggestedMax:80,ticks:{maxTicksLimit:5,callback:O=>Bi(O),color:e?t.dark:t.light},grid:{color:e?i.dark:i.light}},x:{type:"time",time:{parser:"hh:mm:ss",unit:"second",tooltipFormat:"MMM DD, H:mm:ss a",displayFormats:{second:"H:mm:ss"}},border:{display:!1},grid:{display:!1},ticks:{autoSkipPadding:48,maxRotation:0,color:e?t.dark:t.light}}},plugins:{legend:{display:!1},tooltip:{titleFont:{weight:600},callbacks:{label:O=>Bi(O.parsed.y)},titleColor:e?r.dark:r.light,bodyColor:e?s.dark:s.light,backgroundColor:e?o.dark:o.light,borderColor:e?a.dark:a.light}},interaction:{intersect:!1,mode:"nearest"},animation:!1,maintainAspectRatio:!1}}),y=document.getElementById("dashboard-card-05-value"),v=document.getElementById("dashboard-card-05-deviation"),x=(O=NaN,T)=>{const{datasets:A}=g.data;if(g.data.labels.shift(),g.data.labels.push(new Date),A[0].data.shift(),A[0].data.push(O),g.update(0),!y)return;const D=(O-T)/T*100;y.innerHTML=O,v&&(D<0?(v.style.backgroundColor=un(Me("--color-red-500"),.2),v.style.color=Me("--color-red-700")):(v.style.backgroundColor=un(Me("--color-green-500"),.2),v.style.color=Me("--color-green-700")),v.innerHTML=`${D>0?"+":""}${D.toFixed(2)}%`)},S=()=>{c+=1,c+l-1<u.data.length?x(u.data[c+l-1],u.data[c+l-2]):(c=0,l=1,x(u.data[c+l-1],u.data[u.data.length-1])),setTimeout(S,2e3)};S(),document.addEventListener("darkMode",O=>{const{mode:T}=O.detail;T==="on"?(g.options.scales.x.ticks.color=t.dark,g.options.scales.y.ticks.color=t.dark,g.options.scales.y.grid.color=i.dark,g.options.plugins.tooltip.titleColor=r.dark,g.options.plugins.tooltip.bodyColor=s.dark,g.options.plugins.tooltip.backgroundColor=o.dark,g.options.plugins.tooltip.borderColor=a.dark):(g.options.scales.x.ticks.color=t.light,g.options.scales.y.ticks.color=t.light,g.options.scales.y.grid.color=i.light,g.options.plugins.tooltip.titleColor=r.light,g.options.plugins.tooltip.bodyColor=s.light,g.options.plugins.tooltip.backgroundColor=o.light,g.options.plugins.tooltip.borderColor=a.light),g.update("none")})})};Xe.register(xl,_l,Hi,es);const K1=()=>{const n=document.getElementById("dashboard-card-06");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#1F2937",dark:"#F3F4F6"},i={light:"#6B7280",dark:"#9CA3AF"},r={light:"#ffffff",dark:"#374151"},s={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=6").then(o=>o.json()).then(o=>{const a=new Xe(n,{type:"doughnut",data:{labels:o.labels,datasets:[{label:"Top Countries",data:o.data,backgroundColor:[Me("--color-violet-500"),Me("--color-sky-500"),Me("--color-violet-800")],hoverBackgroundColor:[Me("--color-violet-600"),Me("--color-sky-600"),Me("--color-violet-900")],borderWidth:0}]},options:{cutout:"80%",layout:{padding:24},plugins:{legend:{display:!1},tooltip:{titleColor:e?t.dark:t.light,bodyColor:e?i.dark:i.light,backgroundColor:e?r.dark:r.light,borderColor:e?s.dark:s.light},htmlLegend:{containerID:"dashboard-card-06-legend"}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:200},maintainAspectRatio:!1},plugins:[{id:"htmlLegend",afterUpdate(l,c,u){const f=document.getElementById(u.containerID).querySelector("ul");if(!f)return;for(;f.firstChild;)f.firstChild.remove();l.options.plugins.legend.labels.generateLabels(l).forEach(m=>{const g=document.createElement("li");g.style.margin="4px";const y=document.createElement("button");y.classList.add("btn-xs","bg-white","dark:bg-gray-700","text-gray-500","dark:text-gray-400","shadow-xs","shadow-black/[0.08]","rounded-full"),y.style.opacity=m.hidden?".3":"",y.onclick=()=>{l.toggleDataVisibility(m.index,!m.index),l.update()};const v=document.createElement("span");v.style.display="block",v.style.width="8px",v.style.height="8px",v.style.backgroundColor=m.fillStyle,v.style.borderRadius="4px",v.style.marginRight="4px",v.style.pointerEvents="none";const x=document.createElement("span");x.style.display="flex",x.style.alignItems="center";const S=document.createTextNode(m.text);x.appendChild(S),g.appendChild(y),y.appendChild(v),y.appendChild(x),f.appendChild(g)})}}]});document.addEventListener("darkMode",l=>{const{mode:c}=l.detail;c==="on"?(a.options.plugins.tooltip.titleColor=t.dark,a.options.plugins.tooltip.bodyColor=i.dark,a.options.plugins.tooltip.backgroundColor=r.dark,a.options.plugins.tooltip.borderColor=s.dark):(a.options.plugins.tooltip.titleColor=t.light,a.options.plugins.tooltip.bodyColor=i.light,a.options.plugins.tooltip.backgroundColor=r.light,a.options.plugins.tooltip.borderColor=s.light),a.update("none")})})};Xe.register(Ds,Li,Sc,As,xr,Hi,es);const J1=()=>{const n=document.getElementById("dashboard-card-08");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#9CA3AF",dark:"#6B7280"},i={light:"#F3F4F6",dark:un("#374151",.6)},r={light:"#6B7280",dark:"#9CA3AF"},s={light:"#ffffff",dark:"#374151"},o={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=8").then(a=>a.json()).then(a=>{const l=a.data.splice(0,26),c=a.data.splice(0,26),u=a.data,d=new Xe(n,{type:"line",data:{labels:a.labels,datasets:[{label:"Current",data:l,borderColor:Me("--color-violet-500"),fill:!1,borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:Me("--color-violet-500"),pointHoverBackgroundColor:Me("--color-violet-500"),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2},{label:"Previous",data:c,borderColor:Me("--color-sky-500"),fill:!1,borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:Me("--color-sky-500"),pointHoverBackgroundColor:Me("--color-sky-500"),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2},{label:"Average",data:u,borderColor:Me("--color-green-500"),fill:!1,borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:Me("--color-green-500"),pointHoverBackgroundColor:Me("--color-green-500"),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2}]},options:{layout:{padding:20},scales:{y:{beginAtZero:!0,border:{display:!1},ticks:{maxTicksLimit:5,callback:f=>Bi(f),color:e?t.dark:t.light},grid:{color:e?i.dark:i.light}},x:{type:"time",time:{parser:"MM-DD-YYYY",unit:"month",displayFormats:{month:"MMM YY"}},border:{display:!1},grid:{display:!1},ticks:{autoSkipPadding:48,maxRotation:0,color:e?t.dark:t.light}}},plugins:{legend:{display:!1},htmlLegend:{containerID:"dashboard-card-08-legend"},tooltip:{callbacks:{title:()=>!1,label:f=>Bi(f.parsed.y)},bodyColor:e?r.dark:r.light,backgroundColor:e?s.dark:s.light,borderColor:e?o.dark:o.light}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1},plugins:[{id:"htmlLegend",afterUpdate(f,p,m){const y=document.getElementById(m.containerID).querySelector("ul");if(!y)return;for(;y.firstChild;)y.firstChild.remove();f.options.plugins.legend.labels.generateLabels(f).slice(0,2).forEach(x=>{const S=document.createElement("li"),O=document.createElement("button");O.style.display="inline-flex",O.style.alignItems="center",O.style.opacity=x.hidden?".3":"",O.onclick=()=>{f.setDatasetVisibility(x.datasetIndex,!f.isDatasetVisible(x.datasetIndex)),f.update()};const T=document.createElement("span");T.style.display="block",T.style.width="12px",T.style.height="12px",T.style.borderRadius="calc(infinity * 1px)",T.style.marginRight="8px",T.style.borderWidth="3px",T.style.borderColor=f.data.datasets[x.datasetIndex].borderColor,T.style.pointerEvents="none";const A=document.createElement("span");A.classList.add("text-gray-500","dark:text-gray-400"),A.style.fontSize="14px",A.style.lineHeight="calc(1.25 / 0.875)";const D=document.createTextNode(x.text);A.appendChild(D),S.appendChild(O),O.appendChild(T),O.appendChild(A),y.appendChild(S)})}}]});document.addEventListener("darkMode",f=>{const{mode:p}=f.detail;p==="on"?(d.options.scales.x.ticks.color=t.dark,d.options.scales.y.ticks.color=t.dark,d.options.scales.y.grid.color=i.dark,d.options.plugins.tooltip.bodyColor=r.dark,d.options.plugins.tooltip.backgroundColor=s.dark,d.options.plugins.tooltip.borderColor=o.dark):(d.options.scales.x.ticks.color=t.light,d.options.scales.y.ticks.color=t.light,d.options.scales.y.grid.color=i.light,d.options.plugins.tooltip.bodyColor=r.light,d.options.plugins.tooltip.backgroundColor=s.light,d.options.plugins.tooltip.borderColor=o.light),d.update("none")})})};Xe.register(_a,Sa,xr,Hi,es,jg);const G1=()=>{const n=document.getElementById("dashboard-card-09");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#9CA3AF",dark:"#6B7280"},i={light:"#F3F4F6",dark:un("#374151",.6)},r={light:"#6B7280",dark:"#9CA3AF"},s={light:"#ffffff",dark:"#374151"},o={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=9").then(a=>a.json()).then(a=>{const l=a.data.splice(0,6),c=a.data,u=new Xe(n,{type:"bar",data:{labels:a.labels,datasets:[{label:"Stack 1",data:l,backgroundColor:Me("--color-violet-500"),hoverBackgroundColor:Me("--color-violet-600"),barPercentage:.7,categoryPercentage:.7,borderRadius:4},{label:"Stack 2",data:c,backgroundColor:Me("--color-violet-200"),hoverBackgroundColor:Me("--color-violet-300"),barPercentage:.7,categoryPercentage:.7,borderRadius:4}]},options:{layout:{padding:{top:12,bottom:16,left:20,right:20}},scales:{y:{stacked:!0,border:{display:!1},beginAtZero:!0,ticks:{maxTicksLimit:5,callback:d=>Bi(d),color:e?t.dark:t.light},grid:{color:e?i.dark:i.light}},x:{stacked:!0,type:"time",time:{parser:"MM-DD-YYYY",unit:"month",displayFormats:{month:"MMM YY"}},border:{display:!1},grid:{display:!1},ticks:{autoSkipPadding:48,maxRotation:0,color:e?t.dark:t.light}}},plugins:{legend:{display:!1},tooltip:{callbacks:{title:()=>!1,label:d=>Bi(d.parsed.y)},bodyColor:e?r.dark:r.light,backgroundColor:e?s.dark:s.light,borderColor:e?o.dark:o.light}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:200},maintainAspectRatio:!1}});document.addEventListener("darkMode",d=>{const{mode:f}=d.detail;f==="on"?(u.options.scales.x.ticks.color=t.dark,u.options.scales.y.ticks.color=t.dark,u.options.scales.y.grid.color=i.dark,u.options.plugins.tooltip.bodyColor=r.dark,u.options.plugins.tooltip.backgroundColor=s.dark,u.options.plugins.tooltip.borderColor=o.dark):(u.options.scales.x.ticks.color=t.light,u.options.scales.y.ticks.color=t.light,u.options.scales.y.grid.color=i.light,u.options.plugins.tooltip.bodyColor=r.light,u.options.plugins.tooltip.backgroundColor=s.light,u.options.plugins.tooltip.borderColor=o.light),u.update("none")})})};Xe.register(_a,Sa,xr,xm,es,jg);const X1=()=>{const n=document.getElementById("dashboard-card-11");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#6B7280",dark:"#9CA3AF"},i={light:"#ffffff",dark:"#374151"},r={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=10").then(s=>s.json()).then(s=>{const o=(m,g)=>m+g,a=s.data.reduce(o),l=s.data.splice(0,1),c=s.data.splice(0,1),u=s.data.splice(0,1),d=s.data.splice(0,1),f=s.data,p=new Xe(n,{type:"bar",data:{labels:s.labels,datasets:[{label:"Having difficulties using the product",data:l,backgroundColor:Me("--color-violet-500"),hoverBackgroundColor:Me("--color-violet-600"),barPercentage:1,categoryPercentage:1},{label:"Missing features I need",data:c,backgroundColor:Me("--color-violet-700"),hoverBackgroundColor:Me("--color-violet-800"),barPercentage:1,categoryPercentage:1},{label:"Not satisfied about the quality of the product",data:u,backgroundColor:Me("--color-sky-500"),hoverBackgroundColor:Me("--color-sky-600"),barPercentage:1,categoryPercentage:1},{label:"The product doesnt look as advertised",data:d,backgroundColor:Me("--color-green-500"),hoverBackgroundColor:Me("--color-green-600"),barPercentage:1,categoryPercentage:1},{label:"Other",data:f,backgroundColor:Me("--color-gray-200"),hoverBackgroundColor:Me("--color-gray-300"),barPercentage:1,categoryPercentage:1}]},options:{indexAxis:"y",layout:{padding:{top:12,bottom:12,left:20,right:20}},scales:{x:{stacked:!0,display:!1,max:a},y:{stacked:!0,display:!1}},plugins:{legend:{display:!1},htmlLegend:{containerID:"dashboard-card-11-legend"},tooltip:{callbacks:{title:()=>!1,label:m=>m.parsed.x},bodyColor:e?t.dark:t.light,backgroundColor:e?i.dark:i.light,borderColor:e?r.dark:r.light}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:500},maintainAspectRatio:!1,resizeDelay:200},plugins:[{id:"htmlLegend",afterUpdate(m,g,y){const x=document.getElementById(y.containerID).querySelector("ul");if(!x)return;for(;x.firstChild;)x.firstChild.remove();m.options.plugins.legend.labels.generateLabels(m).forEach(O=>{const T=document.createElement("li");T.style.display="flex",T.style.justifyContent="space-between",T.style.alignItems="center",T.style.paddingTop="10px",T.style.paddingBottom="10px";const A=document.createElement("div");A.style.display="flex",A.style.alignItems="center";const D=document.createElement("div");D.style.width="12px",D.style.height="12px",D.style.borderRadius="4px",D.style.marginRight="12px",D.style.backgroundColor=O.fillStyle;const P=document.createElement("div"),B=document.createElement("div");B.style.fontWeight="500",B.style.marginLeft="12px",B.style.color=O.text==="Other"?Me("--color-gray-400"):O.fillStyle;const Y=m.data.datasets[O.datasetIndex].data.reduce((me,Ze)=>me+Ze,0),ee=document.createTextNode(`${parseInt(Y/a*100)}%`),U=document.createTextNode(O.text);B.appendChild(ee),P.appendChild(U),x.appendChild(T),T.appendChild(A),T.appendChild(B),A.appendChild(D),A.appendChild(P)})}}]});document.addEventListener("darkMode",m=>{const{mode:g}=m.detail;g==="on"?(p.options.plugins.tooltip.bodyColor=t.dark,p.options.plugins.tooltip.backgroundColor=i.dark,p.options.plugins.tooltip.borderColor=r.dark):(p.options.plugins.tooltip.bodyColor=t.light,p.options.plugins.tooltip.backgroundColor=i.light,p.options.plugins.tooltip.borderColor=r.light),p.update("none")})})};Xd.start();Xe.defaults.font.family='"Inter", sans-serif';Xe.defaults.font.weight=500;Xe.defaults.plugins.tooltip.borderWidth=1;Xe.defaults.plugins.tooltip.displayColors=!1;Xe.defaults.plugins.tooltip.mode="nearest";Xe.defaults.plugins.tooltip.intersect=!1;Xe.defaults.plugins.tooltip.position="nearest";Xe.defaults.plugins.tooltip.caretSize=0;Xe.defaults.plugins.tooltip.caretPadding=20;Xe.defaults.plugins.tooltip.cornerRadius=8;Xe.defaults.plugins.tooltip.padding=8;const Ff=(n,e,t)=>{if(!n||!e||!t||t.length===0)return"transparent";const i=n.createLinearGradient(0,e.bottom,0,e.top);return t.forEach(({stop:r,color:s})=>{i.addColorStop(r,s)}),i};Xe.register({id:"chartAreaPlugin",beforeDraw:n=>{if(n.config.options.chartArea&&n.config.options.chartArea.backgroundColor){const e=n.canvas.getContext("2d"),{chartArea:t}=n;e.save(),e.fillStyle=n.config.options.chartArea.backgroundColor,e.fillRect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.restore()}}});document.addEventListener("DOMContentLoaded",()=>{gn(".datepicker",{mode:"range",static:!0,monthSelectorType:"static",dateFormat:"M j, Y",defaultDate:[new Date().setDate(new Date().getDate()-6),new Date],prevArrow:'<svg class="fill-current" width="7" height="11" viewBox="0 0 7 11"><path d="M5.4 10.8l1.4-1.4-4-4 4-4L5.4 0 0 5.4z" /></svg>',nextArrow:'<svg class="fill-current" width="7" height="11" viewBox="0 0 7 11"><path d="M1.4 10.8L0 9.4l4-4-4-4L1.4 0l5.4 5.4z" /></svg>',onReady:(n,e,t)=>{t.element.value=e.replace("to","-");const i=t.element.getAttribute("data-class");t.calendarContainer.classList.add(i)},onChange:(n,e,t)=>{t.element.value=e.replace("to","-")}}),Z1(),V1(),Y1(),U1(),q1(),K1(),J1(),G1(),X1()});Xe.register(Ds,Li,Sc,As,xr,Hi,es);const Z1=()=>{const n=document.getElementById("dashboard-card-01");if(!n)return;const e=localStorage.getItem("dark-mode")==="true",t={light:"#6B7280",dark:"#9CA3AF"},i={light:"#ffffff",dark:"#374151"},r={light:"#E5E7EB",dark:"#4B5563"};fetch("/json-data-feed?datatype=1").then(s=>s.json()).then(s=>{const o=s.data.slice(0,26),a=s.data.slice(26,52),l=new Xe(n,{type:"line",data:{labels:s.labels,datasets:[{data:o,fill:!0,backgroundColor:function(c){const u=c.chart,{ctx:d,chartArea:f}=u;return Ff(d,f,[{stop:0,color:un(Me("--color-violet-500"),0)},{stop:1,color:un(Me("--color-violet-500"),.2)}])},borderColor:Me("--color-violet-500"),borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:Me("--color-violet-500"),pointHoverBackgroundColor:Me("--color-violet-500"),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2},{data:a,borderColor:un(Me("--color-gray-500"),.25),borderWidth:2,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:un(Me("--color-gray-500"),.25),pointHoverBackgroundColor:un(Me("--color-gray-500"),.25),pointBorderWidth:0,pointHoverBorderWidth:0,clip:20,tension:.2}]},options:{layout:{padding:20},scales:{y:{display:!1,beginAtZero:!0},x:{type:"time",time:{parser:"MM-DD-YYYY",unit:"month"},display:!1}},plugins:{tooltip:{callbacks:{title:()=>!1,label:c=>Bi(c.parsed.y)},bodyColor:e?t.dark:t.light,backgroundColor:e?i.dark:i.light,borderColor:e?r.dark:r.light},legend:{display:!1}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1}});document.addEventListener("darkMode",c=>{const{mode:u}=c.detail;u==="on"?(l.options.plugins.tooltip.bodyColor=t.dark,l.options.plugins.tooltip.backgroundColor=i.dark,l.options.plugins.tooltip.borderColor=r.dark):(l.options.plugins.tooltip.bodyColor=t.light,l.options.plugins.tooltip.backgroundColor=i.light,l.options.plugins.tooltip.borderColor=r.light),l.update("none")})})};Xd.start();Xe.defaults.font.family='"Inter", sans-serif';Xe.defaults.font.weight=500;Xe.defaults.plugins.tooltip.borderWidth=1;Xe.defaults.plugins.tooltip.displayColors=!1;Xe.defaults.plugins.tooltip.mode="nearest";Xe.defaults.plugins.tooltip.intersect=!1;Xe.defaults.plugins.tooltip.position="nearest";Xe.defaults.plugins.tooltip.caretSize=0;Xe.defaults.plugins.tooltip.caretPadding=20;Xe.defaults.plugins.tooltip.cornerRadius=8;Xe.defaults.plugins.tooltip.padding=8;Xe.register({id:"chartAreaPlugin",beforeDraw:n=>{if(n.config.options.chartArea&&n.config.options.chartArea.backgroundColor){const e=n.canvas.getContext("2d"),{chartArea:t}=n;e.save(),e.fillStyle=n.config.options.chartArea.backgroundColor,e.fillRect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.restore()}}});document.addEventListener("DOMContentLoaded",()=>{gn(".datepicker",{mode:"range",static:!0,monthSelectorType:"static",dateFormat:"M j, Y",defaultDate:[new Date().setDate(new Date().getDate()-6),new Date],prevArrow:'<svg class="fill-current" width="7" height="11" viewBox="0 0 7 11"><path d="M5.4 10.8l1.4-1.4-4-4 4-4L5.4 0 0 5.4z" /></svg>',nextArrow:'<svg class="fill-current" width="7" height="11" viewBox="0 0 7 11"><path d="M1.4 10.8L0 9.4l4-4-4-4L1.4 0l5.4 5.4z" /></svg>',onReady:(n,e,t)=>{t.element.value=e.replace("to","-");const i=t.element.getAttribute("data-class");t.calendarContainer.classList.add(i)},onChange:(n,e,t)=>{t.element.value=e.replace("to","-")}}),Z1(),V1(),Y1(),U1(),q1(),K1(),J1(),G1(),X1()})});export default DV();
